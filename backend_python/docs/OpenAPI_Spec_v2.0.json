"""OpenAPI_Spec_v2.0.json æ ¸å¿ƒè§„åˆ’è¯´æ˜
å¼‚æ­¥ä»»åŠ¡æ¼”è¿›ï¼šå°† /api/perform-brand-test å‡çº§ä¸ºä»»åŠ¡æäº¤æ¨¡å¼ï¼Œé…åˆ /api/v2/test/status å®ç°åˆ†æ¨¡å—è¿›åº¦å›ä¼ ï¼ˆå¦‚ï¼šæŠ“å–ä¸­ã€æ’ä½åˆ†æä¸­ã€ä¿¡æºæº¯æºä¸­ï¼‰ã€‚

æƒ…æŠ¥æ•°æ®æ·±åº¦è§£è€¦ï¼šåœ¨æµ‹è¯•ç»“æœä¸­å¼•å…¥äº† exposure_analysisï¼ˆéœ²å‡ºæ’ä½ï¼‰ã€source_intelligenceï¼ˆä¿¡æºèšåˆï¼‰å’Œ evidence_chainï¼ˆè¯æ®é“¾é”šç‚¹ï¼‰ä¸‰ä¸ªæ ¸å¿ƒå¯¹è±¡ã€‚

å·¡èˆªä¸é¢„è­¦èƒ½åŠ›ï¼šæ–°å¢äº† /api/v2/cruise æ¥å£æ—ï¼Œæ”¯æŒè®¾ç½®è‡ªåŠ¨åŒ–ç›‘æµ‹ä»»åŠ¡ã€‚
"""


{
  "openapi": "3.0.1",
  "info": {
    "title": "è¿›åŒ–æ¹¾GEOå“ç‰ŒAIé›·è¾¾ API",
    "description": "å›½é™…é¡¶çº§æ¶æ„å¸ˆé‡æ„ç‰ˆï¼šæ”¯æŒå¤šç»´æ’ä½åˆ†æã€æ·±åº¦ä¿¡æºå½’å› åŠè‡ªåŠ¨åŒ–å·¡èˆªç›‘æµ‹ã€‚",
    "version": "2.0.0"
  },
  "servers": [
    { "url": "https://api.evobay-geo.com/api/v2" }
  ],
  "paths": {
    "/login": {
      "post": {
        "summary": "å¾®ä¿¡ç™»å½•åŠé‰´æƒ",
        "tags": ["Auth"],
        "responses": {
          "200": { "description": "è¿”å›JWT TokenåŠç”¨æˆ·ä¿¡æ¯" }
        }
      }
    },
    "/test/submit": {
      "post": {
        "summary": "æäº¤å“ç‰ŒAIè¯Šæ–­ä»»åŠ¡ (å¼‚æ­¥)",
        "tags": ["Diagnostic"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "brand_list": { "type": "array", "items": { "type": "string" } },
                  "selectedModels": { "type": "array", "items": { "type": "object" } },
                  "customQuestions": { "type": "array", "items": { "type": "string" } }
                }
              }
            }
          }
        },
        "responses": {
          "202": { "description": "ä»»åŠ¡å·²æ¥æ”¶ï¼Œè¿”å›task_id" }
        }
      }
    },
    "/test/status/{task_id}": {
      "get": {
        "summary": "è½®è¯¢è¯Šæ–­ä»»åŠ¡è¿›åº¦åŠå„æ¨¡å—çŠ¶æ€",
        "tags": ["Diagnostic"],
        "parameters": [
          { "name": "task_id", "in": "path", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "progress": { "type": "integer" },
                    "current_stage": { "type": "string", "example": "source_tracing" },
                    "is_completed": { "type": "boolean" }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/test/result/{task_id}": {
      "get": {
        "summary": "è·å–æ·±åº¦ç©¿é€æƒ…æŠ¥ç»“æœ (æ ¸å¿ƒå¥‘çº¦)",
        "tags": ["Diagnostic"],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/DeepIntelligenceResult" }
              }
            }
          }
        }
      }
    },
    "/source/detail/{source_id}": {
      "get": {
        "summary": "ä¿¡æºæ·±åº¦ç”»åƒåŠå†å²å¼•ç”¨æº¯æº",
        "tags": ["Intelligence"],
        "responses": {
          "200": { "description": "è¿”å›è¯¥ä¿¡æºçš„æƒé‡ã€å…³è”å“ç‰ŒåŠå†å²è¡¨ç°" }
        }
      }
    },
    "/cruise/config": {
      "post": {
        "summary": "é…ç½®è‡ªåŠ¨åŒ–å·¡èˆªç›‘æµ‹ä»»åŠ¡",
        "tags": ["Cruise"],
        "responses": {
          "200": { "description": "å·¡èˆªé…ç½®æˆåŠŸ" }
        }
      }
    },
    "/cruise/trends": {
      "get": {
        "summary": "è·å–å“ç‰Œæ’åä¸SOVéšæ—¶é—´å˜åŒ–çš„è¶‹åŠ¿æ•°æ®",
        "tags": ["Cruise"],
        "responses": {
          "200": { "description": "è¿”å›å†å²è¶‹åŠ¿å›¾è¡¨æ•°æ®" }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "DeepIntelligenceResult": {
        "type": "object",
        "properties": {
          "exposure_analysis": {
            "type": "object",
            "properties": {
              "ranking_list": { "type": "array", "items": { "type": "string" }, "description": "AIå›å¤ä¸­å“ç‰Œçš„ç»å¯¹ç‰©ç†ä½æ¬¡" },
              "sov_share": { "type": "object", "additionalProperties": { "type": "number" }, "description": "å“ç‰Œç¯‡å¹…å æ¯” (Share of Voice)" },
              "unlisted_competitors": { "type": "array", "items": { "type": "string" }, "description": "AIè‡ªåŠ¨æåŠä½†åœ¨ç›‘æ§åˆ—è¡¨å¤–çš„å¯¹æ‰‹" }
            }
          },
          "source_intelligence": {
            "type": "object",
            "properties": {
              "source_pool": { "type": "array", "items": { "$ref": "#/components/schemas/SourceNode" } },
              "citation_rank": { "type": "array", "items": { "type": "string" }, "description": "é«˜é¢‘æ ¸å¿ƒå‚è€ƒæºIDæ’åº" }
            }
          },
          "evidence_chain": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "negative_text": { "type": "string", "description": "è´Ÿé¢è¯­æ–™ç‰‡æ®µ" },
                "source_url": { "type": "string", "description": "ç©¿é€åçš„åŸå§‹ä¿¡æºé“¾æ¥" }
              }
            }
          }
        }
      },
      "SourceNode": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "url": { "type": "string" },
          "site_name": { "type": "string" },
          "citation_count": { "type": "integer" },
          "sentiment_impact": { "type": "number", "description": "è¯¥ä¿¡æºå¯¹å“ç‰Œçš„å¹³å‡å¥½æ„Ÿåº¦è´¡çŒ®" }
        }
      }
    }
  }
}


        """
ğŸš€ åç»­å¼€å‘è®¡åˆ’å»ºè®®
æ¥å£å…ˆè¡Œï¼šå°†æ­¤ JSON æ–‡ä»¶å–‚ç»™ AI Coding å·¥å…·ï¼ˆå¦‚ Cursorï¼‰ï¼Œä½œä¸ºå…¶ç”Ÿæˆçš„â€œæ ¹åè®®â€ã€‚

åˆ†æ‰¹å®ç°ï¼š

ç¬¬ä¸€æ­¥ï¼šé‡æ„ test/submit ä¸ test/status é€»è¾‘ï¼Œå®ç°å¼‚æ­¥ä»»åŠ¡çŠ¶æ€æœºã€‚

ç¬¬äºŒæ­¥ï¼šå¼€å‘ DeepIntelligenceResult ä¸­çš„ exposure_analysis ç®—æ³•é€»è¾‘ã€‚

ç¬¬ä¸‰æ­¥ï¼šå‰ç«¯åŸºäº source_intelligence æ¸²æŸ“çœŸå®çš„ä¿¡æºæ‹“æ‰‘å›¾ï¼Œå–ä»£ç›®å‰çš„æ¨¡æ‹Ÿæ•°æ®ã€‚
"""