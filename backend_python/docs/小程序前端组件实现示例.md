# å°ç¨‹åºå‰ç«¯ç»„ä»¶å®ç°ç¤ºä¾‹

**æ–‡æ¡£ç¼–å·**: FRONTEND-IMPL-20260225  
**å®æ–½äºº**: å‰ç«¯å¼€å‘ ç‹å·¥  
**çŠ¶æ€**: ğŸ“˜ ç¤ºä¾‹ä»£ç ï¼Œä¾›å‚è€ƒå®æ–½  

---

## ä¸€ã€æ–‡ä»¶ç»“æ„

```
miniprogram/
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ report-detail/
â”‚       â”œâ”€â”€ index.wxml      # æŠ¥å‘Šè¯¦æƒ…é¡µç»“æ„
â”‚       â”œâ”€â”€ index.wxss      # æŠ¥å‘Šè¯¦æƒ…é¡µæ ·å¼
â”‚       â”œâ”€â”€ index.js        # æŠ¥å‘Šè¯¦æƒ…é¡µé€»è¾‘
â”‚       â””â”€â”€ index.json      # é…ç½®æ–‡ä»¶
â””â”€â”€ components/
    â””â”€â”€ dimension-card/
        â”œâ”€â”€ index.wxml      # ç»´åº¦å¡ç‰‡ç»„ä»¶ç»“æ„
        â”œâ”€â”€ index.wxss      # ç»´åº¦å¡ç‰‡ç»„ä»¶æ ·å¼
        â”œâ”€â”€ index.js        # ç»´åº¦å¡ç‰‡ç»„ä»¶é€»è¾‘
        â””â”€â”€ index.json      # ç»„ä»¶é…ç½®
```

---

## äºŒã€WXML å®ç°

### 2.1 report-detail/index.wxml

```xml
<!--pages/report-detail/index.wxml-->
<view class="report-container">
  <!-- M006 æ–°å¢ï¼šé¡¶éƒ¨çŠ¶æ€æç¤ºæ¡ -->
  <view wx:if="{{report.overallStatus === 'completed_with_warnings'}}" class="status-banner status-warning">
    <text class="banner-icon">â„¹ï¸</text>
    <text class="banner-text">éƒ¨åˆ†æ•°æ®è·å–å¤±è´¥ï¼Œå·²ä¸ºæ‚¨å±•ç¤ºå·²æœ‰ç»“æœ</text>
    <text class="banner-link" bindtap="scrollToFailedModules">æŸ¥çœ‹å¤±è´¥æ¨¡å—â†“</text>
  </view>
  
  <view wx:elif="{{report.overallStatus === 'all_failed'}}" class="status-banner status-error">
    <text class="banner-icon">âš ï¸</text>
    <text class="banner-text">æ‰€æœ‰æ•°æ®æºå‡ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•</text>
  </view>
  
  <!-- æŠ¥å‘Šå¤´éƒ¨ -->
  <view class="report-header">
    <text class="brand-name">{{report.brandName}}</text>
    <view class="score-container" wx:if="{{report.overallScore}}">
      <text class="score-label">æ€»åˆ†</text>
      <text class="score-value">{{report.overallScore}}</text>
    </view>
    <view class="score-container" wx:else>
      <text class="score-label">è¯„åˆ†</text>
      <text class="score-value score-none">æš‚ç¼º</text>
    </view>
  </view>
  
  <!-- ç»´åº¦åˆ—è¡¨ -->
  <view class="dimensions-list">
    <view 
      class="dimension-card {{item.status === 'failed' ? 'dimension-failed' : ''}}" 
      wx:for="{{report.dimensions}}" 
      wx:key="source"
      id="dimension-{{index}}"
    >
      <!-- ä½¿ç”¨ç»´åº¦å¡ç‰‡ç»„ä»¶ -->
      <dimension-card 
        dimension="{{item}}" 
        index="{{index}}"
        retrying-index="{{retryingIndex}}"
        bind:retry="onRetryDimension"
      />
    </view>
  </view>
  
  <!-- M006 æ–°å¢ï¼šå…¨éƒ¨å¤±è´¥æ—¶çš„æ“ä½œåŒº -->
  <view wx:if="{{report.overallStatus === 'all_failed'}}" class="all-failed-actions">
    <view class="failed-tips">
      <text>å¯èƒ½åŸå› ï¼š</text>
      <text>â€¢ ç½‘ç»œè¿æ¥ä¸­æ–­</text>
      <text>â€¢ API æœåŠ¡æš‚æ—¶ä¸å¯ç”¨</text>
      <text>â€¢ API å¯†é’¥é…ç½®é”™è¯¯</text>
    </view>
    <button class="regenerate-btn" bindtap="regenerateReport">
      ğŸ”„ é‡æ–°ç”ŸæˆæŠ¥å‘Š
    </button>
    <button class="contact-btn" bindtap="contactSupport">
      ğŸ’¬ è”ç³»å®¢æœ
    </button>
  </view>
  
  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading-container">
    <loading />
    <text>æŠ¥å‘Šç”Ÿæˆä¸­ï¼Œè¯·ç¨å€™...</text>
  </view>
</view>
```

### 2.2 components/dimension-card/index.wxml

```xml
<!--components/dimension-card/index.wxml-->
<view class="dimension-card {{dimension.status === 'failed' ? 'dimension-failed' : ''}}">
  <view wx:if="{{dimension.status === 'success'}}">
    <!-- æˆåŠŸçŠ¶æ€ï¼šæ­£å¸¸å±•ç¤º -->
    <view class="dimension-header">
      <text class="dimension-name">{{dimension.dimension_name}}</text>
      <text class="badge badge-success">âœ… æˆåŠŸ</text>
    </view>
    <view class="dimension-content">
      <view class="dimension-score">
        <text class="score-label">å¾—åˆ†</text>
        <text class="score-value">{{dimension.score}}</text>
      </view>
      <!-- è¯¦ç»†æ•°æ®å±•ç¤º -->
      <view class="dimension-detail">
        <view wx:if="{{dimension.data}}">
          <text>æ’åï¼šç¬¬{{dimension.data.rank}}å</text>
          <text wx:if="{{dimension.data.sentiment}}">æƒ…æ„Ÿï¼š{{dimension.data.sentiment > 0 ? 'æ­£é¢' : 'è´Ÿé¢'}}</text>
        </view>
      </view>
    </view>
  </view>
  
  <view wx:else>
    <!-- å¤±è´¥çŠ¶æ€ï¼šæ˜¾ç¤ºé”™è¯¯æç¤ºæ¡† -->
    <view class="dimension-header">
      <text class="dimension-name">{{dimension.dimension_name}}</text>
      <text class="badge badge-warning">âš ï¸ æ•°æ®æš‚ç¼º</text>
    </view>
    <view class="dimension-error">
      <view class="error-box">
        <text class="error-icon">âš ï¸</text>
        <text class="error-message">{{dimension.error_message || 'æ•°æ®è·å–å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'}}</text>
      </view>
      <view class="error-actions">
        <button 
          class="retry-btn" 
          bindtap="onRetry" 
          data-dimension="{{dimension}}"
          data-index="{{index}}"
          loading="{{retryingIndex === index}}"
          disabled="{{retryingIndex !== -1 && retryingIndex !== index}}"
        >
          {{retryingIndex === index ? 'é‡æ–°è·å–ä¸­...' : 'ğŸ”„ é‡æ–°è·å–'}}
        </button>
        <button class="help-btn" bindtap="onContactSupport">
          ğŸ’¬ è”ç³»å®¢æœ
        </button>
      </view>
    </view>
  </view>
</view>
```

---

## ä¸‰ã€WXSS æ ·å¼å®ç°

### 3.1 report-detail/index.wxss

```css
/* pages/report-detail/index.wxss */

/* åŸæœ‰æ ·å¼ä¿æŒä¸å˜ */
.report-container {
  padding: 32rpx;
  background: #f5f5f5;
  min-height: 100vh;
}

.report-header {
  background: #fff;
  border-radius: 24rpx;
  padding: 48rpx 32rpx;
  margin-bottom: 32rpx;
  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.05);
}

.brand-name {
  font-size: 40rpx;
  font-weight: bold;
  display: block;
  margin-bottom: 24rpx;
}

.score-container {
  display: flex;
  align-items: baseline;
  gap: 16rpx;
}

.score-label {
  font-size: 28rpx;
  color: #666;
}

.score-value {
  font-size: 48rpx;
  font-weight: bold;
  color: #1976d2;
}

.score-none {
  color: #999;
  font-style: italic;
}

.dimensions-list {
  display: flex;
  flex-direction: column;
  gap: 24rpx;
}

/* ==================== */
/* M006 æ–°å¢ï¼šçŠ¶æ€æç¤ºæ¡ */
/* ==================== */
.status-banner {
  padding: 24rpx 32rpx;
  margin-bottom: 32rpx;
  border-radius: 16rpx;
  display: flex;
  align-items: center;
  font-size: 28rpx;
  line-height: 1.5;
}

.status-banner.status-warning {
  background: linear-gradient(135deg, #fff7e6 0%, #fff3e0 100%);
  border-left: 6rpx solid #ff9800;
  color: #e65100;
}

.status-banner.status-error {
  background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
  border-left: 6rpx solid #f44336;
  color: #c62828;
}

.banner-icon {
  font-size: 32rpx;
  margin-right: 16rpx;
}

.banner-text {
  flex: 1;
}

.banner-link {
  color: #1976d2;
  font-weight: 500;
  margin-left: 16rpx;
  text-decoration: underline;
}

/* ==================== */
/* M006 æ–°å¢ï¼šå…¨éƒ¨å¤±è´¥æ“ä½œåŒº */
/* ==================== */
.all-failed-actions {
  margin-top: 64rpx;
  padding: 64rpx 32rpx;
  background: #fff;
  border-radius: 24rpx;
  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.1);
  text-align: center;
}

.failed-tips {
  margin-bottom: 48rpx;
  text-align: left;
}

.failed-tips text {
  display: block;
  font-size: 28rpx;
  color: #666;
  line-height: 1.8;
}

.regenerate-btn {
  width: 100%;
  background: linear-gradient(135deg, #4caf50 0%, #388e3c 100%);
  color: #fff;
  border-radius: 16rpx;
  font-size: 32rpx;
  padding: 28rpx 0;
  margin-bottom: 24rpx;
}

.contact-btn {
  width: 100%;
  background: #fff;
  color: #666;
  border: 2rpx solid #e0e0e0;
  border-radius: 16rpx;
  font-size: 32rpx;
  padding: 28rpx 0;
}

/* åŠ è½½çŠ¶æ€ */
.loading-container {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.9);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 32rpx;
}
```

### 3.2 components/dimension-card/index.wxss

```css
/* components/dimension-card/index.wxss */

.dimension-card {
  background: #fff;
  border-radius: 24rpx;
  padding: 32rpx;
  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.05);
}

.dimension-card.dimension-failed {
  background: #fafafa;
  border: 2rpx dashed #e0e0e0;
}

.dimension-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 24rpx;
  border-bottom: 2rpx solid #f5f5f5;
  margin-bottom: 24rpx;
}

.dimension-name {
  font-size: 32rpx;
  font-weight: bold;
}

.badge {
  padding: 8rpx 16rpx;
  border-radius: 20rpx;
  font-size: 24rpx;
  font-weight: 500;
}

.badge-success {
  background: #e8f5e9;
  color: #2e7d32;
}

.badge-warning {
  background: #fff3e0;
  color: #e65100;
}

.dimension-content {
  padding: 16rpx 0;
}

.dimension-score {
  display: flex;
  align-items: baseline;
  gap: 16rpx;
  margin-bottom: 24rpx;
}

.dimension-score .score-label {
  font-size: 28rpx;
  color: #666;
}

.dimension-score .score-value {
  font-size: 40rpx;
  font-weight: bold;
  color: #1976d2;
}

.dimension-detail {
  font-size: 28rpx;
  color: #666;
  line-height: 1.8;
}

.dimension-detail text {
  display: inline-block;
  margin-right: 32rpx;
}

/* ==================== */
/* M006 æ–°å¢ï¼šå¤±è´¥æ¨¡å—æ ·å¼ */
/* ==================== */
.dimension-error {
  padding: 16rpx 0;
}

.error-box {
  background: #fff;
  border: 2rpx solid #ffcc80;
  border-radius: 16rpx;
  padding: 32rpx;
  margin-bottom: 32rpx;
  display: flex;
  align-items: flex-start;
  gap: 24rpx;
}

.error-icon {
  font-size: 40rpx;
  flex-shrink: 0;
}

.error-message {
  flex: 1;
  font-size: 28rpx;
  line-height: 1.6;
  color: #666;
}

.error-actions {
  display: flex;
  gap: 24rpx;
}

.retry-btn {
  flex: 1;
  background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
  color: #fff;
  border-radius: 12rpx;
  font-size: 28rpx;
  padding: 20rpx 0;
}

.retry-btn[loading] {
  opacity: 0.7;
}

.retry-btn[disabled] {
  opacity: 0.5;
  background: #ccc;
}

.help-btn {
  flex: 1;
  background: #fff;
  color: #666;
  border: 2rpx solid #e0e0e0;
  border-radius: 12rpx;
  font-size: 28rpx;
  padding: 20rpx 0;
}

/* åŠ¨ç”»æ•ˆæœ */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-8rpx); }
  75% { transform: translateX(8rpx); }
}

.shake {
  animation: shake 0.3s ease-in-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(16rpx);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in {
  animation: fadeIn 0.3s ease-out;
}
```

---

## å››ã€JS é€»è¾‘å®ç°

### 4.1 report-detail/index.js

```javascript
// pages/report-detail/index.js
const app = getApp();

Page({
  data: {
    report: null,
    loading: true,
    retryingIndex: -1,  // M006 æ–°å¢ï¼šæ­£åœ¨é‡è¯•çš„æ¨¡å—ç´¢å¼•
    failedIndexes: []   // M006 æ–°å¢ï¼šå¤±è´¥æ¨¡å—ç´¢å¼•åˆ—è¡¨
  },

  onLoad(options) {
    const { reportId, regenerate } = options;
    if (reportId) {
      this.fetchReport(reportId);
    }
    
    // å¦‚æœæ˜¯é‡æ–°ç”Ÿæˆï¼Œæ˜¾ç¤ºæç¤º
    if (regenerate === '1') {
      wx.showToast({
        title: 'æ­£åœ¨é‡æ–°ç”Ÿæˆ...',
        icon: 'loading',
        duration: 2000
      });
    }
  },

  onPullDownRefresh() {
    // M006 æ–°å¢ï¼šä¸‹æ‹‰åˆ·æ–°
    const reportId = this.data.report?.reportId;
    if (reportId) {
      this.fetchReport(reportId).finally(() => {
        wx.stopPullDownRefresh();
      });
    } else {
      wx.stopPullDownRefresh();
    }
  },

  // M006 æ–°å¢ï¼šè·å–æŠ¥å‘Š
  async fetchReport(reportId) {
    try {
      const res = await wx.request({
        url: `${app.globalData.baseUrl}/api/diagnosis/report/${reportId}`,
        method: 'GET'
      });

      if (res.data.success) {
        const report = res.data.data;
        
        // M006 æ–°å¢ï¼šè¯†åˆ«å¤±è´¥æ¨¡å—
        const failedIndexes = [];
        report.dimensions?.forEach((dim, index) => {
          if (dim.status === 'failed') {
            failedIndexes.push(index);
          }
        });

        this.setData({
          report,
          failedIndexes,
          loading: false
        });

        // M006 æ–°å¢ï¼šå¦‚æœæœ‰å¤±è´¥æ¨¡å—ï¼Œæ˜¾ç¤ºæç¤º
        if (failedIndexes.length > 0 && failedIndexes.length < report.dimensions.length) {
          wx.showToast({
            title: 'éƒ¨åˆ†æ•°æ®è·å–å¤±è´¥',
            icon: 'none',
            duration: 3000
          });
        }
      } else {
        this.setData({
          loading: false,
          report: {
            overallStatus: 'all_failed',
            error: res.data.error || 'è·å–æŠ¥å‘Šå¤±è´¥'
          }
        });
      }
    } catch (error) {
      console.error('è·å–æŠ¥å‘Šå¤±è´¥:', error);
      this.setData({
        loading: false,
        report: {
          overallStatus: 'all_failed',
          error: 'ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥'
        }
      });
    }
  },

  // M006 æ–°å¢ï¼šé‡è¯•å•ä¸ªç»´åº¦ï¼ˆç”±ç»„ä»¶è§¦å‘ï¼‰
  async onRetryDimension(e) {
    const { dimension, index } = e.detail;
    this.retryDimension(dimension, index);
  },

  // M006 æ–°å¢ï¼šé‡è¯•å•ä¸ªç»´åº¦
  async retryDimension(dimension, index) {
    this.setData({ retryingIndex: index });

    try {
      // æ˜¾ç¤ºåŠ è½½æç¤º
      wx.showLoading({ title: 'é‡æ–°è·å–ä¸­...', mask: true });

      // è°ƒç”¨é‡è¯• API
      const res = await wx.request({
        url: `${app.globalData.baseUrl}/api/diagnosis/retry-dimension`,
        method: 'POST',
        data: {
          executionId: this.data.report.reportId,
          dimensionName: dimension.dimension_name,
          source: dimension.source,
          brand: this.data.report.brandName,
          question: this.data.report.customQuestions?.[0] || '',
          competitors: this.data.report.competitorBrands || []
        }
      });

      wx.hideLoading();

      if (res.data.success) {
        // é‡è¯•æˆåŠŸï¼Œæ›´æ–°è¯¥æ¨¡å—æ•°æ®
        const newDimensions = [...this.data.report.dimensions];
        newDimensions[index] = {
          ...res.data.data,
          dimension_name: dimension.dimension_name
        };

        this.setData({
          report: {
            ...this.data.report,
            dimensions: newDimensions
          },
          retryingIndex: -1
        });

        wx.showToast({
          title: 'é‡æ–°è·å–æˆåŠŸ',
          icon: 'success'
        });

        // M006 æ–°å¢ï¼šé‡æ–°è®¡ç®—æ€»ä½“çŠ¶æ€
        this.recalculateOverallStatus();
      } else {
        wx.showToast({
          title: res.data.error || 'é‡æ–°è·å–å¤±è´¥',
          icon: 'none'
        });
        this.setData({ retryingIndex: -1 });
      }
    } catch (error) {
      console.error('é‡è¯•å¤±è´¥:', error);
      wx.hideLoading();
      wx.showToast({
        title: 'é‡è¯•å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•',
        icon: 'none'
      });
      this.setData({ retryingIndex: -1 });
    }
  },

  // M006 æ–°å¢ï¼šæ»šåŠ¨åˆ°å¤±è´¥æ¨¡å—
  scrollToFailedModules() {
    if (this.data.failedIndexes.length > 0) {
      const firstFailedIndex = this.data.failedIndexes[0];
      wx.createSelectorQuery().select(`#dimension-${firstFailedIndex}`)
        .boundingClientRect((rect) => {
          if (rect) {
            wx.pageScrollTo({
              scrollTop: rect.top,
              duration: 300
            });
          }
        }).exec();
    }
  },

  // M006 æ–°å¢ï¼šé‡æ–°è®¡ç®—æ€»ä½“çŠ¶æ€
  recalculateOverallStatus() {
    const dimensions = this.data.report.dimensions;
    const successCount = dimensions.filter(d => d.status === 'success').length;
    const totalCount = dimensions.length;

    let overallStatus = 'all_failed';
    if (successCount === totalCount) {
      overallStatus = 'completed';
    } else if (successCount > 0) {
      overallStatus = 'completed_with_warnings';
    }

    // è®¡ç®—æ–°çš„æ€»ä½“è¯„åˆ†
    const successfulScores = dimensions
      .filter(d => d.status === 'success' && d.score)
      .map(d => d.score);
    
    const overallScore = successfulScores.length > 0
      ? successfulScores.reduce((a, b) => a + b, 0) / successfulScores.length
      : null;

    this.setData({
      report: {
        ...this.data.report,
        overallStatus,
        overallScore
      }
    });
  },

  // M006 æ–°å¢ï¼šé‡æ–°ç”ŸæˆæŠ¥å‘Š
  regenerateReport() {
    wx.showModal({
      title: 'é‡æ–°ç”ŸæˆæŠ¥å‘Š',
      content: 'å°†ä½¿ç”¨ç›¸åŒçš„å‚æ•°é‡æ–°ç”ŸæˆæŠ¥å‘Šï¼Œç¡®å®šç»§ç»­ï¼Ÿ',
      success: (res) => {
        if (res.confirm) {
          wx.redirectTo({
            url: `/pages/report-detail/index?reportId=${this.data.report.reportId}&regenerate=1`
          });
        }
      }
    });
  },

  // M006 æ–°å¢ï¼šè”ç³»å®¢æœ
  contactSupport() {
    wx.showModal({
      title: 'è”ç³»å®¢æœ',
      content: 'è¯·æ·»åŠ å®¢æœå¾®ä¿¡ï¼šbrand-diagnosis-supportï¼Œæˆ–å‘é€é‚®ä»¶è‡³ support@example.com',
      showCancel: false,
      confirmText: 'çŸ¥é“äº†'
    });
  }
});
```

### 4.2 components/dimension-card/index.js

```javascript
// components/dimension-card/index.js
Component({
  properties: {
    dimension: {
      type: Object,
      value: null,
      observer: 'onDimensionChange'
    },
    index: {
      type: Number,
      value: 0
    },
    retryingIndex: {
      type: Number,
      value: -1
    }
  },

  data: {
    // ç»„ä»¶å†…éƒ¨æ•°æ®
  },

  methods: {
    onDimensionChange(newVal) {
      // ç»´åº¦æ•°æ®å˜åŒ–æ—¶çš„å¤„ç†
      if (newVal && newVal.status === 'failed') {
        // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ åŠ¨ç”»æ•ˆæœ
      }
    },

    // M006 æ–°å¢ï¼šé‡è¯•æŒ‰é’®ç‚¹å‡»
    onRetry(e) {
      const { dimension, index } = e.currentTarget.dataset;
      
      // è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼Œç”±çˆ¶ç»„ä»¶å¤„ç†é‡è¯•é€»è¾‘
      this.triggerEvent('retry', {
        dimension,
        index
      });
    },

    // M006 æ–°å¢ï¼šè”ç³»å®¢æœ
    onContactSupport() {
      this.triggerEvent('contactSupport');
    }
  }
});
```

---

## äº”ã€é…ç½®è¯´æ˜

### 5.1 app.json

```json
{
  "pages": [
    "pages/index/index",
    "pages/report-detail/index",
    "pages/history/index"
  ],
  "window": {
    "backgroundTextStyle": "light",
    "navigationBarBackgroundColor": "#1976d2",
    "navigationBarTitleText": "å“ç‰Œè¯Šæ–­æŠ¥å‘Š",
    "enablePullDownRefresh": true
  },
  "sitemapLocation": "sitemap.json"
}
```

### 5.2 pages/report-detail/index.json

```json
{
  "usingComponents": {
    "dimension-card": "/components/dimension-card/index"
  },
  "navigationBarTitleText": "è¯Šæ–­æŠ¥å‘Šè¯¦æƒ…",
  "enablePullDownRefresh": true
}
```

### 5.3 components/dimension-card/index.json

```json
{
  "component": true,
  "usingComponents": {}
}
```

---

## å…­ã€å®æ–½æ­¥éª¤

### 6.1 ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºç»„ä»¶ç›®å½•

```bash
mkdir -p miniprogram/components/dimension-card
```

### 6.2 ç¬¬äºŒæ­¥ï¼šå®ç°ç»´åº¦å¡ç‰‡ç»„ä»¶

1. åˆ›å»º `components/dimension-card/index.wxml`
2. åˆ›å»º `components/dimension-card/index.wxss`
3. åˆ›å»º `components/dimension-card/index.js`
4. åˆ›å»º `components/dimension-card/index.json`

### 6.3 ç¬¬ä¸‰æ­¥ï¼šæ”¹é€ æŠ¥å‘Šè¯¦æƒ…é¡µ

1. ä¿®æ”¹ `pages/report-detail/index.wxml`
2. ä¿®æ”¹ `pages/report-detail/index.wxss`
3. ä¿®æ”¹ `pages/report-detail/index.js`
4. ä¿®æ”¹ `pages/report-detail/index.json`

### 6.4 ç¬¬å››æ­¥ï¼šæµ‹è¯•éªŒè¯

1. æ­£å¸¸æŠ¥å‘Šå±•ç¤ºæµ‹è¯•
2. éƒ¨åˆ†å¤±è´¥åœºæ™¯æµ‹è¯•
3. å…¨éƒ¨å¤±è´¥åœºæ™¯æµ‹è¯•
4. é‡è¯•åŠŸèƒ½æµ‹è¯•
5. ä¸‹æ‹‰åˆ·æ–°æµ‹è¯•

---

## ä¸ƒã€éªŒæ”¶æ ‡å‡†

### 7.1 åŠŸèƒ½éªŒæ”¶

- [ ] æˆåŠŸæ¨¡å—æ­£å¸¸å±•ç¤º
- [ ] å¤±è´¥æ¨¡å—æ˜¾ç¤ºé”™è¯¯æç¤ºæ¡†
- [ ] é‡è¯•åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] é¡¶éƒ¨çŠ¶æ€æç¤ºæ¡æ­£ç¡®æ˜¾ç¤º
- [ ] å…¨éƒ¨å¤±è´¥é¡µé¢æœ‰æ“ä½œæŒ‰é’®

### 7.2 UI éªŒæ”¶

- [ ] æ ·å¼ç¾è§‚ï¼Œç¬¦åˆè®¾è®¡è§„èŒƒ
- [ ] åŠ¨ç”»æµç•…
- [ ] å“åº”å¼é€‚é…è‰¯å¥½

### 7.3 æ€§èƒ½éªŒæ”¶

- [ ] é¦–å±åŠ è½½ < 2 ç§’
- [ ] é‡è¯•å“åº” < 3 ç§’
- [ ] æ»šåŠ¨æµç•… 60fps

---

**æ–‡æ¡£çŠ¶æ€**: ğŸ“˜ ç¤ºä¾‹ä»£ç ï¼Œä¾›å‚è€ƒå®æ–½  
**é¢„è®¡å®Œæˆ**: 2026-02-27  
**è´Ÿè´£äºº**: ç‹å·¥
