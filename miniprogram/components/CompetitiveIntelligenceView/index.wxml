<view class="pk-container">
  <!-- é¡¶éƒ¨ï¼šå·¨å¹•å¼å¾—åˆ†å¡ -->
  <view class="header-scorecard">
    <view class="brand-score my-brand {{myBrand.isWinner ? 'winner' : ''}}">
      <view class="crown-wrapper" wx:if="{{myBrand.isWinner}}">
        <text class="crown">ğŸ‘‘</text>
      </view>
      <text class="brand-name">{{myBrand.name}}</text>
      <view class="score">
        <count-up endVal="{{myBrand.score}}"></count-up>
      </view>
    </view>
    <view class="vs-divider">VS</view>
    <view class="brand-score competitor-brand {{competitor.isWinner ? 'winner' : ''}}">
      <view class="crown-wrapper" wx:if="{{competitor.isWinner}}">
        <text class="crown">ğŸ‘‘</text>
      </view>
      <text class="brand-name">{{competitor.name}}</text>
      <view class="score">
        <count-up endVal="{{competitor.score}}"></count-up>
      </view>
    </view>
  </view>

  <!-- ä¸­é—´ï¼šä¸“å®¶çº§é›·è¾¾å›¾ -->
  <view class="radar-chart-container">
    <base-chart canvas-id="pk-radar-chart-{{myBrand.name}}-{{competitor.name}}" option="{{radarChartOption}}"></base-chart>
  </view>

  <!-- åº•éƒ¨ï¼šæŒ‡æ ‡å·®å¼‚åˆ—è¡¨ (æ‹”æ²³å¼) -->
  <view class="metrics-table-wrapper">
    <view class="metrics-table">
      <view class="metric-row" wx:for="{{metricsDelta}}" wx:key="name">
        <text class="metric-name">{{item.name}}</text>
        <view class="tug-of-war-bar">
          <view class="bar my-brand-bar" style="width: {{item.myBrandPercentage}}%;"></view>
          <view class="bar competitor-bar" style="width: {{item.competitorPercentage}}%;"></view>
        </view>
        <view class="delta-display {{item.delta > 0 ? 'leading' : (item.delta < 0 ? 'lagging' : '')}}">
          <text wx:if="{{item.delta > 0}}">+{{item.delta}}</text>
          <text wx:else>{{item.delta}}</text>
        </view>
      </view>
    </view>
    <!-- æƒ…æŠ¥å°é” -->
    <view class="data-gating-mask" wx:if="{{!isPremium}}">
      <view class="lock-icon">ğŸ”’</view>
      <text class="gating-text">è§£é”ä¸“ä¸šç‰ˆï¼ŒæŸ¥çœ‹è¯¦ç»†æŒ‡æ ‡å¯¹æ ‡</text>
      <button class="unlock-btn" bindtap="onUnlockTap">ç«‹å³è§£é”</button>
    </view>
  </view>

  <!-- è½åè­¦ç¤º -->
  <view class="gap-alert" wx:if="{{!myBrand.isWinner}}">
    <text>ğŸš¨ AI è®¤çŸ¥æ´¼åœ°ï¼šå»ºè®®ç«‹å³å¯¹å†²</text>
  </view>
</view>