2026-02-23 09:32:04,191 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 09:32:04,191 - apscheduler.scheduler - DEBUG - base.py:1151 - _process_jobs() - Looking for jobs to run
2026-02-23 09:32:04,192 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 09:32:04,193 - apscheduler.scheduler - DEBUG - base.py:1252 - _process_jobs() - No jobs; waiting until a job is added
2026-02-23 09:32:04,195 - wechat_backend.api - DEBUG - debug_manager.py:66 - debug_log() - [DEBUG] WORKFLOW_MANAGER SYSTEM Starting background processor thread
2026-02-23 09:32:04,195 - wechat_backend.api - DEBUG - debug_manager.py:66 - debug_log() - [DEBUG] WORKFLOW_MANAGER SYSTEM Starting retry processor thread
2026-02-23 09:32:04,195 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-23 09:32:04,195 - jieba - DEBUG - __init__.py:69 - initialize() - Building prefix dict from /Users/sgl/PycharmProjects/PythonProject/.venv/lib/python3.14/site-packages/jieba/dict.txt ...
2026-02-23 09:32:04,197 - jieba - DEBUG - __init__.py:78 - initialize() - Loading model from cache /var/folders/m8/9lzgk90s02z276bclcvcvkg40000gn/T/jieba.cache
2026-02-23 09:32:04,647 - jieba - DEBUG - __init__.py:106 - initialize() - Loading model cost 0.45201802253723145 seconds.
2026-02-23 09:32:04,648 - jieba - DEBUG - __init__.py:107 - initialize() - Prefix dict has been built succesfully.
2026-02-23 09:32:04,649 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 09:32:04,649 - apscheduler.scheduler - DEBUG - base.py:1151 - _process_jobs() - Looking for jobs to run
2026-02-23 09:32:04,650 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 09:32:04,650 - apscheduler.scheduler - DEBUG - base.py:1252 - _process_jobs() - No jobs; waiting until a job is added
2026-02-23 09:32:04,654 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-23 09:32:04,655 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-23 09:32:04,656 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-23 09:32:04,657 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-23 09:32:04,658 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-23 09:32:04,658 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-23 09:32:04,660 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-23 09:32:04,660 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-23 09:32:04,661 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-23 09:32:04,661 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-23 09:32:04,662 - wechat_backend.api - INFO - views_analytics.py:571 - init_analytics_routes() - Analytics routes initialized
2026-02-23 09:32:04,663 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-23 09:32:04,664 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-23 09:32:04,665 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-23 09:32:04,666 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-23 09:32:04,666 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-23 09:32:04,666 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-23 09:32:04,667 - wechat_backend.api - INFO - views_analytics_behavior.py:570 - register_blueprints() - Analytics Blueprint registered
2026-02-23 09:32:04,668 - wechat_backend.api - INFO - views_audit_full.py:705 - register_blueprints() - Audit Blueprint registered
2026-02-23 09:32:04,669 - wechat_backend.api - INFO - views_pdf_export.py:326 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 09:32:04,670 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 09:32:04,671 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-23 09:32:04,671 - wechat_backend.api - INFO - async_export_service.py:292 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-23 09:32:04,671 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-23 09:32:04,671 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-23 09:32:04,671 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-23 09:32:04,671 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-23 09:32:04,673 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-23 09:32:04,673 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-23 09:32:04,673 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-23 09:32:04,675 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-23 09:32:04,675 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-23 09:32:04,675 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-23 09:32:04,675 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-23 09:32:04,676 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-23 09:32:04,676 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-23 09:32:04,676 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-23 09:32:04,676 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-23 09:32:04,676 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-23 09:32:04,677 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-23 09:32:04,677 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-23 09:32:04,677 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-23 09:32:04,677 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 09:32:04,677 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 09:32:04,677 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 09:32:04,678 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-23 09:32:04,678 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-23 09:32:04,678 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 09:32:04,678 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 09:32:04,678 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-23 09:32:04,679 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-23 09:32:04,679 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-23 09:32:04,679 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-23 09:32:04,679 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-23 09:32:04,679 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-23 09:32:04,679 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-23 09:32:04,679 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-23 09:32:04,679 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-23 09:32:04,679 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-23 09:32:04,679 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-23 09:32:04,679 - wechat_backend.api - INFO - app.py:212 - warm_up_adapters() - Starting adapter warm-up...
2026-02-23 09:32:04,679 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 09:32:04,679 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_test-doubao' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 09:32:04,679 - wechat_backend.api - DEBUG - debug_manager.py:66 - debug_log() - [DEBUG] AI_ADAPTER_INIT INIT DoubaoAdapter initialized for model: test-doubao with connection pooling and circuit breaker
2026-02-23 09:32:04,679 - wechat_backend.api - DEBUG - debug_manager.py:66 - debug_log() - [DEBUG] HEALTH_CHECK INIT Performing health check for Doubao API with model: test-doubao, URL: https://ark.cn-beijing.volces.com/api/v3/chat/completions
2026-02-23 09:32:04,705 - urllib3.connectionpool - DEBUG - connectionpool.py:1049 - _new_conn() - Starting new HTTPS connection (1): ark.cn-beijing.volces.com:443
2026-02-23 09:32:04,706 - werkzeug - WARNING - _internal.py:97 - _log() -  * Debugger is active!
2026-02-23 09:32:04,729 - werkzeug - INFO - _internal.py:97 - _log() -  * Debugger PIN: 884-445-834
2026-02-23 09:32:05,534 - urllib3.connectionpool - DEBUG - connectionpool.py:544 - _make_request() - https://ark.cn-beijing.volces.com:443 "POST /api/v3/chat/completions HTTP/1.1" 401 184
2026-02-23 09:32:05,539 - wechat_backend.api - ERROR - debug_manager.py:115 - exception_log() - [EXCEPTION] INIT HEALTH_CHECK Doubao health check failed: 401, response: {"error":{"code":"AuthenticationError","message":"The API key format is incorrect. Request id: 021771810325629f3b74e8a243188acfdca751f2811569f92eca6","param":"","type":"Unauthorized"}}...
2026-02-23 09:32:05,539 - wechat_backend.api - DEBUG - debug_manager.py:66 - debug_log() - [DEBUG] HEALTH_CHECK INIT Performing health check for Doubao API with model: test-doubao, URL: https://ark.cn-beijing.volces.com/api/v3/chat/completions
2026-02-23 09:32:05,787 - urllib3.connectionpool - DEBUG - connectionpool.py:544 - _make_request() - https://ark.cn-beijing.volces.com:443 "POST /api/v3/chat/completions HTTP/1.1" 401 184
2026-02-23 09:32:05,788 - wechat_backend.api - ERROR - debug_manager.py:115 - exception_log() - [EXCEPTION] INIT HEALTH_CHECK Doubao health check failed: 401, response: {"error":{"code":"AuthenticationError","message":"The API key format is incorrect. Request id: 021771810325890f3b74e8a243188acfdca751f2811569fc6c676","param":"","type":"Unauthorized"}}...
2026-02-23 09:32:05,788 - wechat_backend.api - INFO - app.py:232 - warm_up_adapters() - Adapter doubao health check completed
2026-02-23 09:32:05,789 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 09:32:05,791 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-23 09:32:05,791 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-23 09:32:05,792 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-23 09:32:05,792 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 09:32:05,793 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 09:32:05,793 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-23 09:32:05,793 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-23 09:32:05,793 - wechat_backend.api - INFO - factory.py:178 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-23 09:32:05,793 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 09:32:05,793 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-23 09:32:05,794 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-23 09:32:05,794 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 09:32:05,794 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-23 09:32:05,794 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-23 09:32:05,795 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 09:32:05,795 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 09:32:05,795 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-23 09:32:05,795 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-23 09:32:05,795 - wechat_backend.api - WARNING - app.py:236 - warm_up_adapters() - Adapter wenxin has no API key configured, skipping warm-up
2026-02-23 09:32:05,795 - wechat_backend.api - INFO - app.py:241 - warm_up_adapters() - Adapter warm-up completed
2026-02-23 09:35:10,393 - wechat_backend.api - INFO - audit_views.py:28 - test_api() - Health check: /api/test called
2026-02-23 09:35:10,402 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:35:10] "GET /api/test HTTP/1.1" 200 -
2026-02-23 09:35:19,228 - wechat_backend.api - INFO - audit_views.py:28 - test_api() - Health check: /api/test called
2026-02-23 09:35:19,229 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:35:19] "GET /api/test HTTP/1.1" 200 -
2026-02-23 09:43:57,453 - wechat_backend.api - INFO - audit_views.py:28 - test_api() - Health check: /api/test called
2026-02-23 09:43:57,456 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:43:57] "GET /api/test HTTP/1.1" 200 -
2026-02-23 09:44:05,006 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:05.006156", "event_type": "api_call", "message": "API请求接收", "details": {"method": "POST", "endpoint": "/api/perform-brand-test", "user_id": "anonymous", "ip_address": "127.0.0.1", "request_size": 502}}
2026-02-23 09:44:05,006 - wechat_backend.api - INFO - diagnosis_views.py:78 - perform_brand_test() - [DEBUG] perform_brand_test called with method: POST
2026-02-23 09:44:05,006 - wechat_backend.api - INFO - diagnosis_views.py:79 - perform_brand_test() - [DEBUG] Headers: {'Host': '127.0.0.1:5000', 'Connection': 'keep-alive', 'Content-Length': '256', 'User-Agent': 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1 wechatdevtools/2.01.2510280 MicroMessenger/8.0.5 Language/zh_CN webview/ hash/1578406377 sid/SlXxePL3ju token/210fede561f772a81fe45876aa91ff3e', 'X-Device-Id': 'dev_1771758272638_cx685wxp3', 'Content-Type': 'application/json', 'Accept': '*/*', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'https://servicewechat.com/wxfd3b695920a78e1b/devtools/page-frame.html', 'Accept-Encoding': 'gzip, deflate, br', 'Accept-Language': 'zh-CN,zh;q=0.9'}
2026-02-23 09:44:05,007 - wechat_backend.api - INFO - diagnosis_views.py:80 - perform_brand_test() - [DEBUG] Headers: {'Host': '127.0.0.1:5000', 'Connection': 'keep-alive', 'Content-Length': '256', 'User-Agent': 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1 wechatdevtools/2.01.2510280 MicroMessenger/8.0.5 Language/zh_CN webview/ hash/1578406377 sid/SlXxePL3ju token/210fede561f772a81fe45876aa91ff3e', 'X-Device-Id': 'dev_1771758272638_cx685wxp3', 'Content-Type': 'application/json', 'Accept': '*/*', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'https://servicewechat.com/wxfd3b695920a78e1b/devtools/page-frame.html', 'Accept-Encoding': 'gzip, deflate, br', 'Accept-Language': 'zh-CN,zh;q=0.9'}
2026-02-23 09:44:05,007 - wechat_backend.api - INFO - diagnosis_views.py:125 - perform_brand_test() - [Sprint 1] 接收到品牌列表: ['华为', '比亚迪', '小米', '小鹏', '特斯拉']
2026-02-23 09:44:05,007 - wechat_backend.api - INFO - diagnosis_views.py:166 - perform_brand_test() - [Sprint 1] 转换后的模型列表: ['deepseek', 'chatgpt', 'gemini'] (原始: ['deepseek', 'chatgpt', 'gemini'])
2026-02-23 09:44:05,007 - wechat_backend.api - INFO - diagnosis_views.py:189 - perform_brand_test() - [QuestionSplit] 原始问题：20万左右的新能源汽车推荐哪个品牌
2026-02-23 09:44:05,007 - wechat_backend.api - INFO - diagnosis_views.py:190 - perform_brand_test() - [QuestionSplit] 分割后问题数：1
2026-02-23 09:44:05,007 - wechat_backend.api - INFO - diagnosis_views.py:192 - perform_brand_test() - [QuestionSplit] 问题1: 20万左右的新能源汽车推荐哪个品牌?
2026-02-23 09:44:05,007 - wechat_backend.api - INFO - diagnosis_views.py:220 - perform_brand_test() - === Runtime Adapter Status Check ===
2026-02-23 09:44:05,007 - wechat_backend.api - INFO - diagnosis_views.py:221 - perform_brand_test() - Selected models: [{'name': 'deepseek', 'checked': True}, {'name': 'chatgpt', 'checked': True}, {'name': 'gemini', 'checked': True}]
2026-02-23 09:44:05,007 - wechat_backend.api - INFO - diagnosis_views.py:222 - perform_brand_test() - All registered adapters: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 09:44:05,007 - wechat_backend.api - INFO - diagnosis_views.py:223 - perform_brand_test() - MODEL_NAME_MAP: {'豆包': 'doubao', 'doubao': 'doubao', 'doubao-pro': 'doubao', 'doubao-cn': 'doubao', 'Doubao': 'doubao', 'DOUBAO': 'doubao', 'doubao-pro-5b': 'doubao', 'doubao-pro-7b': 'doubao', 'ep-20260212000000-gd5tq': 'doubao', 'qwen': 'qwen', '千问': 'qwen', '通义千问': 'qwen', 'tongyi': 'qwen', 'aliyun-qwen': 'qwen', 'qwen-max': 'qwen', 'qwen-plus': 'qwen', 'qwen-turbo': 'qwen', 'deepseek': 'deepseek', 'deepseek-chat': 'deepseek', 'deepseek-coder': 'deepseek', 'deepseekr1': 'deepseekr1', 'deepseek-r1': 'deepseekr1', 'deepseek-r1-distill': 'deepseekr1', '文心一言': 'wenxin', 'wenxin': 'wenxin', 'ernie': 'wenxin', 'Kimi': 'kimi', '月之暗面': 'kimi', 'moonshot': 'kimi', '元宝': 'yuanbao', 'bytedance-yuanbao': 'yuanbao', '讯飞星火': 'spark', 'xinghuo': 'spark', 'iFlytek': 'spark', '智谱AI': 'zhipu', '智谱': 'zhipu', 'zhipu': 'zhipu', 'chatglm': 'zhipu', 'glm-4': 'zhipu', 'glm-4-air': 'zhipu', 'glm-4-plus': 'zhipu', 'OpenAI': 'openai', 'ChatGPT': 'chatgpt', 'GPT': 'chatgpt', 'Claude': 'claude', 'Anthropic': 'claude', 'Gemini': 'gemini', 'Google': 'gemini', 'Perplexity': 'perplexity', 'Grok': 'grok', 'xAI': 'grok'}
2026-02-23 09:44:05,007 - wechat_backend.api - INFO - diagnosis_views.py:224 - perform_brand_test() - === End Runtime Adapter Status Check ===
2026-02-23 09:44:05,007 - wechat_backend.api - INFO - factory.py:178 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-23 09:44:05,007 - wechat_backend.api - INFO - factory.py:178 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-23 09:44:05,008 - wechat_backend.api - INFO - diagnosis_views.py:285 - run_async_test() - [AsyncTest] Initializing QuestionManager for execution_id: 87045e6d-1dab-4a91-9fc4-8f31d2acec03
2026-02-23 09:44:05,008 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:05.008324", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/api/perform-brand-test", "status_code": 200, "response_time": 0.0018317699432373047, "response_size": 29, "user_id": "anonymous"}}
2026-02-23 09:44:05,008 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:05.008478", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/api/perform-brand-test", "method": "POST", "status_code": 200}}
2026-02-23 09:44:05,008 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:05] "POST /api/perform-brand-test HTTP/1.1" 200 -
2026-02-23 09:44:05,008 - wechat_backend.database - INFO - question_templates.py:159 - _load_standard_templates() - Loaded 14 standard question templates
2026-02-23 09:44:05,009 - wechat_backend.api - INFO - diagnosis_views.py:287 - run_async_test() - [AsyncTest] Successfully initialized managers for execution_id: 87045e6d-1dab-4a91-9fc4-8f31d2acec03
2026-02-23 09:44:05,009 - wechat_backend.api - INFO - diagnosis_views.py:292 - run_async_test() - [AsyncTest] Validating custom questions for execution_id: 87045e6d-1dab-4a91-9fc4-8f31d2acec03, questions: ['20万左右的新能源汽车推荐哪个品牌?']
2026-02-23 09:44:05,009 - wechat_backend.api - INFO - diagnosis_views.py:294 - run_async_test() - [AsyncTest] Question validation result for execution_id: 87045e6d-1dab-4a91-9fc4-8f31d2acec03, result: {'valid': True, 'errors': [], 'cleaned_questions': ['20万左右的新能源汽车推荐哪个品牌']}
2026-02-23 09:44:05,009 - wechat_backend.api - INFO - diagnosis_views.py:302 - run_async_test() - [AsyncTest] Successfully validated questions for execution_id: 87045e6d-1dab-4a91-9fc4-8f31d2acec03, raw_questions: ['20万左右的新能源汽车推荐哪个品牌']
2026-02-23 09:44:05,009 - wechat_backend.api - INFO - diagnosis_views.py:316 - run_async_test() - Main brand: 华为, Competitor brands: ['比亚迪', '小米', '小鹏', '特斯拉']
2026-02-23 09:44:05,009 - wechat_backend.api - INFO - diagnosis_views.py:319 - run_async_test() - Starting NxM execution engine for '87045e6d-1dab-4a91-9fc4-8f31d2acec03'
2026-02-23 09:44:05,009 - wechat_backend.api - INFO - nxm_circuit_breaker.py:104 - _check_recovery() - [CircuitBreaker] 恢复模型：['chatgpt', 'gemini']
2026-02-23 09:44:05,010 - wechat_backend.api - INFO - nxm_circuit_breaker.py:66 - _load_from_storage() - [CircuitBreaker] 加载状态：2 个模型处于熔断状态
2026-02-23 09:44:05,010 - wechat_backend.api - INFO - nxm_scheduler.py:57 - initialize_execution() - [Scheduler] 执行初始化：87045e6d-1dab-4a91-9fc4-8f31d2acec03, 总任务数：3
2026-02-23 09:44:05,011 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 09:44:05,011 - wechat_backend.api - ERROR - nxm_execution_engine.py:153 - run_execution() - [NxM] 执行失败：deepseek, Q0: cannot import name 'config_manager' from 'config_manager' (/Users/sgl/PycharmProjects/PythonProject/backend_python/config_manager.py)
2026-02-23 09:44:05,011 - wechat_backend.api - WARNING - nxm_circuit_breaker.py:134 - record_failure() - [CircuitBreaker] 模型 deepseek 已熔断
2026-02-23 09:44:05,011 - wechat_backend.api - INFO - diagnosis_views.py:334 - run_async_test() - NxM execution completed successfully for '87045e6d-1dab-4a91-9fc4-8f31d2acec03', formula: 1 问题 × 3 模型 = 3 次请求
2026-02-23 09:44:05,011 - wechat_backend.api - INFO - factory.py:178 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-23 09:44:05,011 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 09:44:05,011 - wechat_backend.api - ERROR - nxm_execution_engine.py:153 - run_execution() - [NxM] 执行失败：chatgpt, Q0: cannot import name 'config_manager' from 'config_manager' (/Users/sgl/PycharmProjects/PythonProject/backend_python/config_manager.py)
2026-02-23 09:44:05,012 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 09:44:05,012 - wechat_backend.api - ERROR - nxm_execution_engine.py:153 - run_execution() - [NxM] 执行失败：gemini, Q0: cannot import name 'config_manager' from 'config_manager' (/Users/sgl/PycharmProjects/PythonProject/backend_python/config_manager.py)
2026-02-23 09:44:05,012 - wechat_backend.api - WARNING - nxm_result_aggregator.py:131 - verify_completion() - [Verify] 结果不完整：0/3, 缺失：3
2026-02-23 09:44:05,012 - wechat_backend.api - ERROR - nxm_scheduler.py:120 - fail_execution() - [Scheduler] 执行失败：87045e6d-1dab-4a91-9fc4-8f31d2acec03, 错误：结果不完整：0/3
2026-02-23 09:44:05,024 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:05.024474", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:05,024 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:05.024748", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.487701416015625e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:05,025 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:05.024983", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:05,025 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:05] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:05,835 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:05.835032", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:05,835 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:05.835426", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.20159912109375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:05,835 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:05.835605", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:05,835 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:05] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:06,633 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:06.633065", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:06,633 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:06.633627", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00011014938354492188, "response_size": 29, "user_id": null}}
2026-02-23 09:44:06,633 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:06.633951", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:06,634 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:06] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:07,430 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:07.430835", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:07,431 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:07.431204", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.200241088867188e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:07,431 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:07.431424", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:07,431 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:07] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:08,228 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:08.228924", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:08,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:08.229242", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.103515625e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:08,229 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:08.229341", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:08,229 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:08] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:09,035 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:09.034907", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:09,035 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:09.035618", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00013399124145507812, "response_size": 29, "user_id": null}}
2026-02-23 09:44:09,035 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:09.035885", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:09,036 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:09] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:09,832 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:09.832107", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:09,832 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:09.832727", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00016999244689941406, "response_size": 29, "user_id": null}}
2026-02-23 09:44:09,832 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:09.832923", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:09,833 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:09] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:10,632 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:10.632083", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:10,633 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:10.633114", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00012612342834472656, "response_size": 29, "user_id": null}}
2026-02-23 09:44:10,633 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:10.633367", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:10,634 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:10] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:11,433 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:11.433032", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:11,433 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:11.433541", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.392333984375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:11,433 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:11.433722", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:11,434 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:11] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:12,230 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:12.230719", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:12,231 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:12.231135", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.510185241699219e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:12,231 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:12.231332", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:12,231 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:12] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:13,029 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:13.029578", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:13,029 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:13.029928", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.914138793945312e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:13,030 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:13.030077", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:13,030 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:13] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:13,836 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:13.836037", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:13,836 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:13.836229", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.504753112792969e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:13,836 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:13.836295", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:13,836 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:13] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:14,633 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:14.632963", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:14,633 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:14.633185", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.8160552978515625e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:14,633 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:14.633254", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:14,633 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:14] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:15,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:15.429021", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:15,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:15.429247", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.699562072753906e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:15,429 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:15.429405", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:15,429 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:15] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:16,232 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:16.232799", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:16,233 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:16.233187", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.486343383789062e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:16,233 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:16.233473", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:16,234 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:16] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:17,030 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:17.030232", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:17,031 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:17.031139", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00010967254638671875, "response_size": 29, "user_id": null}}
2026-02-23 09:44:17,031 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:17.031286", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:17,031 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:17] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:17,831 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:17.831625", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:17,832 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:17.832060", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.700920104980469e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:17,832 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:17.832346", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:17,832 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:17] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:18,629 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:18.628985", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:18,629 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:18.629223", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.127357482910156e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:18,629 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:18.629385", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:18,629 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:18] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:19,430 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:19.430404", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:19,430 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:19.430796", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.295608520507812e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:19,430 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:19.430939", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:19,431 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:19] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:20,230 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:20.230575", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:20,231 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:20.231267", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0001499652862548828, "response_size": 29, "user_id": null}}
2026-02-23 09:44:20,231 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:20.231560", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:20,232 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:20] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:21,031 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:21.031887", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:21,032 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:21.032337", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.794929504394531e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:21,032 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:21.032466", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:21,032 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:21] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:21,828 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:21.828208", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:21,828 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:21.828386", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.600120544433594e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:21,828 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:21.828445", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:21,828 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:21] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:22,634 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:22.633935", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:22,634 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:22.634404", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.724761962890625e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:22,634 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:22.634570", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:22,634 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:22] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:23,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:23.429656", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:23,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:23.429854", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.790855407714844e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:23,429 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:23.429915", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:23,430 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:23] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:24,231 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:24.231717", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:24,232 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:24.232927", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0002391338348388672, "response_size": 29, "user_id": null}}
2026-02-23 09:44:24,233 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:24.233132", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:24,233 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:24] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:25,032 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:25.032859", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:25,033 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:25.033117", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.604194641113281e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:25,033 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:25.033234", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:25,033 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:25] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:25,838 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:25.838497", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:25,838 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:25.838720", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.100799560546875e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:25,838 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:25.838783", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:25,838 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:25] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:26,630 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:26.630014", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:26,630 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:26.630819", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.000308990478515625, "response_size": 29, "user_id": null}}
2026-02-23 09:44:26,631 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:26.631132", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:26,631 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:26] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:27,432 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:27.432748", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:27,433 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:27.433151", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.081031799316406e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:27,433 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:27.433438", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:27,433 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:27] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:28,231 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:28.231003", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:28,231 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:28.231207", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.7670135498046875e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:28,231 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:28.231266", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:28,231 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:28] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:29,033 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:29.033175", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:29,033 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:29.033559", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.605552673339844e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:29,033 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:29.033724", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:29,034 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:29] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:29,831 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:29.831263", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:29,831 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:29.831796", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.893013000488281e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:29,832 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:29.832063", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:29,832 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:29] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:30,631 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:30.631394", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:30,631 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:30.631874", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.390975952148438e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:30,632 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:30.632167", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:30,632 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:30] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:31,433 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:31.433002", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:31,433 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:31.433711", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.702278137207031e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:31,434 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:31.434059", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:31,434 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:31] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:32,230 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:32.230873", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:32,231 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:32.231447", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00012493133544921875, "response_size": 29, "user_id": null}}
2026-02-23 09:44:32,231 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:32.231829", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:32,232 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:32] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:33,030 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:33.030070", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:33,030 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:33.030477", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.200241088867188e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:33,030 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:33.030617", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:33,030 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:33] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:33,830 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:33.830600", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:33,831 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:33.831017", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.009506225585938e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:33,831 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:33.831162", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:33,831 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:33] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:34,629 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:34.629408", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:34,629 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:34.629827", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.128715515136719e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:34,630 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:34.630008", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:34,630 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:34] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:35,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:35.429299", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:35,430 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:35.430173", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.7738037109375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:35,430 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:35.430479", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:35,431 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:35] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:36,232 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:36.232124", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:36,232 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:36.232788", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.799003601074219e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:36,233 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:36.233028", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:36,233 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:36] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:37,030 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:37.030852", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:37,031 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:37.031306", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.295608520507812e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:37,031 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:37.031553", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:37,032 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:37] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:37,830 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:37.830592", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:37,831 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:37.831174", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.989738464355469e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:37,831 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:37.831479", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:37,831 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:37] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:38,629 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:38.629531", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:38,629 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:38.629714", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.5762786865234375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:38,629 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:38.629847", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:38,630 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:38] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:39,432 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:39.432060", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:39,432 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:39.432604", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0001239776611328125, "response_size": 29, "user_id": null}}
2026-02-23 09:44:39,432 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:39.432876", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:39,433 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:39] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:40,232 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:40.232852", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:40,233 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:40.233643", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00034618377685546875, "response_size": 29, "user_id": null}}
2026-02-23 09:44:40,233 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:40.233808", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:40,234 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:40] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:41,032 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:41.032418", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:41,032 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:41.032872", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00013518333435058594, "response_size": 29, "user_id": null}}
2026-02-23 09:44:41,033 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:41.033022", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:41,033 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:41] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:41,840 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:41.840714", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:41,840 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:41.840898", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.695487976074219e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:41,840 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:41.840959", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:41,841 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:41] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:42,632 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:42.632787", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:42,633 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:42.633613", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00010895729064941406, "response_size": 29, "user_id": null}}
2026-02-23 09:44:42,633 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:42.633938", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:42,634 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:42] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:43,433 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:43.432965", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:43,433 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:43.433425", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.417533874511719e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:43,433 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:43.433806", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:43,434 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:43] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:44,231 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:44.231322", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:44,231 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:44.231731", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00010275840759277344, "response_size": 29, "user_id": null}}
2026-02-23 09:44:44,231 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:44.231882", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:44,232 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:44] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:45,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:45.028474", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:45,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:45.028654", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.4809112548828125e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:45,028 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:45.028728", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:45,028 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:45] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:45,832 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:45.832043", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:45,832 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:45.832704", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00011801719665527344, "response_size": 29, "user_id": null}}
2026-02-23 09:44:45,832 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:45.832884", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:45,833 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:45] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:46,628 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:46.628491", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:46,628 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:46.628664", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.5762786865234375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:46,628 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:46.628723", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:46,628 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:46] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:47,437 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:47.437927", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:47,438 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:47.438683", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.0108642578125e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:47,438 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:47.438798", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:47,438 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:47] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:48,228 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:48.228580", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:48,228 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:48.228784", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.00543212890625e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:48,228 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:48.228842", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:48,228 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:48] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:49,029 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:49.029573", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:49,030 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:49.030145", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.772445678710938e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:49,030 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:49.030300", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:49,030 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:49] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:49,860 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:49.860199", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:49,861 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:49.861637", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0003070831298828125, "response_size": 29, "user_id": null}}
2026-02-23 09:44:49,861 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:49.861788", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:49,862 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:49] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:50,648 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:50.648338", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:50,648 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:50.648671", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.082389831542969e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:50,648 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:50.648837", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:50,649 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:50] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:51,459 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:51.458921", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:51,459 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:51.459737", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00018310546875, "response_size": 29, "user_id": null}}
2026-02-23 09:44:51,459 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:51.459822", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:51,460 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:51] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:52,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:52.229561", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:52,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:52.229751", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.719329833984375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:52,229 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:52.229816", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:52,229 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:52] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:53,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:53.028737", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:53,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:53.028954", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.1961669921875e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:53,029 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:53.029025", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:53,029 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:53] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:53,828 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:53.828715", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:53,829 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:53.829439", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.393692016601562e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:53,829 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:53.829637", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:53,829 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:53] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:54,630 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:54.630256", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:54,630 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:54.630747", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.698204040527344e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:54,630 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:54.630837", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:54,630 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:54] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:55,432 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:55.432324", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:55,433 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:55.433222", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0001819133758544922, "response_size": 29, "user_id": null}}
2026-02-23 09:44:55,433 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:55.433391", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:55,434 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:55] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:56,228 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:56.228883", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:56,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:56.229097", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.506111145019531e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:56,229 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:56.229157", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:56,229 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:56] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:57,034 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:57.034630", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:57,034 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:57.034858", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.506111145019531e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:44:57,034 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:57.034925", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:57,035 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:57] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:57,829 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:57.829373", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:57,830 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:57.830021", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00010013580322265625, "response_size": 29, "user_id": null}}
2026-02-23 09:44:57,830 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:57.830235", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:57,830 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:57] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:58,628 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:58.628682", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:58,629 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:58.629457", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00014901161193847656, "response_size": 29, "user_id": null}}
2026-02-23 09:44:58,629 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:58.629681", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:58,630 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:58] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:44:59,428 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:59.428810", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:44:59,431 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:59.431731", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00034689903259277344, "response_size": 29, "user_id": null}}
2026-02-23 09:44:59,431 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:44:59.431898", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:44:59,432 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:44:59] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:00,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:00.228970", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:00,230 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:00.230172", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00010371208190917969, "response_size": 29, "user_id": null}}
2026-02-23 09:45:00,230 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:00.230651", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:00,231 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:00] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:01,027 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:01.027923", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:01,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:01.028114", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.695487976074219e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:01,028 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:01.028190", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:01,028 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:01] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:01,829 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:01.829092", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:01,829 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:01.829533", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.20159912109375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:01,830 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:01.829981", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:01,830 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:01] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:02,629 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:02.629011", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:02,629 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:02.629408", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.700920104980469e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:02,629 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:02.629718", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:02,630 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:02] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:03,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:03.429154", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:03,430 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:03.430279", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.393692016601562e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:03,431 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:03.431010", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:03,431 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:03] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:04,227 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:04.227772", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:04,227 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:04.227981", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.695487976074219e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:04,228 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:04.228064", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:04,228 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:04] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:05,031 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:05.031734", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:05,032 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:05.032053", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.008148193359375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:05,032 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:05.032125", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:05,032 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:05] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:05,832 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:05.832003", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:05,832 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:05.832370", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.125999450683594e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:05,832 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:05.832443", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:05,832 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:05] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:06,629 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:06.629679", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:06,630 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:06.630032", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.296966552734375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:06,630 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:06.630218", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:06,630 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:06] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:07,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:07.429059", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:07,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:07.429236", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.62396240234375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:07,429 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:07.429300", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:07,429 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:07] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:08,231 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:08.231798", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:08,232 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:08.232098", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.104873657226562e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:08,232 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:08.232244", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:08,232 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:08] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:09,029 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:09.029219", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:09,029 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:09.029403", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.409385681152344e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:09,029 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:09.029463", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:09,029 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:09] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:09,827 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:09.827856", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:09,828 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:09.828036", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.5762786865234375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:09,828 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:09.828098", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:09,828 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:09] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:10,630 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:10.630053", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:10,630 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:10.630574", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00011897087097167969, "response_size": 29, "user_id": null}}
2026-02-23 09:45:10,630 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:10.630751", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:10,631 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:10] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:11,428 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:11.428415", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:11,428 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:11.428641", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.410743713378906e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:11,428 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:11.428703", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:11,428 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:11] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:12,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:12.229301", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:12,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:12.229661", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.008148193359375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:12,229 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:12.229788", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:12,229 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:12] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:13,057 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:13.057050", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:13,058 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:13.058125", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0002529621124267578, "response_size": 29, "user_id": null}}
2026-02-23 09:45:13,058 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:13.058231", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:13,058 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:13] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:13,851 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:13.851509", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:13,851 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:13.851745", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.124641418457031e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:13,852 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:13.852040", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:13,852 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:13] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:14,979 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:14.979072", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:14,980 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:14.980318", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00015997886657714844, "response_size": 29, "user_id": null}}
2026-02-23 09:45:14,980 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:14.980421", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:14,980 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:14] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:15,436 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:15.436539", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:15,436 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:15.436881", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.295608520507812e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:15,436 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:15.436962", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:15,437 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:15] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:16,246 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:16.246091", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:16,246 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:16.246800", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00023293495178222656, "response_size": 29, "user_id": null}}
2026-02-23 09:45:16,247 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:16.247021", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:16,247 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:16] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:17,042 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:17.042184", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:17,042 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:17.042578", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.316734313964844e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:17,042 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:17.042663", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:17,042 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:17] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:17,839 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:17.839328", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:17,840 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:17.840309", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.082389831542969e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:17,840 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:17.840439", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:17,840 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:17] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:18,755 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:18.755166", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:18,756 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:18.756309", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0003032684326171875, "response_size": 29, "user_id": null}}
2026-02-23 09:45:18,756 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:18.756433", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:18,756 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:18] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:19,483 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:19.483223", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:19,483 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:19.483598", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.079673767089844e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:19,483 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:19.483667", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:19,483 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:19] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:20,232 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:20.232442", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:20,233 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:20.232994", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.489059448242188e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:20,233 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:20.233202", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:20,233 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:20] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:21,031 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:21.030969", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:21,031 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:21.031494", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.796287536621094e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:21,032 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:21.032006", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:21,033 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:21] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:21,830 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:21.830129", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:21,830 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:21.830656", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.605552673339844e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:21,830 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:21.830838", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:21,831 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:21] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:22,628 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:22.628148", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:22,628 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:22.628314", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.4809112548828125e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:22,628 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:22.628374", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:22,628 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:22] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:23,435 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:23.435115", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:23,435 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:23.435411", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.315376281738281e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:23,435 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:23.435476", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:23,435 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:23] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:24,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:24.229618", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:24,230 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:24.230206", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.512901306152344e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:24,230 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:24.230403", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:24,230 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:24] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:25,030 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:25.030084", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:25,030 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:25.030616", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.915496826171875e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:25,030 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:25.030830", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:25,031 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:25] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:25,830 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:25.830506", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:25,831 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:25.831031", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.274482727050781e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:25,831 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:25.831258", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:25,831 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:25] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:26,630 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:26.630590", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:26,631 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:26.631103", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00019407272338867188, "response_size": 29, "user_id": null}}
2026-02-23 09:45:26,631 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:26.631333", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:26,631 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:26] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:27,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:27.429284", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:27,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:27.429932", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00013327598571777344, "response_size": 29, "user_id": null}}
2026-02-23 09:45:27,430 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:27.430100", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:27,430 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:27] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:28,228 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:28.228560", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:28,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:28.229176", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00016379356384277344, "response_size": 29, "user_id": null}}
2026-02-23 09:45:28,229 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:28.229441", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:28,230 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:28] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:29,029 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:29.029816", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:29,030 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:29.030033", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.315376281738281e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:29,030 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:29.030100", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:29,030 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:29] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:29,830 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:29.829965", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:29,830 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:29.830254", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.412101745605469e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:29,830 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:29.830340", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:29,830 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:29] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:30,633 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:30.632943", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:30,633 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:30.633491", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.296966552734375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:30,633 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:30.633788", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:30,634 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:30] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:31,430 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:31.429864", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:31,430 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:31.430798", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00011587142944335938, "response_size": 29, "user_id": null}}
2026-02-23 09:45:31,431 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:31.431026", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:31,431 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:31] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:32,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:32.229389", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:32,230 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:32.230049", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.225440979003906e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:32,230 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:32.230376", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:32,230 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:32] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:33,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:33.028302", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:33,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:33.028475", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.5762786865234375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:33,028 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:33.028536", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:33,028 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:33] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:33,829 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:33.829503", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:33,830 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:33.830217", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00010085105895996094, "response_size": 29, "user_id": null}}
2026-02-23 09:45:33,830 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:33.830400", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:33,830 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:33] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:34,631 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:34.631418", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:34,632 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:34.632133", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00037384033203125, "response_size": 29, "user_id": null}}
2026-02-23 09:45:34,632 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:34.632325", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:34,633 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:34] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:35,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:35.429540", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:35,430 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:35.430139", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.581710815429688e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:35,430 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:35.430428", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:35,430 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:35] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:36,227 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:36.227836", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:36,228 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:36.228228", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.29425048828125e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:36,228 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:36.228389", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:36,228 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:36] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:37,042 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:37.042564", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:37,043 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:37.043077", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00010800361633300781, "response_size": 29, "user_id": null}}
2026-02-23 09:45:37,043 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:37.043241", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:37,043 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:37] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:37,830 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:37.830745", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:37,831 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:37.831590", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0003650188446044922, "response_size": 29, "user_id": null}}
2026-02-23 09:45:37,831 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:37.831777", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:37,831 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:37] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:38,633 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:38.633472", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:38,633 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:38.633887", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.888938903808594e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:38,633 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:38.633963", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:38,634 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:38] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:39,427 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:39.427893", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:39,428 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:39.428085", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.1961669921875e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:39,428 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:39.428217", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:39,428 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:39] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:40,230 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:40.230732", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:40,232 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:40.232759", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0007810592651367188, "response_size": 29, "user_id": null}}
2026-02-23 09:45:40,233 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:40.233242", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:40,233 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:40] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:41,032 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:41.032805", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:41,033 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:41.033622", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.0108642578125e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:41,033 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:41.033819", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:41,034 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:41] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:41,832 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:41.832454", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:41,833 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:41.833224", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.678436279296875e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:41,833 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:41.833593", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:41,834 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:41] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:42,627 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:42.627578", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:42,627 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:42.627893", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.008148193359375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:42,628 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:42.628024", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:42,628 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:42] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:43,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:43.429208", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:43,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:43.429666", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.414817810058594e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:43,430 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:43.429929", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:43,430 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:43] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:44,254 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:44.254576", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:44,255 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:44.255654", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00010418891906738281, "response_size": 29, "user_id": null}}
2026-02-23 09:45:44,256 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:44.255946", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:44,256 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:44] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:45,057 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:45.056992", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:45,057 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:45.057279", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.103515625e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:45,057 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:45.057358", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:45,057 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:45] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:45,910 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:45.910654", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:45,911 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:45.911465", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.96453857421875e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:45,911 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:45.911572", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:45,911 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:45] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:46,632 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:46.632063", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:46,632 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:46.632748", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.322166442871094e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:46,632 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:46.632966", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:46,633 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:46] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:47,467 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:47.466517", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:47,467 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:47.467591", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00010275840759277344, "response_size": 29, "user_id": null}}
2026-02-23 09:45:47,467 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:47.467781", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:47,468 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:47] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:48,231 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:48.231421", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:48,231 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:48.231676", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.128715515136719e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:48,231 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:48.231911", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:48,232 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:48] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:49,029 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:49.029396", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:49,030 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:49.030075", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0001373291015625, "response_size": 29, "user_id": null}}
2026-02-23 09:45:49,030 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:49.030269", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:49,030 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:49] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:49,831 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:49.831318", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:49,831 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:49.831929", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.606910705566406e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:49,832 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:49.832443", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:49,832 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:49] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:50,630 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:50.630315", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:50,630 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:50.630723", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.985664367675781e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:50,631 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:50.631227", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:50,631 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:50] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:51,428 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:51.428438", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:51,428 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:51.428620", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.100799560546875e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:51,428 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:51.428685", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:51,428 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:51] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:52,230 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:52.230431", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:52,230 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:52.230890", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00011491775512695312, "response_size": 29, "user_id": null}}
2026-02-23 09:45:52,231 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:52.231050", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:52,231 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:52] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:53,033 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:53.033848", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:53,034 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:53.034373", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00019311904907226562, "response_size": 29, "user_id": null}}
2026-02-23 09:45:53,035 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:53.035304", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:53,036 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:53] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:53,835 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:53.835218", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:53,835 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:53.835901", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.315376281738281e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:53,835 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:53.835970", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:53,836 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:53] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:54,629 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:54.629201", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:54,629 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:54.629681", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.702278137207031e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:54,629 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:54.629838", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:54,630 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:54] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:55,431 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:55.430719", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:55,431 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:55.431685", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00011086463928222656, "response_size": 29, "user_id": null}}
2026-02-23 09:45:55,431 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:55.431927", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:55,432 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:55] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:56,228 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:56.228808", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:56,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:56.229432", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00019097328186035156, "response_size": 29, "user_id": null}}
2026-02-23 09:45:56,230 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:56.230381", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:56,234 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:56] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:57,093 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:57.093133", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:57,093 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:57.093947", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0001552104949951172, "response_size": 29, "user_id": null}}
2026-02-23 09:45:57,094 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:57.094059", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:57,094 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:57] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:57,840 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:57.840496", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:57,840 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:57.840725", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.886222839355469e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:57,840 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:57.840790", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:57,841 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:57] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:58,635 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:58.635694", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:58,636 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:58.636295", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.296966552734375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:58,636 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:58.636393", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:58,636 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:58] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:45:59,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:59.429401", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:45:59,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:59.429935", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.510185241699219e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:45:59,430 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:45:59.430262", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:45:59,430 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:45:59] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:00,230 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:00.230854", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:00,231 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:00.231724", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.177757263183594e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:00,231 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:00.231905", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:00,232 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:00] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:01,027 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:01.027868", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:01,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:01.028049", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.6716461181640625e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:01,028 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:01.028118", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:01,028 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:01] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:01,829 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:01.829117", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:01,829 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:01.829415", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.487701416015625e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:01,829 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:01.829585", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:01,829 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:01] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:02,630 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:02.630156", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:02,630 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:02.630628", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.390975952148438e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:02,630 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:02.630904", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:02,631 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:02] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:03,428 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:03.428607", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:03,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:03.429126", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.489059448242188e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:03,429 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:03.429349", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:03,429 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:03] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:04,230 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:04.230318", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:04,230 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:04.230843", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.772445678710938e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:04,231 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:04.230995", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:04,231 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:04] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:05,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:05.028730", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:05,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:05.028918", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.62396240234375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:05,028 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:05.028977", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:05,029 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:05] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:05,829 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:05.828930", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:05,829 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:05.829614", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.130073547363281e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:05,829 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:05.829796", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:05,830 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:05] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:06,636 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:06.636496", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:06,637 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:06.637200", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.772445678710938e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:06,637 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:06.637358", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:06,637 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:06] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:07,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:07.429205", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:07,430 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:07.430109", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.606910705566406e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:07,430 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:07.430276", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:07,431 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:07] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:08,226 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:08.226690", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:08,226 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:08.226885", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.00543212890625e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:08,226 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:08.226945", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:08,227 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:08] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:09,030 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:09.029988", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:09,030 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:09.030473", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.700920104980469e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:09,030 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:09.030711", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:09,031 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:09] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:09,834 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:09.834821", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:09,835 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:09.835236", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.462501525878906e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:09,835 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:09.835488", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:09,835 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:09] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:10,632 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:10.632698", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:10,633 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:10.633037", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.175041198730469e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:10,633 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:10.633099", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:10,633 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:10] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:11,427 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:11.427232", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:11,427 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:11.427470", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.6253204345703125e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:11,427 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:11.427545", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:11,427 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:11] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:12,232 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:12.232223", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:12,232 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:12.232632", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.605552673339844e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:12,232 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:12.232750", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:12,233 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:12] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:13,027 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:13.027915", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:13,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:13.028128", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.7206878662109375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:13,028 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:13.028237", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:13,028 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:13] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:13,828 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:13.828016", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:13,828 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:13.828365", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.794929504394531e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:13,828 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:13.828502", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:13,828 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:13] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:14,627 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:14.627101", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:14,627 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:14.627331", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.2928924560546875e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:14,627 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:14.627420", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:14,627 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:14] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:15,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:15.429722", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:15,430 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:15.430103", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.605552673339844e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:15,430 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:15.430471", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:15,430 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:15] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:16,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:16.229412", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:16,230 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:16.230013", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.392333984375e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:16,230 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:16.230201", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:16,230 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:16] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:17,031 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:17.031019", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:17,031 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:17.031575", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0001163482666015625, "response_size": 29, "user_id": null}}
2026-02-23 09:46:17,031 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:17.031820", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:17,032 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:17] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:17,829 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:17.829081", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:17,829 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:17.829502", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.200241088867188e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:17,829 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:17.829673", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:17,830 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:17] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:18,628 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:18.628015", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:18,628 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:18.628733", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00019788742065429688, "response_size": 29, "user_id": null}}
2026-02-23 09:46:18,629 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:18.629007", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:18,629 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:18] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:19,428 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:19.428621", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:19,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:19.429877", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0001621246337890625, "response_size": 29, "user_id": null}}
2026-02-23 09:46:19,430 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:19.430176", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:19,430 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:19] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:20,230 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:20.230229", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:20,234 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:20.234068", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0027968883514404297, "response_size": 29, "user_id": null}}
2026-02-23 09:46:20,234 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:20.234227", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:20,234 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:20] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:21,032 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:21.032657", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:21,033 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:21.032997", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.91278076171875e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:21,033 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:21.033094", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:21,033 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:21] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:21,831 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:21.831372", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:21,832 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:21.832547", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0006978511810302734, "response_size": 29, "user_id": null}}
2026-02-23 09:46:21,832 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:21.832935", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:21,833 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:21] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:22,628 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:22.628606", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:22,629 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:22.628997", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.104873657226562e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:22,629 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:22.629365", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:22,629 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:22] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:23,428 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:23.428496", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:23,428 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:23.428864", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.128715515136719e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:23,429 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:23.429085", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:23,429 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:23] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:24,228 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:24.228747", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:24,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:24.229507", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0002930164337158203, "response_size": 29, "user_id": null}}
2026-02-23 09:46:24,229 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:24.229747", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:24,230 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:24] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:25,027 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:25.027742", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:25,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:25.028027", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.079673767089844e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:25,028 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:25.028197", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:25,028 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:25] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:25,831 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:25.831134", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:25,831 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:25.831778", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.918212890625e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:25,831 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:25.831953", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:25,832 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:25] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:26,647 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:26.646857", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:26,647 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:26.647781", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00025010108947753906, "response_size": 29, "user_id": null}}
2026-02-23 09:46:26,647 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:26.647978", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:26,648 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:26] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:27,428 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:27.428511", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:27,429 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:27.429151", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0002129077911376953, "response_size": 29, "user_id": null}}
2026-02-23 09:46:27,429 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:27.429341", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:27,429 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:27] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:28,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:28.229029", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:28,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:28.229380", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00011920928955078125, "response_size": 29, "user_id": null}}
2026-02-23 09:46:28,229 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:28.229539", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:28,229 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:28] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:29,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:29.028441", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:29,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:29.028941", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.508827209472656e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:29,029 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:29.029042", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:29,029 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:29] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:29,829 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:29.829088", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:29,829 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:29.829478", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.295608520507812e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:29,829 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:29.829722", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:29,830 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:29] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:30,628 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:30.628452", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:30,629 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:30.628910", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.414817810058594e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:30,629 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:30.629267", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:30,629 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:30] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:31,427 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:31.427423", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:31,427 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:31.427580", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.314018249511719e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:31,427 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:31.427637", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:31,427 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:31] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:32,228 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:32.228880", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:32,229 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:32.229270", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.319450378417969e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:32,229 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:32.229509", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:32,229 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:32] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:33,031 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:33.031483", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:33,032 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:33.032525", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.0108642578125e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:33,032 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:33.032788", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:33,033 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:33] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:33,830 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:33.830115", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:33,830 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:33.830596", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.318092346191406e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:33,830 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:33.830699", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:33,830 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:33] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:34,627 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:34.627410", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:34,627 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:34.627622", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.1961669921875e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:34,627 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:34.627697", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:34,627 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:34] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:35,437 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:35.437828", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:35,438 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:35.438347", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.106231689453125e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:35,439 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:35.438989", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:35,439 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:35] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:36,231 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:36.231345", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:36,231 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:36.231950", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.890296936035156e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:36,232 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:36.232151", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:36,232 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:36] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:37,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:37.028197", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:37,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:37.028821", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00015497207641601562, "response_size": 29, "user_id": null}}
2026-02-23 09:46:37,029 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:37.029069", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:37,029 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:37] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:37,827 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:37.827802", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:37,828 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:37.828047", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.985664367675781e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:37,828 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:37.828187", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:37,828 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:37] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:38,634 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:38.634175", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:38,634 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:38.634681", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.200241088867188e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:38,634 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:38.634916", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:38,635 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:38] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:39,430 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:39.430226", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:39,430 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:39.430432", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.886222839355469e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:39,430 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:39.430509", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:39,430 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:39] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:40,317 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:40.317470", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:40,317 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:40.317667", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.910064697265625e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:40,317 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:40.317732", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:40,317 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:40] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:41,070 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:41.069887", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:41,070 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:41.070434", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00010704994201660156, "response_size": 29, "user_id": null}}
2026-02-23 09:46:41,070 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:41.070519", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:41,070 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:41] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:41,829 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:41.829674", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 09:46:41,829 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:41.829869", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.504753112792969e-05, "response_size": 29, "user_id": null}}
2026-02-23 09:46:41,829 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T01:46:41.829940", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 09:46:41,830 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 09:46:41] "GET /test/status/87045e6d-1dab-4a91-9fc4-8f31d2acec03 HTTP/1.1" 200 -
2026-02-23 09:46:43,009 - wechat_backend.api - INFO - doubao_adapter.py:419 - __del__() - DoubaoAdapter session closed
2026-02-23 10:41:33,587 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 10:41:33,588 - wechat_backend.database - INFO - database_core.py:160 - init_db() - 数据库表结构初始化完成
2026-02-23 10:41:33,589 - wechat_backend.database - INFO - models.py:125 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 10:41:33,589 - wechat_backend.database - INFO - models.py:181 - init_task_status_db() - Task status database initialization completed
2026-02-23 10:41:33,704 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-23 10:41:33,709 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-23 10:41:33,710 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-23 10:41:33,711 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-23 10:41:33,714 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-23 10:41:33,715 - wechat_backend.api - INFO - factory.py:49 - <module>() - Successfully imported ChatGPTAdapter
2026-02-23 10:41:33,715 - wechat_backend.api - INFO - factory.py:58 - <module>() - Successfully imported GeminiAdapter
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:67 - <module>() - Successfully imported ZhipuAdapter
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:76 - <module>() - Successfully imported ErnieBotAdapter
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:83 - <module>() - === Completed AI Adapter Imports ===
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:237 - <module>() - === Adapter Registration Debug Info ===
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:238 - <module>() - DeepSeekAdapter status: True
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:239 - <module>() - DeepSeekR1Adapter status: True
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:240 - <module>() - QwenAdapter status: True
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:241 - <module>() - DoubaoAdapter status: True
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:242 - <module>() - ChatGPTAdapter status: True
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:243 - <module>() - GeminiAdapter status: True
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:244 - <module>() - ZhipuAdapter status: True
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:245 - <module>() - ErnieBotAdapter status: True
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:249 - <module>() - Registering DeepSeekAdapter
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for deepseek
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:255 - <module>() - Registering DeepSeekR1Adapter
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for deepseekr1
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:261 - <module>() - Registering QwenAdapter
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for qwen
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:267 - <module>() - Registering DoubaoAdapter
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for doubao
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering ChatGPTAdapter
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for chatgpt
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering GeminiAdapter
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for gemini
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering ZhipuAdapter
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for zhipu
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering ErnieBotAdapter
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for wenxin
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:297 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:298 - <module>() - === End Adapter Registration Debug Info ===
2026-02-23 10:41:33,716 - wechat_backend.api - INFO - factory.py:301 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 10:41:33,718 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-23 10:41:33,718 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-23 10:41:33,718 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-23 10:41:33,718 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-23 10:41:36,341 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-23 10:41:36,353 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 10:41:36,354 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-23 10:41:36,354 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-23 10:41:36,365 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 10:41:36,366 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 10:41:36,369 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-23 10:41:37,918 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 10:41:37,919 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 10:41:37,925 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-23 10:41:37,927 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-23 10:41:37,928 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-23 10:41:37,929 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-23 10:41:37,930 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-23 10:41:37,931 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-23 10:41:37,933 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-23 10:41:37,933 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-23 10:41:37,934 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-23 10:41:37,934 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-23 10:41:37,935 - wechat_backend.api - INFO - views_analytics.py:571 - init_analytics_routes() - Analytics routes initialized
2026-02-23 10:41:37,937 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-23 10:41:37,938 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-23 10:41:37,939 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-23 10:41:37,941 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-23 10:41:37,941 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-23 10:41:37,942 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-23 10:41:37,944 - wechat_backend.api - INFO - views_analytics_behavior.py:570 - register_blueprints() - Analytics Blueprint registered
2026-02-23 10:41:37,945 - wechat_backend.api - INFO - views_audit_full.py:705 - register_blueprints() - Audit Blueprint registered
2026-02-23 10:41:37,946 - wechat_backend.api - INFO - views_pdf_export.py:326 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 10:41:37,948 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 10:41:37,949 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-23 10:41:37,949 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-23 10:41:37,949 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-23 10:41:37,949 - wechat_backend.api - INFO - async_export_service.py:292 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-23 10:41:37,949 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-23 10:41:37,949 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-23 10:41:37,951 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-23 10:41:37,951 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-23 10:41:37,952 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-23 10:41:37,953 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-23 10:41:37,953 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-23 10:41:37,953 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-23 10:41:37,954 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-23 10:41:37,954 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-23 10:41:37,954 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-23 10:41:37,954 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-23 10:41:37,954 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-23 10:41:37,954 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-23 10:41:37,955 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-23 10:41:37,955 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-23 10:41:37,955 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-23 10:41:37,955 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 10:41:37,955 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 10:41:37,955 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 10:41:37,956 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-23 10:41:37,956 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-23 10:41:37,956 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 10:41:37,956 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 10:41:37,956 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-23 10:41:37,957 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-23 10:41:37,957 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-23 10:41:37,957 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-23 10:41:37,957 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-23 10:41:37,957 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-23 10:41:37,958 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-23 10:41:37,958 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-23 10:41:37,958 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-23 10:41:37,958 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-23 10:41:37,958 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-23 10:41:37,958 - wechat_backend.api - INFO - app.py:212 - warm_up_adapters() - Starting adapter warm-up...
2026-02-23 10:41:37,959 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 10:41:37,959 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_test-doubao' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 10:41:37,999 - werkzeug - INFO - _internal.py:97 - _log() - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2026-02-23 10:41:38,000 - werkzeug - INFO - _internal.py:97 - _log() - [33mPress CTRL+C to quit[0m
2026-02-23 10:41:38,003 - werkzeug - INFO - _internal.py:97 - _log() -  * Restarting with stat
2026-02-23 10:41:38,170 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 10:41:38,171 - wechat_backend.database - INFO - database_core.py:160 - init_db() - 数据库表结构初始化完成
2026-02-23 10:41:38,172 - wechat_backend.database - INFO - models.py:125 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 10:41:38,172 - wechat_backend.database - DEBUG - models.py:142 - init_task_status_db() - Task statuses table created or verified
2026-02-23 10:41:38,172 - wechat_backend.database - DEBUG - models.py:157 - init_task_status_db() - Deep intelligence results table created or verified
2026-02-23 10:41:38,172 - wechat_backend.database - DEBUG - models.py:177 - init_task_status_db() - Brand test results table created or verified
2026-02-23 10:41:38,172 - wechat_backend.database - INFO - models.py:181 - init_task_status_db() - Task status database initialization completed
2026-02-23 10:41:38,199 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-23 10:41:38,202 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-23 10:41:38,203 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-23 10:41:38,203 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-23 10:41:38,206 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-23 10:41:38,206 - wechat_backend.api - INFO - factory.py:49 - <module>() - Successfully imported ChatGPTAdapter
2026-02-23 10:41:38,206 - wechat_backend.api - INFO - factory.py:58 - <module>() - Successfully imported GeminiAdapter
2026-02-23 10:41:38,206 - wechat_backend.api - INFO - factory.py:67 - <module>() - Successfully imported ZhipuAdapter
2026-02-23 10:41:38,206 - wechat_backend.api - INFO - factory.py:76 - <module>() - Successfully imported ErnieBotAdapter
2026-02-23 10:41:38,206 - wechat_backend.api - INFO - factory.py:83 - <module>() - === Completed AI Adapter Imports ===
2026-02-23 10:41:38,206 - wechat_backend.api - INFO - factory.py:237 - <module>() - === Adapter Registration Debug Info ===
2026-02-23 10:41:38,206 - wechat_backend.api - INFO - factory.py:238 - <module>() - DeepSeekAdapter status: True
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:239 - <module>() - DeepSeekR1Adapter status: True
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:240 - <module>() - QwenAdapter status: True
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:241 - <module>() - DoubaoAdapter status: True
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:242 - <module>() - ChatGPTAdapter status: True
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:243 - <module>() - GeminiAdapter status: True
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:244 - <module>() - ZhipuAdapter status: True
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:245 - <module>() - ErnieBotAdapter status: True
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:249 - <module>() - Registering DeepSeekAdapter
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for deepseek
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:255 - <module>() - Registering DeepSeekR1Adapter
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for deepseekr1
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:261 - <module>() - Registering QwenAdapter
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for qwen
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:267 - <module>() - Registering DoubaoAdapter
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for doubao
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering ChatGPTAdapter
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for chatgpt
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering GeminiAdapter
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for gemini
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering ZhipuAdapter
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for zhipu
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering ErnieBotAdapter
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for wenxin
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:297 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:298 - <module>() - === End Adapter Registration Debug Info ===
2026-02-23 10:41:38,207 - wechat_backend.api - INFO - factory.py:301 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 10:41:38,208 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-23 10:41:38,208 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-23 10:41:38,208 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-23 10:41:38,208 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-23 10:41:39,168 - wechat_backend.api - ERROR - debug_manager.py:115 - exception_log() - [EXCEPTION] INIT HEALTH_CHECK Doubao health check failed: 401, response: {"error":{"code":"AuthenticationError","message":"The API key format is incorrect. Request id: 02177181449940886475d51b405451fc484fdd1a9abe5031f7fda","param":"","type":"Unauthorized"}}...
2026-02-23 10:41:39,430 - wechat_backend.api - ERROR - debug_manager.py:115 - exception_log() - [EXCEPTION] INIT HEALTH_CHECK Doubao health check failed: 401, response: {"error":{"code":"AuthenticationError","message":"The API key format is incorrect. Request id: 02177181449966986475d51b405451fc484fdd1a9abe503290f0b","param":"","type":"Unauthorized"}}...
2026-02-23 10:41:39,430 - wechat_backend.api - INFO - app.py:232 - warm_up_adapters() - Adapter doubao health check completed
2026-02-23 10:41:39,431 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 10:41:39,433 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-23 10:41:39,433 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-23 10:41:39,433 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-23 10:41:39,433 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 10:41:39,433 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 10:41:39,433 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-23 10:41:39,433 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-23 10:41:39,433 - wechat_backend.api - INFO - factory.py:178 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-23 10:41:39,433 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 10:41:39,433 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-23 10:41:39,433 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-23 10:41:39,433 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 10:41:39,433 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-23 10:41:39,433 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-23 10:41:39,433 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 10:41:39,434 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 10:41:39,434 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-23 10:41:39,434 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-23 10:41:39,434 - wechat_backend.api - WARNING - app.py:236 - warm_up_adapters() - Adapter wenxin has no API key configured, skipping warm-up
2026-02-23 10:41:39,434 - wechat_backend.api - INFO - app.py:241 - warm_up_adapters() - Adapter warm-up completed
2026-02-23 10:41:40,355 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-23 10:41:40,362 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 10:41:40,362 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-23 10:41:40,362 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-23 10:41:40,367 - tzlocal - DEBUG - unix.py:120 - _get_localzone_name() - /etc/localtime found
2026-02-23 10:41:40,368 - tzlocal - DEBUG - unix.py:136 - _get_localzone_name() - 1 found:
 {'/etc/localtime is a symlink to': 'Asia/Shanghai'}
2026-02-23 10:41:40,369 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 10:41:40,369 - apscheduler.scheduler - DEBUG - base.py:1151 - _process_jobs() - Looking for jobs to run
2026-02-23 10:41:40,369 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 10:41:40,371 - apscheduler.scheduler - DEBUG - base.py:1252 - _process_jobs() - No jobs; waiting until a job is added
2026-02-23 10:41:40,373 - wechat_backend.api - DEBUG - debug_manager.py:66 - debug_log() - [DEBUG] WORKFLOW_MANAGER SYSTEM Starting background processor thread
2026-02-23 10:41:40,374 - wechat_backend.api - DEBUG - debug_manager.py:66 - debug_log() - [DEBUG] WORKFLOW_MANAGER SYSTEM Starting retry processor thread
2026-02-23 10:41:40,374 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-23 10:41:40,374 - jieba - DEBUG - __init__.py:69 - initialize() - Building prefix dict from /Users/sgl/PycharmProjects/PythonProject/.venv/lib/python3.14/site-packages/jieba/dict.txt ...
2026-02-23 10:41:40,374 - jieba - DEBUG - __init__.py:78 - initialize() - Loading model from cache /var/folders/m8/9lzgk90s02z276bclcvcvkg40000gn/T/jieba.cache
2026-02-23 10:41:40,832 - jieba - DEBUG - __init__.py:106 - initialize() - Loading model cost 0.45859384536743164 seconds.
2026-02-23 10:41:40,833 - jieba - DEBUG - __init__.py:107 - initialize() - Prefix dict has been built succesfully.
2026-02-23 10:41:40,834 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 10:41:40,834 - apscheduler.scheduler - DEBUG - base.py:1151 - _process_jobs() - Looking for jobs to run
2026-02-23 10:41:40,835 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 10:41:40,839 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-23 10:41:40,839 - apscheduler.scheduler - DEBUG - base.py:1252 - _process_jobs() - No jobs; waiting until a job is added
2026-02-23 10:41:40,841 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-23 10:41:40,841 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-23 10:41:40,842 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-23 10:41:40,844 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-23 10:41:40,844 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-23 10:41:40,846 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-23 10:41:40,846 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-23 10:41:40,847 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-23 10:41:40,848 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-23 10:41:40,849 - wechat_backend.api - INFO - views_analytics.py:571 - init_analytics_routes() - Analytics routes initialized
2026-02-23 10:41:40,849 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-23 10:41:40,850 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-23 10:41:40,851 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-23 10:41:40,852 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-23 10:41:40,852 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-23 10:41:40,852 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-23 10:41:40,853 - wechat_backend.api - INFO - views_analytics_behavior.py:570 - register_blueprints() - Analytics Blueprint registered
2026-02-23 10:41:40,854 - wechat_backend.api - INFO - views_audit_full.py:705 - register_blueprints() - Audit Blueprint registered
2026-02-23 10:41:40,855 - wechat_backend.api - INFO - views_pdf_export.py:326 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 10:41:40,857 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 10:41:40,857 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-23 10:41:40,857 - wechat_backend.api - INFO - async_export_service.py:292 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-23 10:41:40,858 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-23 10:41:40,858 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-23 10:41:40,857 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-23 10:41:40,858 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-23 10:41:40,860 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-23 10:41:40,860 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-23 10:41:40,861 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-23 10:41:40,863 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-23 10:41:40,863 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-23 10:41:40,863 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-23 10:41:40,863 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-23 10:41:40,864 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-23 10:41:40,864 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-23 10:41:40,864 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-23 10:41:40,864 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-23 10:41:40,864 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-23 10:41:40,865 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-23 10:41:40,865 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-23 10:41:40,865 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-23 10:41:40,865 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 10:41:40,865 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 10:41:40,865 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 10:41:40,866 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-23 10:41:40,866 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-23 10:41:40,866 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 10:41:40,866 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 10:41:40,866 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-23 10:41:40,867 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-23 10:41:40,867 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-23 10:41:40,867 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-23 10:41:40,867 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-23 10:41:40,867 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-23 10:41:40,867 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-23 10:41:40,867 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-23 10:41:40,867 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-23 10:41:40,867 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-23 10:41:40,867 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-23 10:41:40,867 - wechat_backend.api - INFO - app.py:212 - warm_up_adapters() - Starting adapter warm-up...
2026-02-23 10:41:40,868 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 10:41:40,868 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_test-doubao' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 10:41:40,868 - wechat_backend.api - DEBUG - debug_manager.py:66 - debug_log() - [DEBUG] AI_ADAPTER_INIT INIT DoubaoAdapter initialized for model: test-doubao with connection pooling and circuit breaker
2026-02-23 10:41:40,868 - wechat_backend.api - DEBUG - debug_manager.py:66 - debug_log() - [DEBUG] HEALTH_CHECK INIT Performing health check for Doubao API with model: test-doubao, URL: https://ark.cn-beijing.volces.com/api/v3/chat/completions
2026-02-23 10:41:40,893 - urllib3.connectionpool - DEBUG - connectionpool.py:1049 - _new_conn() - Starting new HTTPS connection (1): ark.cn-beijing.volces.com:443
2026-02-23 10:41:40,894 - werkzeug - WARNING - _internal.py:97 - _log() -  * Debugger is active!
2026-02-23 10:41:40,922 - werkzeug - INFO - _internal.py:97 - _log() -  * Debugger PIN: 884-445-834
2026-02-23 10:41:41,889 - urllib3.connectionpool - DEBUG - connectionpool.py:544 - _make_request() - https://ark.cn-beijing.volces.com:443 "POST /api/v3/chat/completions HTTP/1.1" 401 184
2026-02-23 10:41:41,891 - wechat_backend.api - ERROR - debug_manager.py:115 - exception_log() - [EXCEPTION] INIT HEALTH_CHECK Doubao health check failed: 401, response: {"error":{"code":"AuthenticationError","message":"The API key format is incorrect. Request id: 02177181450206019c15a6c60901f313acb79634e2aef9cdcc252","param":"","type":"Unauthorized"}}...
2026-02-23 10:41:41,893 - wechat_backend.api - DEBUG - debug_manager.py:66 - debug_log() - [DEBUG] HEALTH_CHECK INIT Performing health check for Doubao API with model: test-doubao, URL: https://ark.cn-beijing.volces.com/api/v3/chat/completions
2026-02-23 10:41:41,895 - urllib3.connectionpool - DEBUG - connectionpool.py:289 - _get_conn() - Resetting dropped connection: ark.cn-beijing.volces.com
2026-02-23 10:41:42,790 - urllib3.connectionpool - DEBUG - connectionpool.py:544 - _make_request() - https://ark.cn-beijing.volces.com:443 "POST /api/v3/chat/completions HTTP/1.1" 401 184
2026-02-23 10:41:42,791 - wechat_backend.api - ERROR - debug_manager.py:115 - exception_log() - [EXCEPTION] INIT HEALTH_CHECK Doubao health check failed: 401, response: {"error":{"code":"AuthenticationError","message":"The API key format is incorrect. Request id: 0217718145029927825215af71fb70e72d1e47bc500fa866df93c","param":"","type":"Unauthorized"}}...
2026-02-23 10:41:42,791 - wechat_backend.api - INFO - app.py:232 - warm_up_adapters() - Adapter doubao health check completed
2026-02-23 10:41:42,791 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 10:41:42,791 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-23 10:41:42,791 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-23 10:41:42,792 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-23 10:41:42,792 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 10:41:42,792 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 10:41:42,792 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-23 10:41:42,792 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-23 10:41:42,792 - wechat_backend.api - INFO - factory.py:178 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-23 10:41:42,792 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 10:41:42,793 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-23 10:41:42,793 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-23 10:41:42,793 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 10:41:42,793 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-23 10:41:42,793 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-23 10:41:42,793 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 10:41:42,793 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 10:41:42,793 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-23 10:41:42,793 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-23 10:41:42,793 - wechat_backend.api - WARNING - app.py:236 - warm_up_adapters() - Adapter wenxin has no API key configured, skipping warm-up
2026-02-23 10:41:42,793 - wechat_backend.api - INFO - app.py:241 - warm_up_adapters() - Adapter warm-up completed
2026-02-23 10:48:36,487 - wechat_backend.api - INFO - audit_views.py:29 - test_api() - Health check: /api/test called
2026-02-23 10:48:36,491 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 10:48:36] "GET /api/test HTTP/1.1" 200 -
2026-02-23 10:50:30,760 - wechat_backend.api - INFO - doubao_adapter.py:419 - __del__() - DoubaoAdapter session closed
2026-02-23 11:00:07,937 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 11:00:07,939 - wechat_backend.database - INFO - database_core.py:160 - init_db() - 数据库表结构初始化完成
2026-02-23 11:00:07,940 - wechat_backend.database - INFO - models.py:125 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 11:00:07,940 - wechat_backend.database - INFO - models.py:181 - init_task_status_db() - Task status database initialization completed
2026-02-23 11:00:07,997 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-23 11:00:08,004 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-23 11:00:08,005 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-23 11:00:08,006 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-23 11:00:08,010 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-23 11:00:08,010 - wechat_backend.api - INFO - factory.py:49 - <module>() - Successfully imported ChatGPTAdapter
2026-02-23 11:00:08,010 - wechat_backend.api - INFO - factory.py:58 - <module>() - Successfully imported GeminiAdapter
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:67 - <module>() - Successfully imported ZhipuAdapter
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:76 - <module>() - Successfully imported ErnieBotAdapter
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:83 - <module>() - === Completed AI Adapter Imports ===
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:237 - <module>() - === Adapter Registration Debug Info ===
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:238 - <module>() - DeepSeekAdapter status: True
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:239 - <module>() - DeepSeekR1Adapter status: True
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:240 - <module>() - QwenAdapter status: True
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:241 - <module>() - DoubaoAdapter status: True
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:242 - <module>() - ChatGPTAdapter status: True
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:243 - <module>() - GeminiAdapter status: True
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:244 - <module>() - ZhipuAdapter status: True
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:245 - <module>() - ErnieBotAdapter status: True
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:249 - <module>() - Registering DeepSeekAdapter
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for deepseek
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:255 - <module>() - Registering DeepSeekR1Adapter
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for deepseekr1
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:261 - <module>() - Registering QwenAdapter
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for qwen
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:267 - <module>() - Registering DoubaoAdapter
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for doubao
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering ChatGPTAdapter
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for chatgpt
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering GeminiAdapter
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for gemini
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering ZhipuAdapter
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for zhipu
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering ErnieBotAdapter
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for wenxin
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:297 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:298 - <module>() - === End Adapter Registration Debug Info ===
2026-02-23 11:00:08,011 - wechat_backend.api - INFO - factory.py:301 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 11:00:08,013 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-23 11:00:08,013 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-23 11:00:08,013 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-23 11:00:08,013 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-23 11:00:10,502 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-23 11:00:10,513 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 11:00:10,513 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-23 11:00:10,513 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-23 11:00:10,524 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 11:00:10,525 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 11:00:10,529 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-23 11:00:12,070 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 11:00:12,071 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 11:00:12,076 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-23 11:00:12,078 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-23 11:00:12,080 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-23 11:00:12,081 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-23 11:00:12,083 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-23 11:00:12,083 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-23 11:00:12,085 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-23 11:00:12,086 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-23 11:00:12,087 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-23 11:00:12,087 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-23 11:00:12,088 - wechat_backend.api - INFO - views_analytics.py:571 - init_analytics_routes() - Analytics routes initialized
2026-02-23 11:00:12,090 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-23 11:00:12,091 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-23 11:00:12,092 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-23 11:00:12,094 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-23 11:00:12,095 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-23 11:00:12,096 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-23 11:00:12,097 - wechat_backend.api - INFO - views_analytics_behavior.py:570 - register_blueprints() - Analytics Blueprint registered
2026-02-23 11:00:12,098 - wechat_backend.api - INFO - views_audit_full.py:705 - register_blueprints() - Audit Blueprint registered
2026-02-23 11:00:12,099 - wechat_backend.api - INFO - views_pdf_export.py:326 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 11:00:12,101 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 11:00:12,102 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-23 11:00:12,102 - wechat_backend.api - INFO - async_export_service.py:292 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-23 11:00:12,103 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-23 11:00:12,103 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-23 11:00:12,103 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-23 11:00:12,102 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-23 11:00:12,105 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-23 11:00:12,105 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-23 11:00:12,106 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-23 11:00:12,107 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-23 11:00:12,107 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-23 11:00:12,107 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-23 11:00:12,108 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-23 11:00:12,108 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-23 11:00:12,108 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-23 11:00:12,108 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-23 11:00:12,108 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-23 11:00:12,108 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-23 11:00:12,109 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-23 11:00:12,109 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-23 11:00:12,109 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-23 11:00:12,109 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 11:00:12,109 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 11:00:12,110 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 11:00:12,110 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-23 11:00:12,110 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-23 11:00:12,110 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 11:00:12,110 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 11:00:12,111 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-23 11:00:12,112 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-23 11:00:12,112 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-23 11:00:12,112 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-23 11:00:12,112 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-23 11:00:12,112 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-23 11:00:12,112 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-23 11:00:12,112 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-23 11:00:12,112 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-23 11:00:12,112 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-23 11:00:12,112 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-23 11:00:12,113 - wechat_backend.api - INFO - app.py:212 - warm_up_adapters() - Starting adapter warm-up...
2026-02-23 11:00:12,113 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 11:00:12,114 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_test-doubao' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 11:10:22,399 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 11:10:22,401 - wechat_backend.database - INFO - database_core.py:160 - init_db() - 数据库表结构初始化完成
2026-02-23 11:10:22,402 - wechat_backend.database - INFO - models.py:125 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 11:10:22,402 - wechat_backend.database - INFO - models.py:181 - init_task_status_db() - Task status database initialization completed
2026-02-23 11:10:22,532 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-23 11:10:22,540 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-23 11:10:22,541 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-23 11:10:22,542 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-23 11:10:22,547 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-23 11:10:22,548 - wechat_backend.api - INFO - factory.py:49 - <module>() - Successfully imported ChatGPTAdapter
2026-02-23 11:10:22,548 - wechat_backend.api - INFO - factory.py:58 - <module>() - Successfully imported GeminiAdapter
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:67 - <module>() - Successfully imported ZhipuAdapter
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:76 - <module>() - Successfully imported ErnieBotAdapter
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:83 - <module>() - === Completed AI Adapter Imports ===
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:237 - <module>() - === Adapter Registration Debug Info ===
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:238 - <module>() - DeepSeekAdapter status: True
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:239 - <module>() - DeepSeekR1Adapter status: True
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:240 - <module>() - QwenAdapter status: True
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:241 - <module>() - DoubaoAdapter status: True
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:242 - <module>() - ChatGPTAdapter status: True
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:243 - <module>() - GeminiAdapter status: True
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:244 - <module>() - ZhipuAdapter status: True
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:245 - <module>() - ErnieBotAdapter status: True
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:249 - <module>() - Registering DeepSeekAdapter
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for deepseek
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:255 - <module>() - Registering DeepSeekR1Adapter
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for deepseekr1
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:261 - <module>() - Registering QwenAdapter
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for qwen
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:267 - <module>() - Registering DoubaoAdapter
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for doubao
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering ChatGPTAdapter
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for chatgpt
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering GeminiAdapter
2026-02-23 11:10:22,549 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for gemini
2026-02-23 11:10:22,550 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering ZhipuAdapter
2026-02-23 11:10:22,550 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for zhipu
2026-02-23 11:10:22,550 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering ErnieBotAdapter
2026-02-23 11:10:22,550 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for wenxin
2026-02-23 11:10:22,550 - wechat_backend.api - INFO - factory.py:297 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 11:10:22,550 - wechat_backend.api - INFO - factory.py:298 - <module>() - === End Adapter Registration Debug Info ===
2026-02-23 11:10:22,550 - wechat_backend.api - INFO - factory.py:301 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 11:10:22,552 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-23 11:10:22,552 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-23 11:10:22,552 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-23 11:10:22,552 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-23 11:10:25,467 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-23 11:10:25,481 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 11:10:25,481 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-23 11:10:25,481 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-23 11:10:25,492 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 11:10:25,493 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 11:10:25,496 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-23 11:10:25,985 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 11:10:25,986 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 11:10:25,991 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-23 11:10:25,992 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-23 11:10:25,993 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-23 11:10:25,995 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-23 11:10:25,996 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-23 11:10:25,997 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-23 11:10:25,999 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-23 11:10:26,000 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-23 11:10:26,000 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-23 11:10:26,000 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-23 11:10:26,002 - wechat_backend.api - INFO - views_analytics.py:571 - init_analytics_routes() - Analytics routes initialized
2026-02-23 11:10:26,003 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-23 11:10:26,004 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-23 11:10:26,005 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-23 11:10:26,007 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-23 11:10:26,008 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-23 11:10:26,008 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-23 11:10:26,010 - wechat_backend.api - INFO - views_analytics_behavior.py:570 - register_blueprints() - Analytics Blueprint registered
2026-02-23 11:10:26,011 - wechat_backend.api - INFO - views_audit_full.py:705 - register_blueprints() - Audit Blueprint registered
2026-02-23 11:10:26,012 - wechat_backend.api - INFO - views_pdf_export.py:326 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 11:10:26,014 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 11:10:26,015 - wechat_backend.api - INFO - async_export_service.py:292 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-23 11:10:26,015 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-23 11:10:26,015 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-23 11:10:26,015 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-23 11:10:26,016 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-23 11:10:26,016 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-23 11:10:26,017 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-23 11:10:26,018 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-23 11:10:26,018 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-23 11:10:26,020 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-23 11:10:26,020 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-23 11:10:26,020 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-23 11:10:26,021 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-23 11:10:26,021 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-23 11:10:26,021 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-23 11:10:26,021 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-23 11:10:26,021 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-23 11:10:26,022 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-23 11:10:26,022 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-23 11:10:26,022 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-23 11:10:26,022 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-23 11:10:26,022 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 11:10:26,023 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 11:10:26,023 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 11:10:26,023 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-23 11:10:26,023 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-23 11:10:26,024 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 11:10:26,024 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 11:10:26,024 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-23 11:10:26,025 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-23 11:10:26,025 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-23 11:10:26,025 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-23 11:10:26,025 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-23 11:10:26,025 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-23 11:10:26,025 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-23 11:10:26,025 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-23 11:10:26,025 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-23 11:10:26,025 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-23 11:10:26,025 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-23 11:10:26,026 - wechat_backend.api - INFO - app.py:212 - warm_up_adapters() - Starting adapter warm-up...
2026-02-23 11:10:26,026 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 11:10:26,026 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_test-doubao' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 11:36:25,023 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 11:36:25,026 - wechat_backend.database - INFO - database_core.py:160 - init_db() - 数据库表结构初始化完成
2026-02-23 11:36:25,027 - wechat_backend.database - INFO - models.py:125 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 11:36:25,028 - wechat_backend.database - INFO - models.py:181 - init_task_status_db() - Task status database initialization completed
2026-02-23 11:36:25,103 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-23 11:36:25,109 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-23 11:36:25,110 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-23 11:36:25,111 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-23 11:36:25,115 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-23 11:36:25,116 - wechat_backend.api - INFO - factory.py:49 - <module>() - Successfully imported ChatGPTAdapter
2026-02-23 11:36:25,116 - wechat_backend.api - INFO - factory.py:58 - <module>() - Successfully imported GeminiAdapter
2026-02-23 11:36:25,116 - wechat_backend.api - INFO - factory.py:67 - <module>() - Successfully imported ZhipuAdapter
2026-02-23 11:36:25,116 - wechat_backend.api - INFO - factory.py:76 - <module>() - Successfully imported ErnieBotAdapter
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:83 - <module>() - === Completed AI Adapter Imports ===
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:237 - <module>() - === Adapter Registration Debug Info ===
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:238 - <module>() - DeepSeekAdapter status: True
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:239 - <module>() - DeepSeekR1Adapter status: True
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:240 - <module>() - QwenAdapter status: True
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:241 - <module>() - DoubaoAdapter status: True
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:242 - <module>() - ChatGPTAdapter status: True
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:243 - <module>() - GeminiAdapter status: True
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:244 - <module>() - ZhipuAdapter status: True
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:245 - <module>() - ErnieBotAdapter status: True
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:249 - <module>() - Registering DeepSeekAdapter
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for deepseek
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:255 - <module>() - Registering DeepSeekR1Adapter
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for deepseekr1
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:261 - <module>() - Registering QwenAdapter
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for qwen
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:267 - <module>() - Registering DoubaoAdapter
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for doubao
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering ChatGPTAdapter
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for chatgpt
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering GeminiAdapter
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for gemini
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering ZhipuAdapter
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for zhipu
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering ErnieBotAdapter
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for wenxin
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:297 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:298 - <module>() - === End Adapter Registration Debug Info ===
2026-02-23 11:36:25,117 - wechat_backend.api - INFO - factory.py:301 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 11:36:25,119 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-23 11:36:25,119 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-23 11:36:25,119 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-23 11:36:25,119 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-23 11:36:28,153 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-23 11:36:28,165 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 11:36:28,166 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-23 11:36:28,166 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-23 11:36:28,178 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 11:36:28,179 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 11:36:28,183 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-23 11:36:28,659 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 11:36:28,660 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 11:36:28,666 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-23 11:36:28,668 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-23 11:36:28,669 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-23 11:36:28,670 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-23 11:36:28,672 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-23 11:36:28,672 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-23 11:36:28,674 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-23 11:36:28,675 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-23 11:36:28,676 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-23 11:36:28,676 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-23 11:36:28,677 - wechat_backend.api - INFO - views_analytics.py:571 - init_analytics_routes() - Analytics routes initialized
2026-02-23 11:36:28,678 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-23 11:36:28,679 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-23 11:36:28,680 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-23 11:36:28,682 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-23 11:36:28,682 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-23 11:36:28,683 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-23 11:36:28,685 - wechat_backend.api - INFO - views_analytics_behavior.py:570 - register_blueprints() - Analytics Blueprint registered
2026-02-23 11:36:28,687 - wechat_backend.api - INFO - views_audit_full.py:705 - register_blueprints() - Audit Blueprint registered
2026-02-23 11:36:28,688 - wechat_backend.api - INFO - views_pdf_export.py:326 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 11:36:28,689 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 11:36:28,691 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-23 11:36:28,691 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-23 11:36:28,691 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-23 11:36:28,691 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-23 11:36:28,691 - wechat_backend.api - INFO - async_export_service.py:292 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-23 11:36:28,691 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-23 11:36:28,693 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-23 11:36:28,693 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-23 11:36:28,694 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-23 11:36:28,695 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-23 11:36:28,695 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-23 11:36:28,696 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-23 11:36:28,696 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-23 11:36:28,696 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-23 11:36:28,696 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-23 11:36:28,696 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-23 11:36:28,696 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-23 11:36:28,697 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-23 11:36:28,697 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-23 11:36:28,697 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-23 11:36:28,697 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-23 11:36:28,697 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 11:36:28,697 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 11:36:28,698 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 11:36:28,698 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-23 11:36:28,698 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-23 11:36:28,698 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 11:36:28,698 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 11:36:28,698 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-23 11:36:28,699 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-23 11:36:28,699 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-23 11:36:28,699 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-23 11:36:28,699 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-23 11:36:28,700 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-23 11:36:28,700 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-23 11:36:28,700 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-23 11:36:28,700 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-23 11:36:28,700 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-23 11:36:28,700 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-23 11:36:28,700 - wechat_backend.api - INFO - app.py:212 - warm_up_adapters() - Starting adapter warm-up...
2026-02-23 11:36:28,700 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 11:36:28,701 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_test-doubao' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 11:36:28,734 - werkzeug - INFO - _internal.py:97 - _log() - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2026-02-23 11:36:28,735 - werkzeug - INFO - _internal.py:97 - _log() - [33mPress CTRL+C to quit[0m
2026-02-23 11:36:28,736 - werkzeug - INFO - _internal.py:97 - _log() -  * Restarting with stat
2026-02-23 11:36:28,909 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 11:36:28,910 - wechat_backend.database - INFO - database_core.py:160 - init_db() - 数据库表结构初始化完成
2026-02-23 11:36:28,911 - wechat_backend.database - INFO - models.py:125 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 11:36:28,911 - wechat_backend.database - DEBUG - models.py:142 - init_task_status_db() - Task statuses table created or verified
2026-02-23 11:36:28,911 - wechat_backend.database - DEBUG - models.py:157 - init_task_status_db() - Deep intelligence results table created or verified
2026-02-23 11:36:28,911 - wechat_backend.database - DEBUG - models.py:177 - init_task_status_db() - Brand test results table created or verified
2026-02-23 11:36:28,911 - wechat_backend.database - INFO - models.py:181 - init_task_status_db() - Task status database initialization completed
2026-02-23 11:36:28,941 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-23 11:36:28,944 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-23 11:36:28,944 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-23 11:36:28,945 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-23 11:36:28,947 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-23 11:36:28,947 - wechat_backend.api - INFO - factory.py:49 - <module>() - Successfully imported ChatGPTAdapter
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:58 - <module>() - Successfully imported GeminiAdapter
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:67 - <module>() - Successfully imported ZhipuAdapter
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:76 - <module>() - Successfully imported ErnieBotAdapter
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:83 - <module>() - === Completed AI Adapter Imports ===
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:237 - <module>() - === Adapter Registration Debug Info ===
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:238 - <module>() - DeepSeekAdapter status: True
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:239 - <module>() - DeepSeekR1Adapter status: True
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:240 - <module>() - QwenAdapter status: True
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:241 - <module>() - DoubaoAdapter status: True
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:242 - <module>() - ChatGPTAdapter status: True
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:243 - <module>() - GeminiAdapter status: True
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:244 - <module>() - ZhipuAdapter status: True
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:245 - <module>() - ErnieBotAdapter status: True
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:249 - <module>() - Registering DeepSeekAdapter
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for deepseek
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:255 - <module>() - Registering DeepSeekR1Adapter
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for deepseekr1
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:261 - <module>() - Registering QwenAdapter
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for qwen
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:267 - <module>() - Registering DoubaoAdapter
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for doubao
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering ChatGPTAdapter
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for chatgpt
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering GeminiAdapter
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for gemini
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering ZhipuAdapter
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for zhipu
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering ErnieBotAdapter
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:157 - register() - Registered adapter for wenxin
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:297 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:298 - <module>() - === End Adapter Registration Debug Info ===
2026-02-23 11:36:28,948 - wechat_backend.api - INFO - factory.py:301 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 11:36:28,949 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-23 11:36:28,949 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-23 11:36:28,949 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-23 11:36:28,949 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-23 11:36:29,365 - wechat_backend.api - ERROR - debug_manager.py:115 - exception_log() - [EXCEPTION] INIT HEALTH_CHECK Doubao health check failed: 401, response: {"error":{"code":"AuthenticationError","message":"The API key format is incorrect. Request id: 02177181778939881ee74cb8a032e633286d13b005366ae723d2b","param":"","type":"Unauthorized"}}...
2026-02-23 11:36:29,568 - wechat_backend.api - ERROR - debug_manager.py:115 - exception_log() - [EXCEPTION] INIT HEALTH_CHECK Doubao health check failed: 401, response: {"error":{"code":"AuthenticationError","message":"The API key format is incorrect. Request id: 02177181778960481ee74cb8a032e633286d13b005366aed78ae0","param":"","type":"Unauthorized"}}...
2026-02-23 11:36:29,568 - wechat_backend.api - INFO - app.py:232 - warm_up_adapters() - Adapter doubao health check completed
2026-02-23 11:36:29,568 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 11:36:29,569 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-23 11:36:29,569 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-23 11:36:29,569 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-23 11:36:29,569 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 11:36:29,569 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 11:36:29,569 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-23 11:36:29,569 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-23 11:36:29,569 - wechat_backend.api - INFO - factory.py:178 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-23 11:36:29,569 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 11:36:29,569 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-23 11:36:29,569 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-23 11:36:29,569 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 11:36:29,569 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-23 11:36:29,569 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-23 11:36:29,569 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 11:36:29,569 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 11:36:29,569 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-23 11:36:29,569 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-23 11:36:29,569 - wechat_backend.api - WARNING - app.py:236 - warm_up_adapters() - Adapter wenxin has no API key configured, skipping warm-up
2026-02-23 11:36:29,569 - wechat_backend.api - INFO - app.py:241 - warm_up_adapters() - Adapter warm-up completed
2026-02-23 11:36:30,932 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-23 11:36:30,938 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 11:36:30,938 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-23 11:36:30,938 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-23 11:36:30,943 - tzlocal - DEBUG - unix.py:120 - _get_localzone_name() - /etc/localtime found
2026-02-23 11:36:30,944 - tzlocal - DEBUG - unix.py:136 - _get_localzone_name() - 1 found:
 {'/etc/localtime is a symlink to': 'Asia/Shanghai'}
2026-02-23 11:36:30,945 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 11:36:30,945 - apscheduler.scheduler - DEBUG - base.py:1151 - _process_jobs() - Looking for jobs to run
2026-02-23 11:36:30,947 - apscheduler.scheduler - DEBUG - base.py:1252 - _process_jobs() - No jobs; waiting until a job is added
2026-02-23 11:36:30,947 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 11:36:30,949 - wechat_backend.api - DEBUG - debug_manager.py:66 - debug_log() - [DEBUG] WORKFLOW_MANAGER SYSTEM Starting background processor thread
2026-02-23 11:36:30,949 - wechat_backend.api - DEBUG - debug_manager.py:66 - debug_log() - [DEBUG] WORKFLOW_MANAGER SYSTEM Starting retry processor thread
2026-02-23 11:36:30,949 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-23 11:36:30,949 - jieba - DEBUG - __init__.py:69 - initialize() - Building prefix dict from /Users/sgl/PycharmProjects/PythonProject/.venv/lib/python3.14/site-packages/jieba/dict.txt ...
2026-02-23 11:36:30,949 - jieba - DEBUG - __init__.py:78 - initialize() - Loading model from cache /var/folders/m8/9lzgk90s02z276bclcvcvkg40000gn/T/jieba.cache
2026-02-23 11:36:31,389 - jieba - DEBUG - __init__.py:106 - initialize() - Loading model cost 0.44010376930236816 seconds.
2026-02-23 11:36:31,389 - jieba - DEBUG - __init__.py:107 - initialize() - Prefix dict has been built succesfully.
2026-02-23 11:36:31,390 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 11:36:31,391 - apscheduler.scheduler - DEBUG - base.py:1151 - _process_jobs() - Looking for jobs to run
2026-02-23 11:36:31,391 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 11:36:31,392 - apscheduler.scheduler - DEBUG - base.py:1252 - _process_jobs() - No jobs; waiting until a job is added
2026-02-23 11:36:31,396 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-23 11:36:31,397 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-23 11:36:31,399 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-23 11:36:31,400 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-23 11:36:31,402 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-23 11:36:31,402 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-23 11:36:31,404 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-23 11:36:31,405 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-23 11:36:31,406 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-23 11:36:31,406 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-23 11:36:31,407 - wechat_backend.api - INFO - views_analytics.py:571 - init_analytics_routes() - Analytics routes initialized
2026-02-23 11:36:31,407 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-23 11:36:31,408 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-23 11:36:31,409 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-23 11:36:31,410 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-23 11:36:31,410 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-23 11:36:31,410 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-23 11:36:31,411 - wechat_backend.api - INFO - views_analytics_behavior.py:570 - register_blueprints() - Analytics Blueprint registered
2026-02-23 11:36:31,412 - wechat_backend.api - INFO - views_audit_full.py:705 - register_blueprints() - Audit Blueprint registered
2026-02-23 11:36:31,413 - wechat_backend.api - INFO - views_pdf_export.py:326 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 11:36:31,414 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 11:36:31,415 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-23 11:36:31,415 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-23 11:36:31,415 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-23 11:36:31,415 - wechat_backend.api - INFO - async_export_service.py:292 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-23 11:36:31,415 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-23 11:36:31,415 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-23 11:36:31,417 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-23 11:36:31,417 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-23 11:36:31,418 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-23 11:36:31,418 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-23 11:36:31,419 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-23 11:36:31,419 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-23 11:36:31,419 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-23 11:36:31,419 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-23 11:36:31,419 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-23 11:36:31,420 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-23 11:36:31,420 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-23 11:36:31,420 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-23 11:36:31,421 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-23 11:36:31,421 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-23 11:36:31,421 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-23 11:36:31,421 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 11:36:31,421 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 11:36:31,421 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 11:36:31,422 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-23 11:36:31,422 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-23 11:36:31,422 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 11:36:31,422 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 11:36:31,422 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-23 11:36:31,423 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-23 11:36:31,423 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-23 11:36:31,423 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-23 11:36:31,423 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-23 11:36:31,423 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-23 11:36:31,423 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-23 11:36:31,423 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-23 11:36:31,423 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-23 11:36:31,423 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-23 11:36:31,423 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-23 11:36:31,423 - wechat_backend.api - INFO - app.py:212 - warm_up_adapters() - Starting adapter warm-up...
2026-02-23 11:36:31,424 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 11:36:31,424 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_test-doubao' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 11:36:31,424 - wechat_backend.api - DEBUG - debug_manager.py:66 - debug_log() - [DEBUG] AI_ADAPTER_INIT INIT DoubaoAdapter initialized for model: test-doubao with connection pooling and circuit breaker
2026-02-23 11:36:31,424 - wechat_backend.api - DEBUG - debug_manager.py:66 - debug_log() - [DEBUG] HEALTH_CHECK INIT Performing health check for Doubao API with model: test-doubao, URL: https://ark.cn-beijing.volces.com/api/v3/chat/completions
2026-02-23 11:36:31,454 - werkzeug - WARNING - _internal.py:97 - _log() -  * Debugger is active!
2026-02-23 11:36:31,455 - urllib3.connectionpool - DEBUG - connectionpool.py:1049 - _new_conn() - Starting new HTTPS connection (1): ark.cn-beijing.volces.com:443
2026-02-23 11:36:31,476 - werkzeug - INFO - _internal.py:97 - _log() -  * Debugger PIN: 884-445-834
2026-02-23 11:36:32,104 - urllib3.connectionpool - DEBUG - connectionpool.py:544 - _make_request() - https://ark.cn-beijing.volces.com:443 "POST /api/v3/chat/completions HTTP/1.1" 401 184
2026-02-23 11:36:32,105 - wechat_backend.api - ERROR - debug_manager.py:115 - exception_log() - [EXCEPTION] INIT HEALTH_CHECK Doubao health check failed: 401, response: {"error":{"code":"AuthenticationError","message":"The API key format is incorrect. Request id: 0217718177921346701c75e44aa5c11ca5fd4df8d21a6f6eaade2","param":"","type":"Unauthorized"}}...
2026-02-23 11:36:32,105 - wechat_backend.api - DEBUG - debug_manager.py:66 - debug_log() - [DEBUG] HEALTH_CHECK INIT Performing health check for Doubao API with model: test-doubao, URL: https://ark.cn-beijing.volces.com/api/v3/chat/completions
2026-02-23 11:36:32,298 - urllib3.connectionpool - DEBUG - connectionpool.py:544 - _make_request() - https://ark.cn-beijing.volces.com:443 "POST /api/v3/chat/completions HTTP/1.1" 401 184
2026-02-23 11:36:32,299 - wechat_backend.api - ERROR - debug_manager.py:115 - exception_log() - [EXCEPTION] INIT HEALTH_CHECK Doubao health check failed: 401, response: {"error":{"code":"AuthenticationError","message":"The API key format is incorrect. Request id: 0217718177923336701c75e44aa5c11ca5fd4df8d21a6f665c979","param":"","type":"Unauthorized"}}...
2026-02-23 11:36:32,299 - wechat_backend.api - INFO - app.py:232 - warm_up_adapters() - Adapter doubao health check completed
2026-02-23 11:36:32,299 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 11:36:32,299 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-23 11:36:32,299 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-23 11:36:32,299 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-23 11:36:32,299 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 11:36:32,299 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 11:36:32,299 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-23 11:36:32,299 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-23 11:36:32,299 - wechat_backend.api - INFO - factory.py:178 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-23 11:36:32,299 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 11:36:32,299 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-23 11:36:32,299 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-23 11:36:32,299 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 11:36:32,299 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-23 11:36:32,299 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-23 11:36:32,299 - wechat_backend.api - ERROR - factory.py:214 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 11:36:32,300 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 11:36:32,300 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-23 11:36:32,300 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-23 11:36:32,300 - wechat_backend.api - WARNING - app.py:236 - warm_up_adapters() - Adapter wenxin has no API key configured, skipping warm-up
2026-02-23 11:36:32,300 - wechat_backend.api - INFO - app.py:241 - warm_up_adapters() - Adapter warm-up completed
2026-02-23 11:36:39,671 - wechat_backend.api - INFO - audit_views.py:29 - test_api() - Health check: /api/test called
2026-02-23 11:36:39,681 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:36:39] "GET /api/test HTTP/1.1" 200 -
2026-02-23 11:36:51,374 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:51.374021", "event_type": "api_call", "message": "API请求接收", "details": {"method": "POST", "endpoint": "/api/perform-brand-test", "user_id": "anonymous", "ip_address": "127.0.0.1", "request_size": 358}}
2026-02-23 11:36:51,374 - wechat_backend.api - INFO - diagnosis_views.py:78 - perform_brand_test() - [DEBUG] perform_brand_test called with method: POST
2026-02-23 11:36:51,375 - wechat_backend.api - INFO - diagnosis_views.py:79 - perform_brand_test() - [DEBUG] Headers: {'Host': '127.0.0.1:5000', 'Connection': 'keep-alive', 'Content-Length': '166', 'User-Agent': 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1 wechatdevtools/2.01.2510280 MicroMessenger/8.0.5 Language/zh_CN webview/ hash/1578406377 sid/SlXxePL3ju token/210fede561f772a81fe45876aa91ff3e', 'X-Device-Id': 'dev_1771814916373_2q6bn0ih8', 'Content-Type': 'application/json', 'Accept': '*/*', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'https://servicewechat.com/wxfd3b695920a78e1b/devtools/page-frame.html', 'Accept-Encoding': 'gzip, deflate, br', 'Accept-Language': 'zh-CN,zh;q=0.9'}
2026-02-23 11:36:51,375 - wechat_backend.api - INFO - diagnosis_views.py:80 - perform_brand_test() - [DEBUG] Headers: {'Host': '127.0.0.1:5000', 'Connection': 'keep-alive', 'Content-Length': '166', 'User-Agent': 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1 wechatdevtools/2.01.2510280 MicroMessenger/8.0.5 Language/zh_CN webview/ hash/1578406377 sid/SlXxePL3ju token/210fede561f772a81fe45876aa91ff3e', 'X-Device-Id': 'dev_1771814916373_2q6bn0ih8', 'Content-Type': 'application/json', 'Accept': '*/*', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'https://servicewechat.com/wxfd3b695920a78e1b/devtools/page-frame.html', 'Accept-Encoding': 'gzip, deflate, br', 'Accept-Language': 'zh-CN,zh;q=0.9'}
2026-02-23 11:36:51,375 - wechat_backend.api - INFO - diagnosis_views.py:125 - perform_brand_test() - [Sprint 1] 接收到品牌列表: ['华为', '小米', '比亚迪', '特斯拉']
2026-02-23 11:36:51,375 - wechat_backend.api - INFO - diagnosis_views.py:166 - perform_brand_test() - [Sprint 1] 转换后的模型列表: ['doubao'] (原始: ['doubao'])
2026-02-23 11:36:51,375 - wechat_backend.api - INFO - diagnosis_views.py:189 - perform_brand_test() - [QuestionSplit] 原始问题：20万左右的新能源汽车推荐
2026-02-23 11:36:51,375 - wechat_backend.api - INFO - diagnosis_views.py:190 - perform_brand_test() - [QuestionSplit] 分割后问题数：1
2026-02-23 11:36:51,375 - wechat_backend.api - INFO - diagnosis_views.py:192 - perform_brand_test() - [QuestionSplit] 问题1: 20万左右的新能源汽车推荐?
2026-02-23 11:36:51,375 - wechat_backend.api - INFO - diagnosis_views.py:220 - perform_brand_test() - === Runtime Adapter Status Check ===
2026-02-23 11:36:51,375 - wechat_backend.api - INFO - diagnosis_views.py:221 - perform_brand_test() - Selected models: [{'name': 'doubao', 'checked': True}]
2026-02-23 11:36:51,375 - wechat_backend.api - INFO - diagnosis_views.py:222 - perform_brand_test() - All registered adapters: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 11:36:51,375 - wechat_backend.api - INFO - diagnosis_views.py:223 - perform_brand_test() - MODEL_NAME_MAP: {'豆包': 'doubao', 'doubao': 'doubao', 'doubao-pro': 'doubao', 'doubao-cn': 'doubao', 'Doubao': 'doubao', 'DOUBAO': 'doubao', 'doubao-pro-5b': 'doubao', 'doubao-pro-7b': 'doubao', 'ep-20260212000000-gd5tq': 'doubao', 'qwen': 'qwen', '千问': 'qwen', '通义千问': 'qwen', 'tongyi': 'qwen', 'aliyun-qwen': 'qwen', 'qwen-max': 'qwen', 'qwen-plus': 'qwen', 'qwen-turbo': 'qwen', 'deepseek': 'deepseek', 'deepseek-chat': 'deepseek', 'deepseek-coder': 'deepseek', 'deepseekr1': 'deepseekr1', 'deepseek-r1': 'deepseekr1', 'deepseek-r1-distill': 'deepseekr1', '文心一言': 'wenxin', 'wenxin': 'wenxin', 'ernie': 'wenxin', 'Kimi': 'kimi', '月之暗面': 'kimi', 'moonshot': 'kimi', '元宝': 'yuanbao', 'bytedance-yuanbao': 'yuanbao', '讯飞星火': 'spark', 'xinghuo': 'spark', 'iFlytek': 'spark', '智谱AI': 'zhipu', '智谱': 'zhipu', 'zhipu': 'zhipu', 'chatglm': 'zhipu', 'glm-4': 'zhipu', 'glm-4-air': 'zhipu', 'glm-4-plus': 'zhipu', 'OpenAI': 'openai', 'ChatGPT': 'chatgpt', 'GPT': 'chatgpt', 'Claude': 'claude', 'Anthropic': 'claude', 'Gemini': 'gemini', 'Google': 'gemini', 'Perplexity': 'perplexity', 'Grok': 'grok', 'xAI': 'grok'}
2026-02-23 11:36:51,375 - wechat_backend.api - INFO - diagnosis_views.py:224 - perform_brand_test() - === End Runtime Adapter Status Check ===
2026-02-23 11:36:51,376 - wechat_backend.api - INFO - diagnosis_views.py:285 - run_async_test() - [AsyncTest] Initializing QuestionManager for execution_id: 914d6165-65b1-42cb-bc7d-7a0c72114aab
2026-02-23 11:36:51,376 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:51.376182", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/api/perform-brand-test", "status_code": 200, "response_time": 0.0016660690307617188, "response_size": 29, "user_id": "anonymous"}}
2026-02-23 11:36:51,376 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:51.376327", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/api/perform-brand-test", "method": "POST", "status_code": 200}}
2026-02-23 11:36:51,376 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:36:51] "POST /api/perform-brand-test HTTP/1.1" 200 -
2026-02-23 11:36:51,376 - wechat_backend.database - INFO - question_templates.py:159 - _load_standard_templates() - Loaded 14 standard question templates
2026-02-23 11:36:51,376 - wechat_backend.api - INFO - diagnosis_views.py:287 - run_async_test() - [AsyncTest] Successfully initialized managers for execution_id: 914d6165-65b1-42cb-bc7d-7a0c72114aab
2026-02-23 11:36:51,376 - wechat_backend.api - INFO - diagnosis_views.py:292 - run_async_test() - [AsyncTest] Validating custom questions for execution_id: 914d6165-65b1-42cb-bc7d-7a0c72114aab, questions: ['20万左右的新能源汽车推荐?']
2026-02-23 11:36:51,377 - wechat_backend.api - INFO - diagnosis_views.py:294 - run_async_test() - [AsyncTest] Question validation result for execution_id: 914d6165-65b1-42cb-bc7d-7a0c72114aab, result: {'valid': True, 'errors': [], 'cleaned_questions': ['20万左右的新能源汽车推荐']}
2026-02-23 11:36:51,377 - wechat_backend.api - INFO - diagnosis_views.py:302 - run_async_test() - [AsyncTest] Successfully validated questions for execution_id: 914d6165-65b1-42cb-bc7d-7a0c72114aab, raw_questions: ['20万左右的新能源汽车推荐']
2026-02-23 11:36:51,377 - wechat_backend.api - INFO - diagnosis_views.py:316 - run_async_test() - Main brand: 华为, Competitor brands: ['小米', '比亚迪', '特斯拉']
2026-02-23 11:36:51,377 - wechat_backend.api - INFO - diagnosis_views.py:319 - run_async_test() - Starting NxM execution engine for '914d6165-65b1-42cb-bc7d-7a0c72114aab'
2026-02-23 11:36:51,377 - wechat_backend.api - INFO - nxm_circuit_breaker.py:66 - _load_from_storage() - [CircuitBreaker] 加载状态：1 个模型处于熔断状态
2026-02-23 11:36:51,377 - wechat_backend.api - INFO - nxm_scheduler.py:57 - initialize_execution() - [Scheduler] 执行初始化：914d6165-65b1-42cb-bc7d-7a0c72114aab, 总任务数：1
2026-02-23 11:36:51,378 - wechat_backend.api - WARNING - nxm_execution_engine.py:94 - run_execution() - [NxM] 模型 doubao 已熔断，跳过
2026-02-23 11:36:51,378 - wechat_backend.api - WARNING - nxm_result_aggregator.py:139 - verify_completion() - [Verify] 结果不完整：0/1, 缺失：1
2026-02-23 11:36:51,378 - wechat_backend.api - ERROR - nxm_scheduler.py:120 - fail_execution() - [Scheduler] 执行失败：914d6165-65b1-42cb-bc7d-7a0c72114aab, 错误：结果不完整：0/1
2026-02-23 11:36:51,378 - wechat_backend.api - INFO - diagnosis_views.py:334 - run_async_test() - NxM execution completed successfully for '914d6165-65b1-42cb-bc7d-7a0c72114aab', formula: 1 问题 × 1 模型 = 1 次请求
2026-02-23 11:36:51,403 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:51.402958", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:36:51,403 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:51.403273", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.511543273925781e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:36:51,403 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:51.403414", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:36:51,403 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:36:51] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:36:52,220 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:52.219961", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:36:52,220 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:52.220491", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.012222290039062e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:36:52,220 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:52.220570", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:36:52,221 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:36:52] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:36:53,001 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:53.001732", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:36:53,002 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:53.002221", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.915496826171875e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:36:53,002 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:53.002406", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:36:53,002 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:36:53] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:36:53,808 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:53.808539", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:36:53,808 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:53.808754", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.792213439941406e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:36:53,808 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:53.808852", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:36:53,809 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:36:53] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:36:54,608 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:54.608183", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:36:54,608 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:54.608672", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.417533874511719e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:36:54,608 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:54.608849", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:36:54,609 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:36:54] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:36:55,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:55.397443", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:36:55,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:55.398334", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00035190582275390625, "response_size": 29, "user_id": null}}
2026-02-23 11:36:55,398 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:55.398708", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:36:55,399 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:36:55] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:36:56,200 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:56.200371", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:36:56,201 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:56.201056", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00017571449279785156, "response_size": 29, "user_id": null}}
2026-02-23 11:36:56,201 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:56.201338", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:36:56,201 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:36:56] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:36:56,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:56.997457", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:36:56,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:56.997698", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.793571472167969e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:36:56,997 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:56.997895", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:36:56,998 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:36:56] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:36:57,798 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:57.798535", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:36:57,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:57.799414", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.584426879882812e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:36:57,799 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:57.799680", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:36:57,800 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:36:57] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:36:58,600 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:58.600853", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:36:58,601 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:58.601297", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.486343383789062e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:36:58,601 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:58.601482", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:36:58,601 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:36:58] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:36:59,401 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:59.401359", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:36:59,402 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:59.401991", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.106231689453125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:36:59,402 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:36:59.402156", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:36:59,402 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:36:59] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:00,197 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:00.197943", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:00,198 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:00.198121", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.409385681152344e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:00,198 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:00.198180", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:00,198 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:00] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:00,996 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:00.996742", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:00,996 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:00.996902", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.5762786865234375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:00,997 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:00.996994", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:00,997 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:00] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:01,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:01.799559", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:01,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:01.799821", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.221366882324219e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:01,799 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:01.799886", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:01,800 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:01] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:02,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:02.598039", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:02,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:02.598739", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.486343383789062e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:02,598 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:02.598911", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:02,599 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:02] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:03,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:03.397397", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:03,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:03.397620", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.601478576660156e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:03,397 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:03.397756", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:03,398 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:03] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:04,199 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:04.199059", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:04,199 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:04.199500", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.392333984375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:04,199 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:04.199641", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:04,199 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:04] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:05,000 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:04.999931", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:05,000 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:05.000513", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00014781951904296875, "response_size": 29, "user_id": null}}
2026-02-23 11:37:05,000 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:05.000835", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:05,001 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:05] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:05,798 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:05.798725", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:05,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:05.799159", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.511543273925781e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:05,799 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:05.799415", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:05,799 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:05] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:06,597 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:06.597152", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:06,597 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:06.597322", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.504753112792969e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:06,597 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:06.597401", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:06,597 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:06] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:07,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:07.397222", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:07,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:07.397423", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.291534423828125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:07,397 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:07.397490", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:07,397 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:07] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:08,198 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:08.198729", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:08,199 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:08.199105", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.224082946777344e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:08,199 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:08.199249", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:08,199 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:08] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:09,004 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:09.004232", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:09,004 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:09.004624", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.176399230957031e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:09,004 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:09.004777", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:09,005 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:09] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:09,798 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:09.798202", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:09,798 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:09.798406", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.100799560546875e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:09,798 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:09.798486", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:09,798 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:09] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:10,597 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:10.597146", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:10,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:10.598539", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0002579689025878906, "response_size": 29, "user_id": null}}
2026-02-23 11:37:10,598 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:10.598880", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:10,599 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:10] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:11,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:11.397498", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:11,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:11.397841", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.507469177246094e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:11,397 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:11.397910", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:11,398 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:11] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:12,199 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:12.199613", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:12,200 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:12.200171", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.202957153320312e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:12,200 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:12.200382", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:12,200 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:12] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:12,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:12.997197", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:12,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:12.997438", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.104873657226562e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:12,997 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:12.997540", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:12,997 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:12] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:13,804 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:13.804295", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:13,804 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:13.804743", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.104873657226562e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:13,804 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:13.804871", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:13,805 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:13] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:14,596 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:14.596798", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:14,597 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:14.596988", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.00543212890625e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:14,597 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:14.597063", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:14,597 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:14] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:15,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:15.398514", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:15,399 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:15.399005", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.393692016601562e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:15,399 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:15.399311", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:15,399 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:15] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:16,198 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:16.198163", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:16,198 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:16.198618", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.796287536621094e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:16,198 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:16.198786", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:16,199 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:16] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:16,999 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:16.999040", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:17,000 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:17.000155", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00015115737915039062, "response_size": 29, "user_id": null}}
2026-02-23 11:37:17,000 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:17.000373", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:17,001 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:17] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:17,796 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:17.796154", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:17,796 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:17.796390", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.076957702636719e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:17,796 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:17.796462", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:17,796 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:17] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:18,602 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:18.601980", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:18,602 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:18.602526", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.870529174804688e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:18,602 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:18.602691", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:18,603 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:18] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:19,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:19.398083", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:19,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:19.398760", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00011396408081054688, "response_size": 29, "user_id": null}}
2026-02-23 11:37:19,399 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:19.399163", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:19,399 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:19] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:20,199 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:20.199041", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:20,199 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:20.199615", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.723403930664062e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:20,199 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:20.199797", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:20,200 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:20] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:20,998 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:20.998838", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:20,999 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:20.999310", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00016427040100097656, "response_size": 29, "user_id": null}}
2026-02-23 11:37:20,999 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:20.999607", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:21,000 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:21] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:21,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:21.798752", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:21,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:21.799346", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.987022399902344e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:21,799 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:21.799500", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:21,799 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:21] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:22,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:22.598027", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:22,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:22.598763", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.702278137207031e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:22,599 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:22.598983", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:22,599 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:22] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:23,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:23.398221", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:23,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:23.398529", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.29425048828125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:23,398 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:23.398632", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:23,398 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:23] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:24,208 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:24.208623", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:24,210 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:24.210082", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0001342296600341797, "response_size": 29, "user_id": null}}
2026-02-23 11:37:24,210 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:24.210250", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:24,210 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:24] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:25,003 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:25.003561", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:25,005 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:25.005446", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.000141143798828125, "response_size": 29, "user_id": null}}
2026-02-23 11:37:25,007 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:25.007542", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:25,008 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:25] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:25,801 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:25.801223", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:25,801 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:25.801881", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00012993812561035156, "response_size": 29, "user_id": null}}
2026-02-23 11:37:25,802 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:25.802091", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:25,802 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:25] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:26,600 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:26.600264", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:26,600 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:26.600420", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.0994415283203125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:26,600 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:26.600476", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:26,600 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:26] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:27,425 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:27.425422", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:27,425 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:27.425583", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.5762786865234375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:27,425 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:27.425646", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:27,425 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:27] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:28,202 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:28.202276", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:28,203 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:28.203021", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.702278137207031e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:28,203 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:28.203231", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:28,203 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:28] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:29,000 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:29.000886", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:29,001 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:29.001300", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.797645568847656e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:29,001 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:29.001449", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:29,001 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:29] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:29,797 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:29.796981", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:29,797 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:29.797195", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.1961669921875e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:29,797 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:29.797257", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:29,797 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:29] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:30,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:30.598262", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:30,599 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:30.599235", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.702278137207031e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:30,599 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:30.599445", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:30,600 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:30] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:31,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:31.398952", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:31,399 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:31.399210", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.104873657226562e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:31,399 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:31.399352", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:31,399 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:31] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:32,198 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:32.198641", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:32,199 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:32.199071", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.20159912109375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:32,199 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:32.199464", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:32,199 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:32] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:32,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:32.997734", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:32,998 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:32.997993", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.507469177246094e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:32,998 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:32.998093", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:32,998 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:32] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:33,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:33.799260", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:33,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:33.799681", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.414817810058594e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:33,799 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:33.799957", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:33,800 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:33] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:34,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:34.598281", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:34,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:34.598603", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.817413330078125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:34,598 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:34.598669", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:34,598 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:34] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:35,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:35.398436", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:35,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:35.398868", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.0108642578125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:35,399 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:35.399019", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:35,399 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:35] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:36,196 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:36.196278", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:36,196 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:36.196457", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.62396240234375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:36,196 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:36.196516", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:36,196 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:36] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:36,998 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:36.998452", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:36,999 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:36.999086", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.918212890625e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:36,999 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:36.999527", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:37,000 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:37] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:37,798 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:37.798439", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:37,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:37.799675", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0002319812774658203, "response_size": 29, "user_id": null}}
2026-02-23 11:37:37,799 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:37.799871", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:37,800 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:37] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:38,636 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:38.633360", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:38,639 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:38.639165", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.000141143798828125, "response_size": 29, "user_id": null}}
2026-02-23 11:37:38,639 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:38.639415", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:38,639 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:38] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:39,407 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:39.407177", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:39,407 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:39.407393", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.887580871582031e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:39,407 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:39.407466", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:39,407 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:39] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:40,205 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:40.205368", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:40,206 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:40.206118", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00010609626770019531, "response_size": 29, "user_id": null}}
2026-02-23 11:37:40,206 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:40.206297", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:40,206 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:40] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:41,002 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:41.002645", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:41,003 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:41.003022", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.605552673339844e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:41,003 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:41.003314", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:41,003 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:41] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:41,803 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:41.802951", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:41,803 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:41.803555", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.322166442871094e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:41,803 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:41.803676", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:41,803 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:41] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:42,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:42.598029", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:42,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:42.598221", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.814697265625e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:42,598 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:42.598297", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:42,598 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:42] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:43,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:43.397785", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:43,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:43.398510", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.988380432128906e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:43,398 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:43.398823", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:43,399 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:43] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:44,198 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:44.198631", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:44,199 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:44.199047", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.796287536621094e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:44,199 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:44.199298", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:44,199 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:44] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:44,999 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:44.999952", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:45,000 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:45.000207", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.914138793945312e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:45,000 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:45.000383", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:45,000 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:45] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:45,807 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:45.807336", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:45,807 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:45.807511", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.00543212890625e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:45,807 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:45.807578", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:45,807 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:45] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:46,628 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:46.627865", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:46,628 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:46.628311", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.981590270996094e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:46,628 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:46.628397", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:46,628 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:46] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:47,444 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:47.444029", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:47,445 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:47.445305", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00011491775512695312, "response_size": 29, "user_id": null}}
2026-02-23 11:37:47,445 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:47.445421", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:47,446 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:47] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:48,244 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:48.244771", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:48,245 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:48.245092", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.771087646484375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:48,245 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:48.245203", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:48,245 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:48] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:49,046 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:49.046556", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:49,048 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:49.048259", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00014901161193847656, "response_size": 29, "user_id": null}}
2026-02-23 11:37:49,048 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:49.048428", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:49,048 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:49] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:49,803 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:49.803662", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:49,803 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:49.803968", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.316734313964844e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:49,804 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:49.804049", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:49,804 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:49] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:50,597 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:50.597379", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:50,597 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:50.597616", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.38690185546875e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:50,597 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:50.597679", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:50,597 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:50] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:51,424 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:51.423787", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:51,424 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:51.424692", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0001556873321533203, "response_size": 29, "user_id": null}}
2026-02-23 11:37:51,424 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:51.424873", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:51,425 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:51] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:52,197 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:52.197107", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:52,197 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:52.197272", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.695487976074219e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:52,197 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:52.197333", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:52,197 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:52] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:53,000 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:53.000239", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:53,001 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:53.001074", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0004119873046875, "response_size": 29, "user_id": null}}
2026-02-23 11:37:53,001 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:53.001284", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:53,001 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:53] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:53,798 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:53.798554", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:53,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:53.798968", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.104873657226562e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:53,799 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:53.799274", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:53,799 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:53] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:54,596 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:54.596961", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:54,597 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:54.597179", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.888938903808594e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:54,597 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:54.597367", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:54,597 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:54] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:55,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:55.398638", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:55,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:55.398942", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.507469177246094e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:55,399 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:55.399051", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:55,399 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:55] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:56,251 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:56.251773", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:56,252 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:56.251989", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.719329833984375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:56,252 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:56.252054", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:56,252 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:56] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:57,027 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:57.027019", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:57,028 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:57.028003", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00014901161193847656, "response_size": 29, "user_id": null}}
2026-02-23 11:37:57,028 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:57.028176", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:57,028 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:57] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:57,811 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:57.811270", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:57,811 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:57.811752", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.797645568847656e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:57,812 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:57.812081", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:57,812 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:57] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:58,597 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:58.597922", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:58,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:58.598161", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.887580871582031e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:37:58,598 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:58.598229", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:58,598 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:58] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:37:59,403 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:59.403171", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:37:59,404 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:59.404769", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00045180320739746094, "response_size": 29, "user_id": null}}
2026-02-23 11:37:59,405 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:37:59.405052", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:37:59,405 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:37:59] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:00,199 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:00.199772", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:00,200 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:00.200305", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00015306472778320312, "response_size": 29, "user_id": null}}
2026-02-23 11:38:00,200 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:00.200745", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:00,201 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:00] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:00,999 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:00.999394", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:00,999 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:00.999626", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.814697265625e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:00,999 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:00.999708", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:00,999 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:00] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:01,798 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:01.798718", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:01,798 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:01.798875", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.314018249511719e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:01,798 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:01.798941", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:01,799 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:01] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:02,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:02.598348", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:02,599 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:02.599666", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00010585784912109375, "response_size": 29, "user_id": null}}
2026-02-23 11:38:02,599 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:02.599880", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:02,600 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:02] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:03,400 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:03.400255", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:03,400 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:03.400636", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.414817810058594e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:03,400 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:03.400891", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:03,402 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:03] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:04,198 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:04.198593", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:04,199 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:04.198986", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.295608520507812e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:04,199 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:04.199165", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:04,199 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:04] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:04,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:04.997110", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:04,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:04.997295", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.5762786865234375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:04,997 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:04.997356", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:04,997 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:04] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:05,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:05.799787", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:05,800 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:05.800441", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0002999305725097656, "response_size": 29, "user_id": null}}
2026-02-23 11:38:05,800 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:05.800616", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:05,800 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:05] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:06,599 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:06.599460", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:06,600 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:06.600492", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00010085105895996094, "response_size": 29, "user_id": null}}
2026-02-23 11:38:06,600 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:06.600930", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:06,601 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:06] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:07,410 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:07.410566", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:07,411 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:07.411086", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00015401840209960938, "response_size": 29, "user_id": null}}
2026-02-23 11:38:07,411 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:07.411253", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:07,411 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:07] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:08,199 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:08.199110", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:08,200 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:08.200516", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00016021728515625, "response_size": 29, "user_id": null}}
2026-02-23 11:38:08,201 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:08.201121", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:08,201 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:08] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:09,003 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:09.003718", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:09,004 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:09.004106", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.390975952148438e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:09,004 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:09.004185", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:09,004 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:09] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:09,798 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:09.798018", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:09,798 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:09.798377", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.200241088867188e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:09,798 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:09.798628", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:09,798 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:09] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:10,597 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:10.597637", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:10,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:10.598173", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.775161743164062e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:10,598 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:10.598456", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:10,599 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:10] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:11,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:11.397795", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:11,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:11.398218", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.797645568847656e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:11,398 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:11.398465", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:11,399 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:11] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:12,196 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:12.196651", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:12,196 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:12.196852", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.7670135498046875e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:12,196 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:12.196923", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:12,197 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:12] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:13,001 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:13.001486", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:13,001 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:13.001768", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.291534423828125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:13,001 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:13.001883", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:13,002 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:13] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:13,800 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:13.800215", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:13,801 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:13.801070", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.797645568847656e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:13,801 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:13.801347", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:13,801 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:13] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:14,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:14.598089", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:14,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:14.598452", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.390975952148438e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:14,598 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:14.598605", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:14,599 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:14] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:15,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:15.398318", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:15,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:15.398577", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.104873657226562e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:15,398 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:15.398742", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:15,398 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:15] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:16,197 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:16.197417", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:16,198 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:16.198030", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00021600723266601562, "response_size": 29, "user_id": null}}
2026-02-23 11:38:16,198 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:16.198203", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:16,198 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:16] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:17,009 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:17.009921", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:17,010 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:17.010366", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00014901161193847656, "response_size": 29, "user_id": null}}
2026-02-23 11:38:17,010 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:17.010680", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:17,010 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:17] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:17,797 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:17.797071", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:17,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:17.799076", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0001900196075439453, "response_size": 29, "user_id": null}}
2026-02-23 11:38:17,799 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:17.799548", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:17,799 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:17] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:18,596 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:18.596611", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:18,596 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:18.596857", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.291534423828125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:18,596 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:18.596926", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:18,597 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:18] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:19,396 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:19.396108", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:19,396 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:19.396289", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.719329833984375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:19,396 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:19.396353", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:19,396 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:19] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:20,197 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:20.197710", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:20,198 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:20.198407", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00012111663818359375, "response_size": 29, "user_id": null}}
2026-02-23 11:38:20,198 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:20.198719", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:20,199 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:20] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:21,000 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:21.000061", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:21,000 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:21.000399", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.604194641113281e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:21,000 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:21.000473", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:21,000 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:21] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:21,796 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:21.796810", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:21,797 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:21.797063", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.982948303222656e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:21,797 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:21.797159", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:21,797 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:21] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:22,596 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:22.596190", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:22,596 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:22.596359", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.6716461181640625e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:22,596 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:22.596443", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:22,596 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:22] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:23,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:23.397477", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:23,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:23.397718", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.1021575927734375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:23,397 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:23.397805", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:23,397 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:23] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:24,198 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:24.198431", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:24,199 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:24.199048", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00011014938354492188, "response_size": 29, "user_id": null}}
2026-02-23 11:38:24,199 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:24.199260", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:24,199 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:24] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:24,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:24.997099", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:24,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:24.997845", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.7738037109375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:24,998 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:24.998012", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:24,998 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:24] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:25,796 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:25.796164", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:25,796 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:25.796357", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.886222839355469e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:25,796 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:25.796465", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:25,796 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:25] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:26,596 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:26.596587", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:26,596 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:26.596754", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.504753112792969e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:26,596 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:26.596814", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:26,596 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:26] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:27,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:27.397871", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:27,398 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:27.398087", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.601478576660156e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:27,398 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:27.398156", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:27,398 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:27] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:28,197 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:28.197197", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:28,197 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:28.197382", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.5762786865234375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:28,197 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:28.197442", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:28,197 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:28] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:28,998 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:28.998669", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:28,998 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:28.998841", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.600120544433594e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:28,998 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:28.998938", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:28,999 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:28] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:29,796 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:29.796913", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:29,797 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:29.797148", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.7220458984375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:29,797 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:29.797299", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:29,797 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:29] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:30,599 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:30.599181", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:30,600 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:30.600044", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00018978118896484375, "response_size": 29, "user_id": null}}
2026-02-23 11:38:30,600 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:30.600258", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:30,600 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:30] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:31,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:31.397179", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:31,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:31.397343", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.409385681152344e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:31,397 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:31.397404", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:31,397 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:31] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:32,197 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:32.197337", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:32,197 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:32.197502", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.504753112792969e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:32,197 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:32.197570", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:32,197 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:32] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:32,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:32.997048", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:32,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:32.997233", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.5762786865234375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:32,997 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:32.997294", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:32,997 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:32] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:33,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:33.799089", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:33,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:33.799623", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.390975952148438e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:33,799 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:33.799773", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:33,800 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:33] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:34,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:34.598283", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:34,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:34.598530", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.985664367675781e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:34,598 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:34.598659", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:34,598 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:34] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:35,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:35.397496", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:35,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:35.397656", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.4809112548828125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:35,397 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:35.397715", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:35,397 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:35] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:36,197 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:36.197548", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:36,197 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:36.197723", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.412101745605469e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:36,197 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:36.197783", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:36,197 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:36] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:37,000 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:37.000031", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:37,001 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:37.001212", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.198883056640625e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:37,001 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:37.001338", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:37,001 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:37] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:37,819 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:37.819869", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:37,820 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:37.820478", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00016069412231445312, "response_size": 29, "user_id": null}}
2026-02-23 11:38:37,820 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:37.820833", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:37,821 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:37] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:38,606 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:38.605958", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:38,606 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:38.606278", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.29425048828125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:38,606 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:38.606371", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:38,606 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:38] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:39,416 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:39.416611", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:39,416 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:39.416861", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.291534423828125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:39,416 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:39.416934", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:39,417 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:39] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:40,234 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:40.234503", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:40,234 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:40.234943", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.580352783203125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:40,235 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:40.235027", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:40,235 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:40] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:41,020 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:41.020602", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:41,020 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:41.020789", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.1961669921875e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:41,020 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:41.020858", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:41,020 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:41] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:41,805 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:41.805420", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:41,805 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:41.805886", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.985664367675781e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:41,805 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:41.805956", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:41,806 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:41] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:42,597 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:42.597771", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:42,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:42.598212", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.507469177246094e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:42,598 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:42.598332", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:42,598 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:42] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:43,400 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:43.400546", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:43,400 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:43.400857", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.890296936035156e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:43,400 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:43.400957", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:43,401 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:43] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:44,199 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:44.199760", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:44,200 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:44.200424", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0002639293670654297, "response_size": 29, "user_id": null}}
2026-02-23 11:38:44,202 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:44.202424", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:44,203 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:44] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:44,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:44.997569", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:44,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:44.997730", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.314018249511719e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:44,997 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:44.997788", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:44,997 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:44] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:45,803 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:45.803319", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:45,803 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:45.803507", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.719329833984375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:45,803 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:45.803570", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:45,803 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:45] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:46,740 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:46.740237", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:46,742 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:46.742709", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00032019615173339844, "response_size": 29, "user_id": null}}
2026-02-23 11:38:46,743 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:46.743027", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:46,743 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:46] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:47,402 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:47.402465", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:47,402 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:47.402756", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.1975250244140625e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:47,403 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:47.403485", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:47,403 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:47] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:48,212 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:48.212742", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:48,213 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:48.213042", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.291534423828125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:48,213 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:48.213113", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:48,213 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:48] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:49,019 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:49.019005", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:49,019 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:49.019300", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.698204040527344e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:49,019 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:49.019369", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:49,019 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:49] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:49,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:49.799915", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:49,800 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:49.800128", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.076957702636719e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:49,800 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:49.800192", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:49,800 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:49] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:50,597 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:50.597797", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:50,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:50.598095", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.316734313964844e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:50,598 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:50.598181", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:50,598 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:50] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:51,404 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:51.403998", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:51,404 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:51.404275", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.2928924560546875e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:51,404 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:51.404349", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:51,404 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:51] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:52,197 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:52.197712", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:52,197 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:52.197932", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.76837158203125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:52,198 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:52.198004", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:52,198 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:52] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:52,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:52.997516", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:52,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:52.997802", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.1961669921875e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:52,997 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:52.997867", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:52,998 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:52] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:53,800 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:53.799939", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:53,801 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:53.800968", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00011014938354492188, "response_size": 29, "user_id": null}}
2026-02-23 11:38:53,801 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:53.801165", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:53,801 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:53] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:54,601 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:54.601493", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:54,602 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:54.601968", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00014591217041015625, "response_size": 29, "user_id": null}}
2026-02-23 11:38:54,602 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:54.602127", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:54,602 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:54] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:55,424 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:55.424224", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:55,424 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:55.424409", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.5762786865234375e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:55,424 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:55.424472", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:55,424 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:55] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:56,225 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:56.225627", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:56,225 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:56.225823", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.600120544433594e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:56,225 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:56.225887", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:56,226 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:56] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:56,999 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:56.999084", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:57,005 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:57.005802", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0005509853363037109, "response_size": 29, "user_id": null}}
2026-02-23 11:38:57,009 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:57.009704", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:57,011 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:57] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:57,796 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:57.796569", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:57,796 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:57.796765", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.790855407714844e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:57,796 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:57.796829", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:57,796 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:57] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:58,605 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:58.605381", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:58,605 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:58.605569", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.910064697265625e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:58,605 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:58.605632", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:58,605 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:58] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:38:59,399 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:59.399670", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:38:59,399 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:59.399901", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.914138793945312e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:38:59,400 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:38:59.400045", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:38:59,400 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:38:59] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:00,198 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:00.198748", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:00,200 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:00.200441", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0005919933319091797, "response_size": 29, "user_id": null}}
2026-02-23 11:39:00,200 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:00.200858", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:00,201 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:00] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:00,998 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:00.998410", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:00,999 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:00.999133", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0001850128173828125, "response_size": 29, "user_id": null}}
2026-02-23 11:39:00,999 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:00.999496", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:01,000 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:01] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:01,802 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:01.802653", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:01,803 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:01.803130", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.507469177246094e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:01,803 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:01.803201", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:01,803 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:01] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:02,599 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:02.599810", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:02,600 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:02.600171", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.818771362304688e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:02,600 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:02.600325", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:02,600 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:02] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:03,400 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:03.400023", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:03,400 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:03.400218", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.695487976074219e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:03,400 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:03.400339", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:03,400 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:03] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:04,199 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:04.199749", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:04,200 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:04.200528", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.0001163482666015625, "response_size": 29, "user_id": null}}
2026-02-23 11:39:04,201 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:04.200736", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:04,202 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:04] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:04,998 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:04.998092", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:04,998 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:04.998584", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.0108642578125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:04,998 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:04.998815", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:04,999 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:04] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:05,797 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:05.797384", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:05,797 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:05.797671", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.602836608886719e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:05,797 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:05.797801", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:05,797 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:05] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:06,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:06.598838", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:06,599 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:06.599039", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.1961669921875e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:06,599 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:06.599108", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:06,599 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:06] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:07,400 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:07.399962", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:07,401 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:07.401496", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00014090538024902344, "response_size": 29, "user_id": null}}
2026-02-23 11:39:07,401 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:07.401725", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:07,401 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:07] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:08,197 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:08.197834", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:08,198 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:08.198362", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00017309188842773438, "response_size": 29, "user_id": null}}
2026-02-23 11:39:08,198 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:08.198656", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:08,199 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:08] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:09,004 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:09.004672", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:09,004 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:09.004928", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.985664367675781e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:09,005 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:09.005115", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:09,005 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:09] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:09,797 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:09.797911", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:09,798 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:09.798328", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.224082946777344e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:09,798 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:09.798607", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:09,799 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:09] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:10,598 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:10.598767", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:10,599 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:10.599152", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 6.890296936035156e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:10,599 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:10.599302", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:10,599 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:10] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:11,399 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:11.399545", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:11,400 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:11.400072", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.605552673339844e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:11,400 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:11.400227", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:11,400 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:11] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:12,196 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:12.196295", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:12,196 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:12.196486", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.886222839355469e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:12,196 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:12.196551", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:12,196 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:12] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:12,997 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:12.997723", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:12,998 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:12.998260", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00014591217041015625, "response_size": 29, "user_id": null}}
2026-02-23 11:39:12,998 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:12.998442", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:12,999 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:12] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:13,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:13.799938", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:13,800 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:13.800291", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.817413330078125e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:13,800 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:13.800419", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:13,800 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:13] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:14,601 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:14.601104", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:14,601 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:14.601575", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 9.274482727050781e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:14,601 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:14.601729", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:14,602 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:14] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:15,396 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:15.396955", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:15,397 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:15.397352", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 0.00012087821960449219, "response_size": 29, "user_id": null}}
2026-02-23 11:39:15,397 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:15.397529", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:15,397 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:15] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:16,223 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:16.222924", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:16,223 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:16.223497", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 7.891654968261719e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:16,223 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:16.223606", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:16,223 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:16] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:16,998 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:16.998033", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:16,998 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:16.998205", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 3.695487976074219e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:16,998 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:16.998265", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:16,998 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:16] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:17,799 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:17.799720", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:17,800 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:17.800051", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 8.273124694824219e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:17,800 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:17.800153", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:17,800 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:17] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:18,597 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:18.597660", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:18,597 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:18.597880", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 5.602836608886719e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:18,598 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:18.597996", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:18,598 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:18] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:19,399 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:19.399625", "event_type": "api_call", "message": "API请求接收", "details": {"method": "GET", "endpoint": "/test/status", "user_id": null, "ip_address": "127.0.0.1", "request_size": 3}}
2026-02-23 11:39:19,399 - api - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:19.399923", "event_type": "api_call", "message": "API响应发送", "details": {"endpoint": "/test/status", "status_code": 200, "response_time": 4.410743713378906e-05, "response_size": 29, "user_id": null}}
2026-02-23 11:39:19,400 - audit - INFO - logging_enhancements.py:46 - _log_structured() - {"timestamp": "2026-02-23T03:39:19.400004", "event_type": "api_call", "message": "API访问记录", "details": {"user_id": "anonymous", "ip_address": "127.0.0.1", "endpoint": "/test/status", "method": "GET", "status_code": 200}}
2026-02-23 11:39:19,400 - werkzeug - INFO - _internal.py:97 - _log() - 127.0.0.1 - - [23/Feb/2026 11:39:19] "GET /test/status/914d6165-65b1-42cb-bc7d-7a0c72114aab HTTP/1.1" 200 -
2026-02-23 11:39:20,764 - wechat_backend.api - INFO - doubao_adapter.py:419 - __del__() - DoubaoAdapter session closed
2026-02-23 12:57:07,062 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 12:57:07,066 - wechat_backend.database - INFO - database_core.py:160 - init_db() - 数据库表结构初始化完成
2026-02-23 12:57:07,067 - wechat_backend.database - INFO - models.py:125 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 12:57:07,069 - wechat_backend.database - INFO - models.py:181 - init_task_status_db() - Task status database initialization completed
2026-02-23 12:57:07,191 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-23 12:57:07,197 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-23 12:57:07,198 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-23 12:57:07,199 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-23 12:57:07,206 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-23 12:57:07,206 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-23 12:57:07,206 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-23 12:57:07,207 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-23 12:57:07,207 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-23 12:57:07,207 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-23 12:57:07,207 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-23 12:57:07,207 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-23 12:57:07,207 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-23 12:57:07,207 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-23 12:57:07,207 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-23 12:57:07,207 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-23 12:57:07,207 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-23 12:57:07,207 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-23 12:57:07,207 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-23 12:57:07,207 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-23 12:57:07,207 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-23 12:57:07,207 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-23 12:57:07,208 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 12:57:07,209 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-23 12:57:07,209 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-23 12:57:07,209 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-23 12:57:07,209 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-23 12:57:10,045 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-23 12:57:10,060 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 12:57:10,064 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-23 12:57:10,066 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-23 12:57:10,082 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 12:57:10,084 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 12:57:10,087 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-23 12:57:11,581 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 12:57:11,582 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 12:57:11,587 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-23 12:57:11,589 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-23 12:57:11,590 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-23 12:57:11,591 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-23 12:57:11,593 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-23 12:57:11,594 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-23 12:57:11,596 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-23 12:57:11,597 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-23 12:57:11,597 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-23 12:57:11,597 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-23 12:57:11,599 - wechat_backend.api - INFO - views_analytics.py:571 - init_analytics_routes() - Analytics routes initialized
2026-02-23 12:57:11,600 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-23 12:57:11,601 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-23 12:57:11,602 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-23 12:57:11,605 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-23 12:57:11,605 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-23 12:57:11,606 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-23 12:57:11,607 - wechat_backend.api - INFO - views_analytics_behavior.py:570 - register_blueprints() - Analytics Blueprint registered
2026-02-23 12:57:11,609 - wechat_backend.api - INFO - views_audit_full.py:705 - register_blueprints() - Audit Blueprint registered
2026-02-23 12:57:11,610 - wechat_backend.api - INFO - views_pdf_export.py:326 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 12:57:11,611 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 12:57:11,612 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-23 12:57:11,612 - wechat_backend.api - INFO - async_export_service.py:292 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-23 12:57:11,613 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-23 12:57:11,613 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-23 12:57:11,613 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-23 12:57:11,613 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-23 12:57:11,615 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-23 12:57:11,615 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-23 12:57:11,616 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-23 12:57:11,617 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-23 12:57:11,618 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-23 12:57:11,618 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-23 12:57:11,618 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-23 12:57:11,618 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-23 12:57:11,618 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-23 12:57:11,618 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-23 12:57:11,619 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-23 12:57:11,619 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-23 12:57:11,619 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-23 12:57:11,619 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-23 12:57:11,619 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-23 12:57:11,619 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 12:57:11,620 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 12:57:11,620 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 12:57:11,620 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-23 12:57:11,620 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-23 12:57:11,620 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 12:57:11,620 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 12:57:11,620 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-23 12:57:11,622 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-23 12:57:11,622 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-23 12:57:11,622 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-23 12:57:11,622 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-23 12:57:11,622 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-23 12:57:11,622 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-23 12:57:11,622 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-23 12:57:11,622 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-23 12:57:11,622 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-23 12:57:11,622 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-23 12:57:11,622 - wechat_backend.api - INFO - app.py:212 - warm_up_adapters() - Starting adapter warm-up...
2026-02-23 12:57:11,623 - wechat_backend.api - WARNING - app.py:236 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-23 12:57:11,623 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 12:57:11,623 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-23 12:57:11,623 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-23 12:57:11,623 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-23 12:57:11,624 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 12:57:11,624 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 12:57:11,624 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-23 12:57:11,624 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-23 12:57:11,624 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-23 12:57:11,624 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 12:57:11,624 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-23 12:57:11,624 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-23 12:57:11,624 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 12:57:11,624 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-23 12:57:11,624 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-23 12:57:11,624 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 12:57:11,626 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 12:57:11,626 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-23 12:57:11,626 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-23 12:57:11,626 - wechat_backend.api - WARNING - app.py:236 - warm_up_adapters() - Adapter wenxin has no API key configured, skipping warm-up
2026-02-23 12:57:11,626 - wechat_backend.api - INFO - app.py:241 - warm_up_adapters() - Adapter warm-up completed
2026-02-23 12:57:11,656 - werkzeug - INFO - _internal.py:97 - _log() - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2026-02-23 12:57:11,656 - werkzeug - INFO - _internal.py:97 - _log() - [33mPress CTRL+C to quit[0m
2026-02-23 12:57:11,658 - werkzeug - INFO - _internal.py:97 - _log() -  * Restarting with stat
2026-02-23 12:57:11,836 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 12:57:11,837 - wechat_backend.database - INFO - database_core.py:160 - init_db() - 数据库表结构初始化完成
2026-02-23 12:57:11,837 - wechat_backend.database - INFO - models.py:125 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 12:57:11,838 - wechat_backend.database - INFO - models.py:181 - init_task_status_db() - Task status database initialization completed
2026-02-23 12:57:11,867 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-23 12:57:11,870 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-23 12:57:11,870 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-23 12:57:11,871 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-23 12:57:11,873 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-23 12:57:11,873 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-23 12:57:11,873 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-23 12:57:11,873 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-23 12:57:11,874 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 12:57:11,875 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-23 12:57:11,875 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-23 12:57:11,875 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-23 12:57:11,875 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-23 12:57:13,922 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-23 12:57:13,936 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 12:57:13,937 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-23 12:57:13,937 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-23 12:57:13,945 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 12:57:13,947 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 12:57:13,950 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-23 12:57:14,416 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 12:57:14,417 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 12:57:14,420 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-23 12:57:14,421 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-23 12:57:14,422 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-23 12:57:14,423 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-23 12:57:14,424 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-23 12:57:14,425 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-23 12:57:14,426 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-23 12:57:14,427 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-23 12:57:14,427 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-23 12:57:14,427 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-23 12:57:14,428 - wechat_backend.api - INFO - views_analytics.py:571 - init_analytics_routes() - Analytics routes initialized
2026-02-23 12:57:14,429 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-23 12:57:14,430 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-23 12:57:14,430 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-23 12:57:14,431 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-23 12:57:14,431 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-23 12:57:14,432 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-23 12:57:14,433 - wechat_backend.api - INFO - views_analytics_behavior.py:570 - register_blueprints() - Analytics Blueprint registered
2026-02-23 12:57:14,434 - wechat_backend.api - INFO - views_audit_full.py:705 - register_blueprints() - Audit Blueprint registered
2026-02-23 12:57:14,434 - wechat_backend.api - INFO - views_pdf_export.py:326 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 12:57:14,436 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 12:57:14,437 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-23 12:57:14,437 - wechat_backend.api - INFO - async_export_service.py:292 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-23 12:57:14,437 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-23 12:57:14,437 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-23 12:57:14,437 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-23 12:57:14,437 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-23 12:57:14,438 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-23 12:57:14,438 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-23 12:57:14,439 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-23 12:57:14,440 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-23 12:57:14,440 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-23 12:57:14,440 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-23 12:57:14,441 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-23 12:57:14,441 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-23 12:57:14,441 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-23 12:57:14,441 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-23 12:57:14,441 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-23 12:57:14,441 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-23 12:57:14,442 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-23 12:57:14,442 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-23 12:57:14,442 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-23 12:57:14,442 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 12:57:14,443 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 12:57:14,443 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 12:57:14,443 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-23 12:57:14,443 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-23 12:57:14,443 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 12:57:14,443 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 12:57:14,444 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-23 12:57:14,444 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-23 12:57:14,444 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-23 12:57:14,444 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-23 12:57:14,444 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-23 12:57:14,445 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-23 12:57:14,445 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-23 12:57:14,445 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-23 12:57:14,445 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-23 12:57:14,445 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-23 12:57:14,445 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-23 12:57:14,445 - wechat_backend.api - INFO - app.py:212 - warm_up_adapters() - Starting adapter warm-up...
2026-02-23 12:57:14,446 - wechat_backend.api - WARNING - app.py:236 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-23 12:57:14,446 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 12:57:14,446 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-23 12:57:14,446 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-23 12:57:14,446 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-23 12:57:14,446 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 12:57:14,446 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 12:57:14,446 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-23 12:57:14,446 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-23 12:57:14,447 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-23 12:57:14,447 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 12:57:14,447 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-23 12:57:14,448 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-23 12:57:14,448 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 12:57:14,448 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-23 12:57:14,448 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-23 12:57:14,448 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 12:57:14,448 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 12:57:14,448 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-23 12:57:14,448 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-23 12:57:14,448 - wechat_backend.api - WARNING - app.py:236 - warm_up_adapters() - Adapter wenxin has no API key configured, skipping warm-up
2026-02-23 12:57:14,448 - wechat_backend.api - INFO - app.py:241 - warm_up_adapters() - Adapter warm-up completed
2026-02-23 12:57:14,467 - werkzeug - WARNING - _internal.py:97 - _log() -  * Debugger is active!
2026-02-23 12:57:14,490 - werkzeug - INFO - _internal.py:97 - _log() -  * Debugger PIN: 884-445-834
2026-02-23 13:14:23,821 - werkzeug - INFO - _internal.py:97 - _log() -  * Detected change in '/Users/sgl/PycharmProjects/PythonProject/backend_python/run.py', reloading
2026-02-23 13:14:27,064 - werkzeug - INFO - _internal.py:97 - _log() -  * Restarting with stat
2026-02-23 13:14:27,719 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 13:14:27,721 - wechat_backend.database - INFO - database_core.py:160 - init_db() - 数据库表结构初始化完成
2026-02-23 13:14:27,722 - wechat_backend.database - INFO - models.py:125 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 13:14:27,723 - wechat_backend.database - INFO - models.py:181 - init_task_status_db() - Task status database initialization completed
2026-02-23 13:14:27,814 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-23 13:14:27,823 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-23 13:14:27,824 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-23 13:14:27,825 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-23 13:14:27,830 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-23 13:14:27,831 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-23 13:14:27,831 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-23 13:14:27,831 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-23 13:14:27,832 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-23 13:14:27,833 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-23 13:14:27,833 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 13:14:27,833 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-23 13:14:27,833 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 13:14:27,834 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-23 13:14:27,834 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-23 13:14:27,834 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-23 13:14:27,834 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-23 13:14:32,484 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-23 13:14:32,498 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 13:14:32,499 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-23 13:14:32,499 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-23 13:14:32,517 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 13:14:32,518 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 13:14:32,525 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-23 13:14:33,110 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 13:14:33,112 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 13:14:33,118 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-23 13:14:33,121 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-23 13:14:33,122 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-23 13:14:33,124 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-23 13:14:33,126 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-23 13:14:33,126 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-23 13:14:33,129 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-23 13:14:33,130 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-23 13:14:33,131 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-23 13:14:33,131 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-23 13:14:33,132 - wechat_backend.api - INFO - views_analytics.py:571 - init_analytics_routes() - Analytics routes initialized
2026-02-23 13:14:33,134 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-23 13:14:33,135 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-23 13:14:33,136 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-23 13:14:33,139 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-23 13:14:33,139 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-23 13:14:33,141 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-23 13:14:33,143 - wechat_backend.api - INFO - views_analytics_behavior.py:570 - register_blueprints() - Analytics Blueprint registered
2026-02-23 13:14:33,146 - wechat_backend.api - INFO - views_audit_full.py:705 - register_blueprints() - Audit Blueprint registered
2026-02-23 13:14:33,149 - wechat_backend.api - INFO - views_pdf_export.py:326 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 13:14:33,153 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 13:14:33,155 - wechat_backend.api - INFO - async_export_service.py:292 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-23 13:14:33,155 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-23 13:14:33,155 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-23 13:14:33,155 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-23 13:14:33,155 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-23 13:14:33,155 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-23 13:14:33,157 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-23 13:14:33,158 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-23 13:14:33,159 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-23 13:14:33,160 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-23 13:14:33,160 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-23 13:14:33,160 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-23 13:14:33,160 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-23 13:14:33,160 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-23 13:14:33,161 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-23 13:14:33,161 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-23 13:14:33,161 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-23 13:14:33,161 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-23 13:14:33,161 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-23 13:14:33,162 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-23 13:14:33,163 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-23 13:14:33,163 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 13:14:33,163 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 13:14:33,164 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 13:14:33,165 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-23 13:14:33,167 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-23 13:14:33,167 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 13:14:33,168 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 13:14:33,168 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-23 13:14:33,173 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-23 13:14:33,173 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-23 13:14:33,173 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-23 13:14:33,173 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-23 13:14:33,173 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-23 13:14:33,177 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-23 13:14:33,177 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-23 13:14:33,177 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-23 13:14:33,177 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-23 13:14:33,177 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-23 13:14:33,177 - wechat_backend.api - INFO - app.py:212 - warm_up_adapters() - Starting adapter warm-up...
2026-02-23 13:14:33,182 - wechat_backend.api - WARNING - app.py:236 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-23 13:14:33,183 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 13:14:33,183 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-23 13:14:33,183 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-23 13:14:33,184 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-23 13:14:33,184 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 13:14:33,184 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 13:14:33,184 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-23 13:14:33,184 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-23 13:14:33,184 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-23 13:14:33,184 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 13:14:33,185 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-23 13:14:33,185 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-23 13:14:33,185 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 13:14:33,185 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-23 13:14:33,185 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-23 13:14:33,185 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 13:14:33,185 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 13:14:33,185 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-23 13:14:33,185 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-23 13:14:33,188 - wechat_backend.api - WARNING - app.py:236 - warm_up_adapters() - Adapter wenxin has no API key configured, skipping warm-up
2026-02-23 13:14:33,188 - wechat_backend.api - INFO - app.py:241 - warm_up_adapters() - Adapter warm-up completed
2026-02-23 13:14:33,225 - werkzeug - WARNING - _internal.py:97 - _log() -  * Debugger is active!
2026-02-23 13:14:33,253 - werkzeug - INFO - _internal.py:97 - _log() -  * Debugger PIN: 884-445-834
2026-02-23 14:37:53,828 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 14:37:53,831 - wechat_backend.database - INFO - database_core.py:160 - init_db() - 数据库表结构初始化完成
2026-02-23 14:37:53,833 - wechat_backend.database - INFO - models.py:125 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-23 14:37:53,835 - wechat_backend.database - INFO - models.py:181 - init_task_status_db() - Task status database initialization completed
2026-02-23 14:37:53,989 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-23 14:37:53,995 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-23 14:37:53,996 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-23 14:37:53,997 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-23 14:37:54,001 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-23 14:37:54,001 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-23 14:37:54,002 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-23 14:37:54,002 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-23 14:37:54,002 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-23 14:37:54,003 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-23 14:37:54,004 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-23 14:37:54,004 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-23 14:37:54,004 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-23 14:37:54,004 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-23 14:37:54,004 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-23 14:37:54,004 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-23 14:37:54,004 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-23 14:37:54,004 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-23 14:37:54,004 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-23 14:37:54,004 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-23 14:37:54,004 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-23 14:37:54,004 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 14:37:54,004 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-23 14:37:54,004 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-23 14:37:54,006 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-23 14:37:54,006 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-23 14:37:54,006 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-23 14:37:54,006 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-23 14:38:03,170 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-23 14:38:03,185 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 14:38:03,185 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-23 14:38:03,186 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-23 14:38:03,217 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 14:38:03,219 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 14:38:03,222 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-23 14:38:04,941 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-23 14:38:04,942 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-23 14:38:04,949 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-23 14:38:04,951 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-23 14:38:04,952 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-23 14:38:04,954 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-23 14:38:04,955 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-23 14:38:04,956 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-23 14:38:04,958 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-23 14:38:04,959 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-23 14:38:04,960 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-23 14:38:04,960 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-23 14:38:04,961 - wechat_backend.api - INFO - views_analytics.py:571 - init_analytics_routes() - Analytics routes initialized
2026-02-23 14:38:04,963 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-23 14:38:04,964 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-23 14:38:04,965 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-23 14:38:04,968 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-23 14:38:04,968 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-23 14:38:04,969 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-23 14:38:04,971 - wechat_backend.api - INFO - views_analytics_behavior.py:570 - register_blueprints() - Analytics Blueprint registered
2026-02-23 14:38:04,973 - wechat_backend.api - INFO - views_audit_full.py:705 - register_blueprints() - Audit Blueprint registered
2026-02-23 14:38:04,974 - wechat_backend.api - INFO - views_pdf_export.py:326 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 14:38:04,975 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-23 14:38:04,977 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-23 14:38:04,977 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-23 14:38:04,977 - wechat_backend.api - INFO - async_export_service.py:292 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-23 14:38:04,977 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-23 14:38:04,977 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-23 14:38:04,977 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-23 14:38:04,979 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-23 14:38:04,979 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-23 14:38:04,980 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-23 14:38:04,981 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-23 14:38:04,982 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-23 14:38:04,982 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-23 14:38:04,982 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-23 14:38:04,982 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-23 14:38:04,983 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-23 14:38:04,983 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-23 14:38:04,983 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-23 14:38:04,983 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-23 14:38:04,983 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-23 14:38:04,983 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-23 14:38:04,984 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-23 14:38:04,984 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 14:38:04,984 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 14:38:04,984 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-23 14:38:04,984 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-23 14:38:04,984 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-23 14:38:04,985 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 14:38:04,985 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-23 14:38:04,985 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-23 14:38:04,986 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-23 14:38:04,986 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-23 14:38:04,986 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-23 14:38:04,986 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-23 14:38:04,986 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-23 14:38:04,987 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-23 14:38:04,987 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-23 14:38:04,987 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-23 14:38:04,987 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-23 14:38:04,987 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-23 14:38:04,987 - wechat_backend.api - INFO - app.py:212 - warm_up_adapters() - Starting adapter warm-up...
2026-02-23 14:38:04,988 - wechat_backend.api - WARNING - app.py:236 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-23 14:38:04,988 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 14:38:04,988 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-23 14:38:04,988 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-23 14:38:04,989 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-23 14:38:04,989 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 14:38:04,989 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 14:38:04,989 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-23 14:38:04,989 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-23 14:38:04,989 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-23 14:38:04,990 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 14:38:04,991 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-23 14:38:04,991 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-23 14:38:04,991 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 14:38:04,991 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-23 14:38:04,991 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-23 14:38:04,991 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-23 14:38:04,991 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-23 14:38:04,991 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-23 14:38:04,991 - wechat_backend.api - INFO - app.py:234 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-23 14:38:04,991 - wechat_backend.api - WARNING - app.py:236 - warm_up_adapters() - Adapter wenxin has no API key configured, skipping warm-up
2026-02-23 14:38:04,991 - wechat_backend.api - INFO - app.py:241 - warm_up_adapters() - Adapter warm-up completed
2026-02-24 22:26:31,768 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-24 22:26:31,771 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-24 22:26:31,775 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-24 22:26:31,776 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-24 22:26:31,914 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-24 22:26:31,929 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-24 22:26:31,930 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-24 22:26:31,932 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-24 22:26:31,967 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-24 22:26:31,969 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-24 22:26:31,971 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-24 22:26:31,973 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-24 22:26:31,976 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-24 22:26:31,978 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-24 22:26:31,978 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-24 22:26:31,978 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-24 22:26:31,978 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-24 22:26:31,978 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-24 22:26:31,978 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-24 22:26:31,978 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-24 22:26:31,978 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-24 22:26:31,978 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-24 22:26:31,978 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-24 22:26:31,979 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-24 22:26:31,980 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-24 22:26:31,980 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-24 22:26:31,981 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-24 22:26:31,981 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-24 22:26:34,957 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-24 22:26:53,888 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-24 22:26:53,893 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-24 22:26:53,894 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-24 22:26:53,895 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-24 22:26:53,956 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-24 22:26:53,961 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-24 22:26:53,962 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-24 22:26:53,963 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-24 22:26:53,968 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-24 22:26:53,968 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-24 22:26:53,969 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-24 22:26:53,969 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-24 22:26:53,969 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-24 22:26:53,970 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-24 22:26:53,971 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-24 22:26:53,971 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-24 22:26:53,971 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-24 22:26:53,972 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-24 22:26:56,264 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-24 22:26:57,200 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-24 22:26:57,200 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-24 22:26:57,201 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-24 22:26:57,217 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-24 22:26:57,218 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-24 22:26:57,224 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-24 22:26:57,678 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-24 22:26:57,678 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-24 22:26:57,687 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-24 22:26:57,689 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-24 22:26:57,690 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-24 22:26:57,691 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-24 22:26:57,693 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-24 22:26:57,694 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-24 22:26:57,701 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-24 22:26:57,702 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-24 22:26:57,702 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-24 22:26:57,702 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-24 22:26:57,706 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-24 22:26:57,708 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-24 22:26:57,709 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-24 22:26:57,710 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-24 22:26:57,712 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-24 22:26:57,712 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-24 22:26:57,713 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-24 22:26:57,718 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-24 22:26:57,724 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-24 22:26:57,726 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-24 22:26:57,728 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-24 22:26:57,736 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-24 22:26:57,736 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-24 22:26:57,736 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-24 22:26:57,736 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-24 22:26:57,736 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-24 22:26:57,736 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-24 22:26:57,738 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-24 22:26:57,738 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-24 22:26:57,739 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-24 22:26:57,740 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-24 22:26:57,740 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-24 22:26:57,741 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-24 22:26:57,741 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-24 22:26:57,741 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-24 22:26:57,741 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-24 22:26:57,742 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-24 22:26:57,742 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-24 22:26:57,742 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-24 22:26:57,742 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-24 22:26:57,742 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-24 22:26:57,742 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-24 22:26:57,743 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 22:26:57,743 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 22:26:57,743 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 22:26:57,743 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-24 22:26:57,743 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-24 22:26:57,743 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-24 22:26:57,744 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-24 22:26:57,744 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-24 23:17:18,539 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-24 23:17:18,546 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-24 23:17:18,547 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-24 23:17:18,548 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-24 23:17:18,650 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-24 23:17:18,656 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-24 23:17:18,656 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-24 23:17:18,657 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-24 23:17:18,662 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-24 23:17:18,662 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-24 23:17:18,662 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-24 23:17:18,663 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-24 23:17:18,663 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-24 23:17:18,663 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-24 23:17:18,663 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-24 23:17:18,663 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-24 23:17:18,663 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-24 23:17:18,663 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-24 23:17:18,663 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-24 23:17:18,663 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-24 23:17:18,663 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-24 23:17:18,663 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-24 23:17:18,663 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-24 23:17:18,663 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-24 23:17:18,663 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-24 23:17:18,664 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-24 23:17:18,665 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-24 23:17:18,665 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-24 23:17:18,665 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-24 23:17:18,665 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-24 23:17:21,596 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-24 23:17:21,704 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-24 23:17:21,704 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-24 23:17:21,705 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-24 23:17:21,714 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-24 23:17:21,715 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-24 23:17:21,719 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-24 23:17:23,070 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-24 23:17:23,070 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-24 23:17:23,075 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-24 23:17:23,077 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-24 23:17:23,078 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-24 23:17:23,079 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-24 23:17:23,081 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-24 23:17:23,082 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-24 23:17:23,083 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-24 23:17:23,084 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-24 23:17:23,085 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-24 23:17:23,085 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-24 23:17:23,086 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-24 23:17:23,087 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-24 23:17:23,087 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-24 23:17:23,088 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-24 23:17:23,090 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-24 23:17:23,090 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-24 23:17:23,091 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-24 23:17:23,092 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-24 23:17:23,094 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-24 23:17:23,095 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-24 23:17:23,096 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-24 23:17:23,098 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-24 23:17:23,098 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-24 23:17:23,098 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-24 23:17:23,098 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-24 23:17:23,098 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-24 23:17:23,098 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-24 23:17:23,100 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-24 23:17:23,100 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-24 23:17:23,100 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-24 23:17:23,102 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-24 23:17:23,102 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-24 23:17:23,102 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-24 23:17:23,102 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-24 23:17:23,103 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-24 23:17:23,103 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-24 23:17:23,103 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-24 23:17:23,103 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-24 23:17:23,103 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-24 23:17:23,103 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-24 23:17:23,103 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-24 23:17:23,104 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-24 23:17:23,104 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 23:17:23,104 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 23:17:23,104 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 23:17:23,104 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-24 23:17:23,105 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-24 23:17:23,105 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-24 23:17:23,105 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-24 23:17:23,105 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-24 23:17:23,106 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-24 23:17:23,106 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-24 23:17:23,106 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-24 23:17:23,106 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-24 23:17:23,106 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-24 23:17:23,106 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-24 23:17:23,107 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-24 23:17:23,107 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-24 23:17:23,107 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-24 23:17:23,107 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-24 23:17:23,107 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-24 23:17:23,107 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-24 23:17:23,107 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-24 23:17:23,107 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-24 23:17:23,107 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-24 23:17:23,107 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-24 23:17:23,108 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-24 23:17:23,108 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-24 23:17:23,108 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-24 23:17:23,108 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-24 23:17:23,108 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-24 23:17:23,108 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-24 23:17:23,108 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-24 23:17:23,108 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-24 23:17:23,109 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-24 23:17:23,109 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-24 23:17:23,109 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-24 23:17:23,109 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-24 23:17:23,109 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-24 23:17:23,109 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-24 23:17:23,109 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-24 23:17:23,109 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter wenxin has no API key configured, skipping warm-up
2026-02-24 23:17:23,109 - wechat_backend.api - INFO - app.py:253 - warm_up_adapters() - Adapter warm-up completed
2026-02-24 23:17:23,354 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-24 23:17:23,355 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-24 23:17:23,356 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-24 23:17:23,356 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-24 23:17:23,391 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-24 23:17:23,395 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-24 23:17:23,395 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-24 23:17:23,395 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-24 23:17:23,398 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-24 23:17:23,398 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-24 23:17:23,398 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-24 23:17:23,398 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-24 23:17:23,398 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-24 23:17:23,398 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-24 23:17:23,398 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-24 23:17:23,399 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-24 23:17:23,400 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-24 23:17:23,400 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-24 23:17:23,400 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-24 23:17:23,400 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-24 23:17:25,330 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-24 23:17:25,378 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-24 23:17:25,379 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-24 23:17:25,379 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-24 23:17:25,386 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-24 23:17:25,388 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-24 23:17:25,390 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-24 23:17:25,837 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-24 23:17:25,838 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-24 23:17:25,842 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-24 23:17:25,844 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-24 23:17:25,845 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-24 23:17:25,846 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-24 23:17:25,848 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-24 23:17:25,848 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-24 23:17:25,850 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-24 23:17:25,851 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-24 23:17:25,852 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-24 23:17:25,852 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-24 23:17:25,853 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-24 23:17:25,853 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-24 23:17:25,854 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-24 23:17:25,855 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-24 23:17:25,860 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-24 23:17:25,860 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-24 23:17:25,861 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-24 23:17:25,862 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-24 23:17:25,863 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-24 23:17:25,863 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-24 23:17:25,865 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-24 23:17:25,865 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-24 23:17:25,866 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-24 23:17:25,866 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-24 23:17:25,866 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-24 23:17:25,866 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-24 23:17:25,866 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-24 23:17:25,868 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-24 23:17:25,868 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-24 23:17:25,869 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-24 23:17:25,870 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-24 23:17:25,870 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-24 23:17:25,870 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-24 23:17:25,871 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-24 23:17:25,871 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-24 23:17:25,871 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-24 23:17:25,871 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-24 23:17:25,871 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-24 23:17:25,872 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-24 23:17:25,872 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-24 23:17:25,872 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-24 23:17:25,872 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-24 23:17:25,873 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 23:17:25,873 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 23:17:25,873 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 23:17:25,873 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-24 23:17:25,873 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-24 23:17:25,873 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-24 23:17:25,874 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-24 23:17:25,874 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-24 23:17:25,874 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-24 23:17:25,874 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-24 23:17:25,874 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-24 23:17:25,874 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-24 23:17:25,874 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-24 23:17:25,875 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-24 23:17:25,875 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-24 23:17:25,875 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-24 23:17:25,875 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-24 23:17:25,875 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-24 23:17:25,875 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-24 23:17:25,875 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-24 23:17:25,876 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-24 23:17:25,876 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-24 23:17:25,876 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-24 23:17:25,876 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-24 23:17:25,876 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-24 23:17:25,876 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-24 23:41:12,640 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-24 23:41:12,654 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-24 23:41:12,655 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-24 23:41:12,656 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-24 23:41:12,739 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-24 23:41:12,745 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-24 23:41:12,745 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-24 23:41:12,746 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-24 23:41:12,751 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-24 23:41:12,752 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-24 23:41:12,752 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-24 23:41:12,753 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-24 23:41:12,753 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-24 23:41:12,753 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-24 23:41:12,753 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-24 23:41:12,753 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-24 23:41:12,754 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-24 23:41:12,756 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-24 23:41:12,756 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-24 23:41:12,756 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-24 23:41:12,756 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-24 23:41:15,344 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-24 23:41:15,434 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-24 23:41:15,434 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-24 23:41:15,435 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-24 23:41:15,445 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-24 23:41:15,447 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-24 23:41:15,450 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-24 23:41:16,096 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-24 23:41:16,097 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-24 23:41:16,105 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-24 23:41:16,107 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-24 23:41:16,109 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-24 23:41:16,111 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-24 23:41:16,113 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-24 23:41:16,113 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-24 23:41:16,115 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-24 23:41:16,116 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-24 23:41:16,117 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-24 23:41:16,117 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-24 23:41:16,119 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-24 23:41:16,120 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-24 23:41:16,121 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-24 23:41:16,123 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-24 23:41:16,125 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-24 23:41:16,125 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-24 23:41:16,126 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-24 23:41:16,128 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-24 23:41:16,129 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-24 23:41:16,130 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-24 23:41:16,132 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-24 23:41:16,134 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-24 23:41:16,135 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-24 23:41:16,135 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-24 23:41:16,135 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-24 23:41:16,135 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-24 23:41:16,135 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-24 23:41:16,137 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-24 23:41:16,138 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-24 23:41:16,138 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-24 23:41:16,140 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-24 23:41:16,140 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-24 23:41:16,140 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-24 23:41:16,141 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-24 23:41:16,141 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-24 23:41:16,141 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-24 23:41:16,142 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-24 23:41:16,142 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-24 23:41:16,142 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-24 23:41:16,142 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-24 23:41:16,143 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-24 23:41:16,143 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-24 23:41:16,144 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 23:41:16,144 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 23:41:16,144 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 23:41:16,145 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-24 23:41:16,145 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-24 23:41:16,145 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-24 23:41:16,145 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-24 23:41:16,145 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-24 23:41:16,147 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-24 23:41:16,147 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-24 23:41:16,147 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-24 23:41:16,147 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-24 23:41:16,147 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-24 23:41:16,148 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-24 23:41:16,148 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-24 23:41:16,148 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-24 23:41:16,148 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-24 23:41:16,148 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-24 23:41:16,148 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-24 23:41:16,149 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-24 23:41:16,149 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-24 23:41:16,149 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-24 23:41:16,149 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-24 23:41:16,149 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-24 23:41:16,149 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-24 23:41:16,149 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-24 23:41:16,149 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-24 23:41:16,149 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-24 23:41:16,149 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-24 23:41:16,149 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-24 23:41:16,149 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-24 23:41:16,149 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-24 23:41:16,149 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-24 23:41:16,150 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-24 23:41:16,150 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-24 23:41:16,150 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-24 23:41:16,151 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-24 23:41:16,151 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-24 23:41:16,151 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-24 23:41:16,151 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter wenxin has no API key configured, skipping warm-up
2026-02-24 23:41:16,151 - wechat_backend.api - INFO - app.py:253 - warm_up_adapters() - Adapter warm-up completed
2026-02-24 23:42:10,670 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-24 23:42:10,671 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-24 23:42:10,673 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-24 23:42:10,674 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-24 23:42:10,720 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-24 23:42:10,727 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-24 23:42:10,728 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-24 23:42:10,729 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-24 23:42:10,732 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-24 23:42:10,733 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-24 23:42:10,733 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-24 23:42:10,734 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-24 23:42:10,734 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-24 23:42:10,734 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-24 23:42:10,734 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-24 23:42:10,734 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-24 23:42:10,735 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-24 23:42:10,737 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-24 23:42:10,737 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-24 23:42:10,737 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-24 23:42:10,737 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-24 23:42:12,928 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-24 23:42:12,997 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-24 23:42:12,997 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-24 23:42:12,997 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-24 23:42:13,007 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-24 23:42:13,009 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-24 23:42:13,012 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-24 23:42:13,451 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-24 23:42:13,452 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-24 23:42:13,456 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-24 23:42:13,458 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-24 23:42:13,459 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-24 23:42:13,460 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-24 23:42:13,461 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-24 23:42:13,461 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-24 23:42:13,463 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-24 23:42:13,463 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-24 23:42:13,464 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-24 23:42:13,464 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-24 23:42:13,465 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-24 23:42:13,466 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-24 23:42:13,467 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-24 23:42:13,468 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-24 23:42:13,470 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-24 23:42:13,470 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-24 23:42:13,471 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-24 23:42:13,472 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-24 23:42:13,473 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-24 23:42:13,474 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-24 23:42:13,475 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-24 23:42:13,476 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-24 23:42:13,476 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-24 23:42:13,477 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-24 23:42:13,476 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-24 23:42:13,477 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-24 23:42:13,477 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-24 23:42:13,478 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-24 23:42:13,478 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-24 23:42:13,479 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-24 23:42:13,480 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-24 23:42:13,480 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-24 23:42:13,480 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-24 23:42:13,481 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-24 23:42:13,481 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-24 23:42:13,481 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-24 23:42:13,481 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-24 23:42:13,481 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-24 23:42:13,481 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-24 23:42:13,482 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-24 23:42:13,482 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-24 23:42:13,482 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-24 23:42:13,482 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 23:42:13,482 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 23:42:13,482 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 23:42:13,483 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-24 23:42:13,483 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-24 23:42:13,483 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-24 23:42:13,483 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-24 23:42:13,483 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-24 23:42:13,485 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-24 23:42:13,485 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-24 23:42:13,485 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-24 23:42:13,485 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-24 23:42:13,485 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-24 23:42:13,485 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-24 23:42:13,485 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-24 23:42:13,485 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-24 23:42:13,485 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-24 23:42:13,485 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-24 23:42:13,486 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-24 23:42:13,486 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-24 23:42:13,486 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-24 23:42:13,486 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-24 23:42:13,487 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-24 23:42:13,487 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-24 23:42:13,487 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-24 23:42:13,487 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-24 23:42:13,487 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-24 23:42:13,487 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-24 23:42:13,690 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-24 23:42:13,691 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-24 23:42:13,691 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-24 23:42:13,692 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-24 23:42:13,719 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-24 23:42:13,722 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-24 23:42:13,722 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-24 23:42:13,722 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-24 23:42:13,725 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-24 23:42:13,725 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-24 23:42:13,725 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-24 23:42:13,725 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-24 23:42:13,725 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-24 23:42:13,725 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-24 23:42:13,725 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-24 23:42:13,726 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-24 23:42:13,727 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-24 23:42:13,727 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-24 23:42:13,727 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-24 23:42:13,727 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-24 23:42:15,759 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-24 23:42:15,808 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-24 23:42:15,808 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-24 23:42:15,808 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-24 23:42:15,815 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-24 23:42:15,816 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-24 23:42:15,819 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-24 23:42:16,261 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-24 23:42:16,262 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-24 23:42:16,266 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-24 23:42:16,268 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-24 23:42:16,268 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-24 23:42:16,269 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-24 23:42:16,270 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-24 23:42:16,270 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-24 23:42:16,272 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-24 23:42:16,273 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-24 23:42:16,273 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-24 23:42:16,273 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-24 23:42:16,274 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-24 23:42:16,275 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-24 23:42:16,275 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-24 23:42:16,276 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-24 23:42:16,277 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-24 23:42:16,277 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-24 23:42:16,278 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-24 23:42:16,279 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-24 23:42:16,280 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-24 23:42:16,280 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-24 23:42:16,282 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-24 23:42:16,282 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-24 23:42:16,282 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-24 23:42:16,283 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-24 23:42:16,283 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-24 23:42:16,283 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-24 23:42:16,282 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-24 23:42:16,284 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-24 23:42:16,284 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-24 23:42:16,285 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-24 23:42:16,285 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-24 23:42:16,286 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-24 23:42:16,286 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-24 23:42:16,286 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-24 23:42:16,286 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-24 23:42:16,287 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-24 23:42:16,287 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-24 23:42:16,287 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-24 23:42:16,287 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-24 23:42:16,287 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-24 23:42:16,287 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-24 23:42:16,288 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-24 23:42:16,288 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 23:42:16,288 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 23:42:16,288 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-24 23:42:16,288 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-24 23:42:16,288 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-24 23:42:16,288 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-24 23:42:16,289 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-24 23:42:16,289 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-24 23:42:16,289 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-24 23:42:16,289 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-24 23:42:16,289 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-24 23:42:16,289 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-24 23:42:16,289 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-24 23:42:16,290 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-24 23:42:16,290 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-24 23:42:16,290 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-24 23:42:16,290 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-24 23:42:16,290 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-24 23:42:16,290 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-24 23:42:16,290 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-24 23:42:16,290 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-24 23:42:16,291 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-24 23:42:16,291 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-24 23:42:16,291 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 00:04:39,922 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:04:39,925 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 00:04:39,925 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:04:39,926 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 00:04:39,993 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 00:04:40,000 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 00:04:40,000 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 00:04:40,001 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 00:04:40,005 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 00:04:40,006 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 00:04:40,006 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 00:04:40,007 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 00:04:40,007 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 00:04:40,007 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 00:04:40,007 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 00:04:40,007 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 00:04:40,007 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 00:04:40,008 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:04:40,010 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 00:04:40,010 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 00:04:40,010 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 00:04:40,010 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 00:04:42,628 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 00:04:42,719 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:04:42,719 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 00:04:42,719 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 00:04:42,730 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:04:42,732 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:04:42,735 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 00:04:43,205 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:04:43,206 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:04:43,213 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 00:04:43,215 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 00:04:43,216 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 00:04:43,218 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 00:04:43,220 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 00:04:43,220 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 00:04:43,222 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 00:04:43,223 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 00:04:43,224 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 00:04:43,224 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 00:04:43,225 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 00:04:43,226 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 00:04:43,227 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 00:04:43,229 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 00:04:43,231 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 00:04:43,231 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 00:04:43,232 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 00:04:43,233 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 00:04:43,235 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 00:04:43,236 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:04:43,238 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:04:43,239 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 00:04:43,239 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 00:04:43,239 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 00:04:43,239 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 00:04:43,240 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 00:04:43,240 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 00:04:43,242 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 00:04:43,242 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 00:04:43,243 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 00:04:43,244 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 00:04:43,245 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 00:04:43,246 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 00:04:43,246 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 00:04:43,246 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 00:04:43,246 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 00:04:43,247 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 00:04:43,247 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 00:04:43,247 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 00:04:43,247 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 00:04:43,247 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 00:04:43,247 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 00:04:43,248 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:04:43,248 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:04:43,248 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:04:43,248 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 00:04:43,248 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 00:04:43,249 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:04:43,249 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:04:43,249 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 00:04:43,250 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 00:04:43,250 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 00:04:43,250 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 00:04:43,250 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 00:04:43,250 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 00:04:43,251 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 00:04:43,251 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 00:04:43,251 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 00:04:43,251 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 00:04:43,251 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 00:04:43,251 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 00:04:43,252 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 00:04:43,252 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:04:43,252 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 00:04:43,252 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 00:04:43,252 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 00:16:16,449 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:16:16,451 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 00:16:16,452 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:16:16,452 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 00:16:16,511 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 00:16:16,516 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 00:16:16,517 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 00:16:16,518 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 00:16:16,522 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 00:16:16,523 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 00:16:16,523 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 00:16:16,523 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 00:16:16,524 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 00:16:16,525 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:16:16,526 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 00:16:16,526 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 00:16:16,526 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 00:16:16,526 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 00:16:18,932 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 00:16:19,008 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:16:19,009 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 00:16:19,009 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 00:16:19,019 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:16:19,020 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:16:19,023 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 00:16:19,479 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:16:19,480 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:16:19,485 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 00:16:19,487 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 00:16:19,488 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 00:16:19,489 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 00:16:19,491 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 00:16:19,491 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 00:16:19,493 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 00:16:19,494 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 00:16:19,494 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 00:16:19,494 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 00:16:19,495 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 00:16:19,496 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 00:16:19,497 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 00:16:19,498 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 00:16:19,501 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 00:16:19,501 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 00:16:19,502 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 00:16:19,503 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 00:16:19,504 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 00:16:19,505 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:16:19,506 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:16:19,507 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 00:16:19,507 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 00:16:19,507 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 00:16:19,507 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 00:16:19,508 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 00:16:19,507 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 00:16:19,509 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 00:16:19,509 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 00:16:19,510 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 00:16:19,511 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 00:16:19,511 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 00:16:19,511 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 00:16:19,511 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 00:16:19,512 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 00:16:19,512 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 00:16:19,512 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 00:16:19,512 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 00:16:19,512 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 00:16:19,513 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 00:16:19,513 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 00:16:19,513 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 00:16:19,513 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:16:19,513 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:16:19,514 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:16:19,514 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 00:16:19,514 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 00:16:19,514 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:16:19,515 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:16:19,515 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 00:16:19,516 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 00:16:19,516 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 00:16:19,516 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 00:16:19,516 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 00:16:19,516 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 00:16:19,517 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 00:16:19,517 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 00:16:19,517 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 00:16:19,517 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 00:16:19,517 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 00:16:19,517 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 00:16:19,518 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 00:16:19,518 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:16:19,518 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 00:16:19,518 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 00:16:19,518 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 00:16:19,518 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:16:19,518 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:16:19,518 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 00:16:19,518 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 00:16:19,518 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 00:16:19,518 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:16:19,518 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 00:18:15,384 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:18:15,386 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 00:18:15,386 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:18:15,387 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 00:18:15,434 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 00:18:15,440 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 00:18:15,440 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 00:18:15,441 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 00:18:15,445 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 00:18:15,446 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 00:18:15,446 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 00:18:15,446 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 00:18:15,447 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 00:18:15,448 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 00:18:15,448 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:18:15,448 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 00:18:15,448 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:18:15,449 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 00:18:15,449 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 00:18:15,449 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 00:18:15,449 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 00:18:17,773 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 00:18:17,851 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:18:17,851 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 00:18:17,851 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 00:18:17,862 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:18:17,864 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:18:17,867 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 00:18:18,357 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:18:18,357 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:18:18,362 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 00:18:18,364 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 00:18:18,365 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 00:18:18,366 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 00:18:18,368 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 00:18:18,369 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 00:18:18,371 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 00:18:18,372 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 00:18:18,373 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 00:18:18,373 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 00:18:18,374 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 00:18:18,375 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 00:18:18,376 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 00:18:18,378 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 00:18:18,380 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 00:18:18,380 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 00:18:18,381 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 00:18:18,383 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 00:18:18,384 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 00:18:18,385 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:18:18,387 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:18:18,388 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 00:18:18,389 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 00:18:18,389 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 00:18:18,389 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 00:18:18,389 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 00:18:18,389 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 00:18:18,392 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 00:18:18,392 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 00:18:18,393 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 00:18:18,395 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 00:18:18,396 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 00:18:18,396 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 00:18:18,396 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 00:18:18,396 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 00:18:18,396 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 00:18:18,397 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 00:18:18,397 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 00:18:18,397 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 00:18:18,397 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 00:18:18,397 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 00:18:18,397 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 00:18:18,398 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:18:18,398 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:18:18,398 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:18:18,398 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 00:18:18,398 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 00:18:18,398 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:18:18,399 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:18:18,399 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 00:18:18,400 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 00:18:18,400 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 00:18:18,400 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 00:18:18,400 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 00:18:18,400 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 00:18:18,401 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 00:18:18,401 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 00:18:18,401 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 00:18:18,401 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 00:18:18,401 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 00:18:18,401 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 00:18:18,402 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 00:18:18,402 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:18:18,402 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 00:18:18,402 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 00:18:18,402 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 00:18:18,402 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:18:18,402 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:18:18,403 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 00:18:47,689 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:18:47,691 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 00:18:47,691 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:18:47,692 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 00:18:47,736 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 00:18:47,742 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 00:18:47,742 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 00:18:47,743 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 00:18:47,747 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 00:18:47,747 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 00:18:47,748 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 00:18:47,748 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 00:18:47,748 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 00:18:47,749 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:18:47,751 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 00:18:47,751 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 00:18:47,751 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 00:18:47,751 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 00:18:50,020 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 00:18:50,092 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:18:50,092 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 00:18:50,092 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 00:18:50,102 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:18:50,104 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:18:50,107 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 00:18:50,569 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:18:50,570 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:18:50,575 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 00:18:50,577 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 00:18:50,578 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 00:18:50,579 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 00:18:50,581 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 00:18:50,581 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 00:18:50,583 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 00:18:50,584 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 00:18:50,584 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 00:18:50,584 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 00:18:50,586 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 00:18:50,587 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 00:18:50,588 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 00:18:50,589 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 00:18:50,591 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 00:18:50,591 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 00:18:50,592 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 00:18:50,594 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 00:18:50,595 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 00:18:50,596 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:18:50,597 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:18:50,599 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 00:18:50,599 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 00:18:50,599 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 00:18:50,599 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 00:18:50,599 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 00:18:50,599 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 00:18:50,601 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 00:18:50,601 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 00:18:50,602 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 00:18:50,603 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 00:18:50,603 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 00:18:50,603 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 00:18:50,604 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 00:18:50,604 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 00:18:50,604 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 00:18:50,604 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 00:18:50,604 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 00:18:50,605 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 00:18:50,605 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 00:18:50,605 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 00:18:50,605 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 00:18:50,606 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:18:50,606 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:18:50,606 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:18:50,606 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 00:18:50,607 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 00:18:50,607 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:18:50,607 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:18:50,607 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 00:18:50,608 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 00:18:50,609 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 00:18:50,609 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 00:18:50,609 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 00:18:50,609 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 00:18:50,609 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 00:18:50,609 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 00:18:50,609 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 00:18:50,609 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 00:18:50,609 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 00:18:50,609 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 00:18:50,610 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 00:18:50,611 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:18:50,611 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 00:18:50,611 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 00:18:50,611 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 00:18:50,611 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:18:50,611 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:18:50,611 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 00:18:50,611 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 00:18:50,611 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 00:18:50,611 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:19:12,504 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:19:12,505 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 00:19:12,506 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:19:12,507 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 00:19:12,552 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 00:19:12,558 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 00:19:12,559 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 00:19:12,560 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 00:19:12,564 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 00:19:12,564 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 00:19:12,565 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 00:19:12,565 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 00:19:12,565 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 00:19:12,566 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 00:19:12,567 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:19:12,567 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 00:19:12,567 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:19:12,568 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 00:19:12,568 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 00:19:12,568 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 00:19:12,568 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 00:19:14,958 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 00:19:15,033 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:19:15,033 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 00:19:15,033 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 00:19:15,044 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:19:15,046 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:19:15,049 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 00:19:15,507 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:19:15,507 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:19:15,513 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 00:19:15,515 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 00:19:15,516 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 00:19:15,517 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 00:19:15,519 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 00:19:15,519 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 00:19:15,521 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 00:19:15,522 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 00:19:15,522 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 00:19:15,522 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 00:19:15,524 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 00:19:15,525 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 00:19:15,526 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 00:19:15,527 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 00:19:15,530 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 00:19:15,530 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 00:19:15,530 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 00:19:15,532 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 00:19:15,533 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 00:19:15,534 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:19:15,536 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:19:15,537 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 00:19:15,537 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 00:19:15,537 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 00:19:15,537 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 00:19:15,537 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 00:19:15,537 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 00:19:15,540 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 00:19:15,540 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 00:19:15,540 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 00:19:15,541 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 00:19:15,542 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 00:19:15,542 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 00:19:15,542 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 00:19:15,542 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 00:19:15,542 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 00:19:15,543 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 00:19:15,543 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 00:19:15,543 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 00:19:15,543 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 00:19:15,543 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 00:19:15,543 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 00:19:15,544 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:19:15,544 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:19:15,544 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:19:15,544 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 00:19:15,544 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 00:19:15,544 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:19:15,545 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:19:15,545 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 00:19:15,546 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 00:19:15,546 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 00:19:15,546 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 00:19:15,546 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 00:19:15,546 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 00:19:15,546 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 00:19:15,546 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 00:19:15,547 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 00:19:15,547 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 00:19:15,547 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 00:19:15,547 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 00:19:15,547 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 00:19:15,548 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:19:15,548 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 00:19:15,548 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 00:19:15,548 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 00:19:15,548 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:19:15,548 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:19:15,548 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 00:19:15,548 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 00:19:15,548 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 00:19:15,548 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:32:57,158 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:32:57,160 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 00:32:57,161 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:32:57,162 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 00:32:57,228 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 00:32:57,234 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 00:32:57,235 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 00:32:57,236 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 00:32:57,241 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 00:32:57,243 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 00:32:57,243 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 00:32:57,244 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 00:32:57,244 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 00:32:57,245 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:32:57,246 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 00:32:57,247 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 00:32:57,247 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 00:32:57,247 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 00:32:59,754 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 00:32:59,839 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:32:59,839 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 00:32:59,839 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 00:32:59,852 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:32:59,854 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:32:59,857 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 00:33:00,365 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:33:00,366 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:33:00,372 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 00:33:00,374 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 00:33:00,375 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 00:33:00,377 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 00:33:00,379 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 00:33:00,379 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 00:33:00,382 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 00:33:00,382 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 00:33:00,383 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 00:33:00,383 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 00:33:00,384 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 00:33:00,386 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 00:33:00,386 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 00:33:00,388 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 00:33:00,390 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 00:33:00,390 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 00:33:00,392 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 00:33:00,393 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 00:33:00,395 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 00:33:00,396 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:33:00,397 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:33:00,399 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 00:33:00,399 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 00:33:00,399 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 00:33:00,399 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 00:33:00,399 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 00:33:00,399 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 00:33:00,401 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 00:33:00,401 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 00:33:00,402 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 00:33:00,403 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 00:33:00,403 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 00:33:00,404 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 00:33:00,404 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 00:33:00,404 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 00:33:00,404 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 00:33:00,404 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 00:33:00,404 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 00:33:00,405 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 00:33:00,405 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 00:33:00,405 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 00:33:00,405 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 00:33:00,405 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:33:00,405 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:33:00,406 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:33:00,406 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 00:33:00,406 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 00:33:00,406 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:33:00,406 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:33:00,406 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 00:33:00,407 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 00:33:00,408 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 00:33:00,408 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 00:33:00,408 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 00:33:00,408 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 00:33:00,408 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 00:33:00,408 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 00:33:00,408 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 00:33:00,408 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 00:33:00,408 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 00:33:00,409 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 00:33:00,409 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 00:33:00,409 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:33:00,410 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 00:33:00,410 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 00:33:00,410 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 00:33:00,410 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:33:00,410 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:33:00,410 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 00:33:00,410 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 00:33:04,882 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:33:04,884 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 00:33:04,884 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:33:04,885 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 00:33:04,932 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 00:33:04,938 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 00:33:04,939 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 00:33:04,940 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 00:33:04,944 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 00:33:04,946 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 00:33:04,946 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 00:33:04,947 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 00:33:04,947 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 00:33:04,947 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 00:33:04,947 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 00:33:04,947 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 00:33:04,948 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:33:04,950 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 00:33:04,950 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 00:33:04,950 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 00:33:04,950 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 00:33:07,400 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 00:33:07,710 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:33:07,711 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 00:33:07,722 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 00:33:07,766 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:33:07,767 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:33:07,774 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 00:33:08,306 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:33:08,309 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:33:08,318 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 00:33:08,332 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 00:33:08,335 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 00:33:08,341 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 00:33:08,349 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 00:33:08,349 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 00:33:08,351 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 00:33:08,355 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 00:33:08,359 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 00:33:08,363 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 00:33:08,366 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 00:33:08,372 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 00:33:08,374 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 00:33:08,380 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 00:33:08,381 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 00:33:08,381 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 00:33:08,382 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 00:33:08,383 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 00:33:08,385 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 00:33:08,386 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:33:08,388 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:33:08,389 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 00:33:08,390 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 00:33:08,390 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 00:33:08,390 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 00:33:08,390 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 00:33:08,390 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 00:33:08,392 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 00:33:08,392 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 00:33:08,393 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 00:33:08,394 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 00:33:08,394 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 00:33:08,395 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 00:33:08,395 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 00:33:08,395 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 00:33:08,396 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 00:33:08,396 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 00:33:08,396 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 00:33:08,396 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 00:33:08,396 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 00:33:08,397 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 00:33:08,397 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 00:33:08,397 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:33:08,397 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:33:08,398 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:33:08,398 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 00:33:08,398 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 00:33:08,398 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:33:08,398 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:33:08,398 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 00:33:08,400 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 00:33:08,400 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 00:33:08,400 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 00:33:08,400 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 00:33:08,400 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 00:33:08,400 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 00:33:08,400 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 00:33:08,400 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 00:33:08,400 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 00:33:08,400 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 00:33:08,400 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 00:33:08,401 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 00:33:08,401 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:33:08,401 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 00:33:08,401 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 00:33:08,401 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 00:33:08,401 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:33:08,402 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:33:08,402 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 00:33:08,402 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 00:33:08,402 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 00:37:20,976 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:37:20,979 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 00:37:20,980 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:37:20,980 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 00:37:21,028 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 00:37:21,034 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 00:37:21,034 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 00:37:21,035 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 00:37:21,039 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 00:37:21,039 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 00:37:21,040 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 00:37:21,040 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 00:37:21,040 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 00:37:21,041 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 00:37:21,042 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 00:37:21,042 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 00:37:21,042 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 00:37:21,042 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 00:37:21,042 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 00:37:21,042 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 00:37:21,042 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 00:37:21,042 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:37:21,042 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 00:37:21,042 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:37:21,043 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 00:37:21,043 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 00:37:21,043 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 00:37:21,043 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 00:37:23,498 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 00:37:23,593 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:37:23,594 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 00:37:23,595 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 00:37:23,618 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:37:23,620 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:37:23,624 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 00:37:24,156 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:37:24,157 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:37:24,162 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 00:37:24,164 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 00:37:24,165 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 00:37:24,167 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 00:37:24,168 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 00:37:24,169 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 00:37:24,171 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 00:37:24,172 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 00:37:24,172 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 00:37:24,172 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 00:37:24,174 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 00:37:24,175 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 00:37:24,176 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 00:37:24,177 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 00:37:24,179 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 00:37:24,180 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 00:37:24,181 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 00:37:24,182 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 00:37:24,183 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 00:37:24,184 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:37:24,185 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:37:24,187 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 00:37:24,187 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 00:37:24,187 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 00:37:24,187 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 00:37:24,187 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 00:37:24,187 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 00:37:24,189 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 00:37:24,189 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 00:37:24,190 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 00:37:24,191 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 00:37:24,191 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 00:37:24,191 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 00:37:24,191 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 00:37:24,192 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 00:37:24,192 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 00:37:24,192 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 00:37:24,192 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 00:37:24,192 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 00:37:24,192 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 00:37:24,192 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 00:37:24,193 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 00:37:24,193 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:37:24,193 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:37:24,193 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:37:24,193 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 00:37:24,193 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 00:37:24,194 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:37:24,194 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:37:24,194 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 00:37:24,195 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 00:37:24,195 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 00:37:24,195 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 00:37:24,195 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 00:37:24,196 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 00:37:24,196 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 00:37:24,196 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 00:37:24,196 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 00:37:24,196 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 00:37:24,196 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 00:37:24,196 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 00:37:24,197 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 00:37:24,197 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:37:24,197 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 00:37:24,198 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 00:37:24,198 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 00:37:24,198 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:37:24,198 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:37:24,198 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 00:37:24,198 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 00:37:24,198 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 00:37:24,198 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:53:16,643 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:53:16,645 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 00:53:16,646 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:53:16,646 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 00:53:16,712 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 00:53:16,719 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 00:53:16,720 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 00:53:16,720 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 00:53:16,724 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 00:53:16,725 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 00:53:16,725 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 00:53:16,726 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 00:53:16,727 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 00:53:16,728 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 00:53:16,728 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 00:53:16,728 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 00:53:16,728 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:53:16,728 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 00:53:16,728 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:53:16,729 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 00:53:16,729 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 00:53:16,729 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 00:53:16,729 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 00:53:19,406 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 00:53:19,499 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:53:19,500 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 00:53:19,500 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 00:53:19,511 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:53:19,512 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:53:19,516 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 00:53:20,024 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:53:20,024 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:53:20,030 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 00:53:20,032 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 00:53:20,033 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 00:53:20,035 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 00:53:20,036 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 00:53:20,037 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 00:53:20,039 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 00:53:20,039 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 00:53:20,040 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 00:53:20,040 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 00:53:20,041 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 00:53:20,043 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 00:53:20,044 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 00:53:20,045 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 00:53:20,047 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 00:53:20,047 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 00:53:20,048 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 00:53:20,050 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 00:53:20,051 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 00:53:20,052 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:53:20,053 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:53:20,054 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 00:53:20,055 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 00:53:20,055 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 00:53:20,055 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 00:53:20,055 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 00:53:20,055 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 00:53:20,057 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 00:53:20,057 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 00:53:20,058 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 00:53:20,059 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 00:53:20,059 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 00:53:20,059 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 00:53:20,059 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 00:53:20,060 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 00:53:20,060 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 00:53:20,060 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 00:53:20,060 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 00:53:20,060 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 00:53:20,060 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 00:53:20,060 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 00:53:20,061 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 00:53:20,061 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:53:20,061 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:53:20,061 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:53:20,061 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 00:53:20,061 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 00:53:20,062 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:53:20,062 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:53:20,062 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 00:53:20,063 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 00:53:20,063 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 00:53:20,063 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 00:53:20,063 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 00:53:20,063 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 00:53:20,064 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 00:53:20,064 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 00:53:20,064 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 00:53:20,064 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 00:53:20,064 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 00:53:20,064 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 00:53:20,065 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 00:53:20,065 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:53:20,065 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 00:53:20,065 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 00:53:20,065 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 00:53:20,065 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:53:20,065 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:53:20,065 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 00:53:20,065 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 00:53:20,066 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 00:53:32,379 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:53:32,381 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 00:53:32,382 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:53:32,383 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 00:53:32,435 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 00:53:32,442 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 00:53:32,443 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 00:53:32,443 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 00:53:32,448 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 00:53:32,449 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 00:53:32,449 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 00:53:32,449 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 00:53:32,450 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 00:53:32,451 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 00:53:32,451 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 00:53:32,451 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 00:53:32,451 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:53:32,451 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 00:53:32,451 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:53:32,452 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 00:53:32,452 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 00:53:32,452 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 00:53:32,452 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 00:53:34,949 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 00:53:35,039 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:53:35,039 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 00:53:35,039 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 00:53:35,052 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:53:35,053 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:53:35,057 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 00:53:35,671 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:53:35,672 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:53:35,677 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 00:53:35,680 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 00:53:35,681 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 00:53:35,683 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 00:53:35,685 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 00:53:35,685 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 00:53:35,688 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 00:53:35,689 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 00:53:35,689 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 00:53:35,689 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 00:53:35,691 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 00:53:35,692 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 00:53:35,693 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 00:53:35,694 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 00:53:35,696 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 00:53:35,696 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 00:53:35,697 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 00:53:35,699 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 00:53:35,701 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 00:53:35,702 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:53:35,703 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:53:35,705 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 00:53:35,705 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 00:53:35,705 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 00:53:35,705 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 00:53:35,705 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 00:53:35,705 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 00:53:35,707 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 00:53:35,707 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 00:53:35,708 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 00:53:35,710 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 00:53:35,710 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 00:53:35,710 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 00:53:35,710 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 00:53:35,710 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 00:53:35,711 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 00:53:35,711 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 00:53:35,711 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 00:53:35,711 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 00:53:35,711 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 00:53:35,712 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 00:53:35,712 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 00:53:35,712 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:53:35,712 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:53:35,713 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:53:35,713 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 00:53:35,713 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 00:53:35,713 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:53:35,713 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:53:35,713 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 00:53:35,715 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 00:53:35,715 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 00:53:35,715 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 00:53:35,715 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 00:53:35,715 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 00:53:35,715 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 00:53:35,715 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 00:53:35,715 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 00:53:35,716 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 00:53:35,716 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 00:53:35,716 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 00:53:35,716 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 00:53:35,717 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:53:35,717 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 00:53:35,717 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 00:53:35,717 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 00:53:35,717 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:53:35,717 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:54:30,853 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:54:30,855 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 00:54:30,856 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:54:30,856 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 00:54:30,909 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 00:54:30,915 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 00:54:30,916 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 00:54:30,916 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 00:54:30,920 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 00:54:30,921 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 00:54:30,921 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 00:54:30,921 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 00:54:30,922 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 00:54:30,923 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 00:54:30,923 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 00:54:30,923 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 00:54:30,923 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:54:30,923 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 00:54:30,923 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:54:30,924 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 00:54:30,924 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 00:54:30,924 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 00:54:30,924 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 00:54:33,452 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 00:54:33,539 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:54:33,539 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 00:54:33,539 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 00:54:33,552 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:54:33,553 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:54:33,557 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 00:54:34,106 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:54:34,107 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:54:34,112 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 00:54:34,114 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 00:54:34,115 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 00:54:34,116 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 00:54:34,118 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 00:54:34,118 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 00:54:34,121 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 00:54:34,121 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 00:54:34,122 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 00:54:34,122 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 00:54:34,123 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 00:54:34,124 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 00:54:34,125 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 00:54:34,126 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 00:54:34,129 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 00:54:34,129 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 00:54:34,130 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 00:54:34,131 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 00:54:34,133 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 00:54:34,133 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:54:34,135 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:54:34,136 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 00:54:34,136 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 00:54:34,136 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 00:54:34,137 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 00:54:34,136 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 00:54:34,136 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 00:54:34,138 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 00:54:34,138 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 00:54:34,139 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 00:54:34,140 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 00:54:34,141 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 00:54:34,141 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 00:54:34,141 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 00:54:34,141 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 00:54:34,141 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 00:54:34,141 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 00:54:34,142 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 00:54:34,142 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 00:54:34,142 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 00:54:34,142 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 00:54:34,142 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 00:54:34,142 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:54:34,143 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:54:34,143 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:54:34,143 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 00:54:34,143 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 00:54:34,143 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:54:34,143 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:54:34,143 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 00:54:34,145 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 00:54:34,145 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 00:54:34,145 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 00:54:34,145 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 00:54:34,145 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 00:54:34,145 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 00:54:34,145 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 00:54:34,145 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 00:54:34,145 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 00:54:34,145 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 00:54:34,146 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 00:54:34,146 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 00:54:34,146 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:54:34,146 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 00:54:34,147 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 00:54:34,147 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 00:54:34,147 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:54:34,147 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:54:34,147 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 00:54:34,147 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 00:55:11,903 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:55:11,906 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 00:55:11,906 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 00:55:11,907 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 00:55:11,959 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 00:55:11,965 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 00:55:11,966 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 00:55:11,966 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 00:55:11,970 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 00:55:11,971 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 00:55:11,971 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 00:55:11,971 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 00:55:11,972 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 00:55:11,973 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 00:55:11,973 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 00:55:11,973 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 00:55:11,973 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 00:55:11,973 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 00:55:11,973 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 00:55:11,973 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:55:11,973 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 00:55:11,973 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 00:55:11,974 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 00:55:11,974 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 00:55:11,974 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 00:55:11,974 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 00:55:14,464 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 00:55:14,544 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:55:14,544 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 00:55:14,544 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 00:55:14,556 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:55:14,557 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:55:14,560 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 00:55:15,094 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 00:55:15,097 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 00:55:15,106 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 00:55:15,108 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 00:55:15,112 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 00:55:15,117 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 00:55:15,121 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 00:55:15,121 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 00:55:15,124 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 00:55:15,125 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 00:55:15,126 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 00:55:15,126 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 00:55:15,127 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 00:55:15,129 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 00:55:15,130 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 00:55:15,132 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 00:55:15,135 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 00:55:15,135 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 00:55:15,136 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 00:55:15,137 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 00:55:15,139 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 00:55:15,140 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:55:15,142 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 00:55:15,143 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 00:55:15,143 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 00:55:15,143 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 00:55:15,143 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 00:55:15,143 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 00:55:15,143 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 00:55:15,145 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 00:55:15,145 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 00:55:15,146 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 00:55:15,147 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 00:55:15,148 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 00:55:15,148 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 00:55:15,148 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 00:55:15,149 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 00:55:15,149 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 00:55:15,149 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 00:55:15,149 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 00:55:15,149 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 00:55:15,150 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 00:55:15,150 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 00:55:15,150 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 00:55:15,150 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:55:15,150 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:55:15,150 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 00:55:15,150 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 00:55:15,151 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 00:55:15,151 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:55:15,151 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 00:55:15,151 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 00:55:15,152 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 00:55:15,152 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 00:55:15,152 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 00:55:15,153 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 00:55:15,153 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 00:55:15,153 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 00:55:15,153 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 00:55:15,153 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 00:55:15,153 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 00:55:15,153 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 00:55:15,153 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 00:55:15,153 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 00:55:15,154 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:55:15,154 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 00:55:15,155 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 00:55:15,155 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 00:55:15,155 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 00:55:15,155 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 00:55:15,155 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 01:00:42,551 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:00:42,554 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 01:00:42,555 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:00:42,555 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 01:00:42,613 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 01:00:42,618 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 01:00:42,619 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 01:00:42,620 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 01:00:42,627 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 01:00:42,627 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 01:00:42,627 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 01:00:42,628 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 01:00:42,628 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 01:00:42,628 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 01:00:42,629 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 01:00:42,630 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 01:00:42,630 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 01:00:42,630 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 01:00:42,631 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 01:00:45,242 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 01:00:45,329 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 01:00:45,329 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 01:00:45,329 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 01:00:45,341 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 01:00:45,342 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 01:00:45,345 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 01:00:45,822 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 01:00:45,822 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 01:00:45,828 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 01:00:45,829 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 01:00:45,831 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 01:00:45,832 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 01:00:45,834 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 01:00:45,834 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 01:00:45,837 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 01:00:45,838 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 01:00:45,838 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 01:00:45,838 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 01:00:45,840 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 01:00:45,841 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 01:00:45,842 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 01:00:45,843 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 01:00:45,846 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 01:00:45,846 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 01:00:45,847 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 01:00:45,848 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 01:00:45,850 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 01:00:45,851 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 01:00:45,852 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 01:00:45,854 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 01:00:45,854 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 01:00:45,854 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 01:00:45,854 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 01:00:45,854 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 01:00:45,854 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 01:00:45,856 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 01:00:45,856 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 01:00:45,857 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 01:00:45,858 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 01:00:45,858 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 01:00:45,858 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 01:00:45,858 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 01:00:45,858 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 01:00:45,859 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 01:00:45,859 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 01:00:45,859 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 01:00:45,859 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 01:00:45,859 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 01:00:45,859 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 01:00:45,860 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 01:00:45,860 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:00:45,860 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:00:45,860 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:00:45,860 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 01:00:45,860 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 01:00:45,861 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 01:00:45,861 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 01:00:45,861 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 01:00:45,863 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 01:00:45,863 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 01:00:45,863 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 01:00:45,863 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 01:00:45,863 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 01:00:45,863 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 01:00:45,863 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 01:00:45,863 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 01:00:45,863 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 01:00:45,863 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 01:00:45,864 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 01:00:45,865 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 01:00:45,865 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:00:45,865 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 01:00:45,865 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 01:00:45,865 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 01:00:45,865 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:00:45,865 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 01:01:17,124 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:01:17,126 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 01:01:17,127 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:01:17,127 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 01:01:17,171 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 01:01:17,177 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 01:01:17,177 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 01:01:17,178 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 01:01:17,182 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 01:01:17,182 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 01:01:17,183 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 01:01:17,183 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 01:01:17,183 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 01:01:17,183 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 01:01:17,183 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 01:01:17,184 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 01:01:17,186 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 01:01:17,186 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 01:01:17,186 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 01:01:17,186 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 01:01:19,503 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 01:01:19,579 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 01:01:19,579 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 01:01:19,580 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 01:01:19,590 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 01:01:19,591 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 01:01:19,595 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 01:01:20,038 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 01:01:20,039 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 01:01:20,044 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 01:01:20,046 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 01:01:20,047 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 01:01:20,048 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 01:01:20,049 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 01:01:20,050 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 01:01:20,052 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 01:01:20,053 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 01:01:20,053 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 01:01:20,053 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 01:01:20,055 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 01:01:20,056 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 01:01:20,057 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 01:01:20,058 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 01:01:20,060 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 01:01:20,060 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 01:01:20,061 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 01:01:20,062 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 01:01:20,064 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 01:01:20,065 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 01:01:20,066 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 01:01:20,067 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 01:01:20,068 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 01:01:20,067 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 01:01:20,068 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 01:01:20,068 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 01:01:20,068 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 01:01:20,069 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 01:01:20,069 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 01:01:20,070 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 01:01:20,071 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 01:01:20,071 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 01:01:20,072 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 01:01:20,072 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 01:01:20,072 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 01:01:20,072 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 01:01:20,072 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 01:01:20,073 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 01:01:20,073 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 01:01:20,073 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 01:01:20,073 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 01:01:20,073 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 01:01:20,073 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:01:20,074 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:01:20,074 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:01:20,074 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 01:01:20,074 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 01:01:20,074 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 01:01:20,074 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 01:01:20,074 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 01:01:20,076 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 01:01:20,076 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 01:01:20,076 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 01:01:20,076 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 01:01:20,076 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 01:01:20,076 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 01:01:20,076 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 01:01:20,076 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 01:01:20,076 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 01:01:20,076 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 01:01:20,076 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 01:01:20,077 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 01:01:20,077 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:01:20,077 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 01:01:20,077 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 01:01:20,077 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 01:01:20,078 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:02:17,198 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:02:17,200 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 01:02:17,201 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:02:17,202 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 01:02:17,254 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 01:02:17,262 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 01:02:17,262 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 01:02:17,263 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 01:02:17,268 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 01:02:17,268 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 01:02:17,269 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 01:02:17,269 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 01:02:17,269 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 01:02:17,270 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 01:02:17,271 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 01:02:17,271 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 01:02:17,271 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 01:02:17,272 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 01:02:17,272 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 01:02:17,272 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 01:02:17,272 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 01:02:19,638 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 01:02:19,712 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 01:02:19,712 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 01:02:19,712 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 01:02:19,722 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 01:02:19,724 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 01:02:19,727 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 01:02:20,199 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 01:02:20,201 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 01:02:20,210 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 01:02:20,212 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 01:02:20,213 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 01:02:20,215 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 01:02:20,217 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 01:02:20,218 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 01:02:20,220 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 01:02:20,221 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 01:02:20,222 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 01:02:20,222 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 01:02:20,223 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 01:02:20,225 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 01:02:20,226 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 01:02:20,228 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 01:02:20,230 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 01:02:20,230 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 01:02:20,231 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 01:02:20,232 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 01:02:20,234 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 01:02:20,235 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 01:02:20,237 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 01:02:20,238 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 01:02:20,238 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 01:02:20,238 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 01:02:20,238 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 01:02:20,238 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 01:02:20,239 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 01:02:20,240 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 01:02:20,240 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 01:02:20,242 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 01:02:20,243 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 01:02:20,243 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 01:02:20,243 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 01:02:20,243 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 01:02:20,244 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 01:02:20,244 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 01:02:20,244 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 01:02:20,244 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 01:02:20,244 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 01:02:20,245 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 01:02:20,245 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 01:02:20,245 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 01:02:20,245 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:02:20,245 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:02:20,245 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:02:20,245 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 01:02:20,246 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 01:02:20,246 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 01:02:20,246 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 01:02:20,246 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 01:02:20,247 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 01:02:20,247 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 01:02:20,247 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 01:02:20,247 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 01:02:20,248 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 01:02:20,248 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 01:02:20,248 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 01:02:20,248 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 01:02:20,248 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 01:02:20,248 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 01:02:20,248 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 01:02:20,249 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 01:02:20,249 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:02:20,250 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 01:02:20,250 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 01:02:20,250 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 01:02:20,250 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:02:20,250 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 01:02:20,250 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 01:02:20,250 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 01:02:20,250 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 01:02:20,250 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:02:35,610 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:02:35,611 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 01:02:35,612 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:02:35,612 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 01:02:35,658 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 01:02:35,663 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 01:02:35,664 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 01:02:35,665 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 01:02:35,668 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 01:02:35,669 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 01:02:35,669 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 01:02:35,670 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 01:02:35,670 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 01:02:35,670 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 01:02:35,670 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 01:02:35,670 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 01:02:35,670 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 01:02:35,670 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 01:02:35,670 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 01:02:35,670 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 01:02:35,671 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 01:02:35,672 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 01:02:35,672 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 01:02:35,672 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 01:02:35,673 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 01:02:37,959 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 01:02:38,042 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 01:02:38,043 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 01:02:38,043 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 01:02:38,054 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 01:02:38,055 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 01:02:38,059 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 01:02:38,692 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 01:02:38,694 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 01:02:38,700 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 01:02:38,702 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 01:02:38,703 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 01:02:38,704 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 01:02:38,706 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 01:02:38,706 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 01:02:38,709 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 01:02:38,709 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 01:02:38,710 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 01:02:38,711 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 01:02:38,712 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 01:02:38,713 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 01:02:38,714 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 01:02:38,715 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 01:02:38,717 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 01:02:38,718 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 01:02:38,718 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 01:02:38,720 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 01:02:38,721 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 01:02:38,722 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 01:02:38,724 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 01:02:38,725 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 01:02:38,725 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 01:02:38,725 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 01:02:38,725 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 01:02:38,725 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 01:02:38,725 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 01:02:38,728 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 01:02:38,728 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 01:02:38,728 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 01:02:38,729 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 01:02:38,730 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 01:02:38,730 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 01:02:38,730 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 01:02:38,730 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 01:02:38,730 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 01:02:38,730 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 01:02:38,731 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 01:02:38,731 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 01:02:38,731 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 01:02:38,731 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 01:02:38,731 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 01:02:38,731 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:02:38,732 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:02:38,732 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:02:38,732 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 01:02:38,732 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 01:02:38,732 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 01:02:38,732 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 01:02:38,732 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 01:02:38,734 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 01:02:38,734 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 01:02:38,734 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 01:02:38,734 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 01:02:38,734 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 01:02:38,734 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 01:02:38,734 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 01:02:38,734 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 01:02:38,734 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 01:02:38,734 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 01:02:38,735 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 01:02:38,735 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 01:02:38,735 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:02:38,736 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 01:02:38,736 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 01:02:38,736 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 01:02:38,736 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:02:38,736 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 01:02:38,736 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 01:02:38,736 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 01:02:38,736 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 01:02:38,736 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:11:13,463 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:11:13,466 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 01:11:13,466 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:11:13,467 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 01:11:13,528 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 01:11:13,533 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 01:11:13,534 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 01:11:13,535 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 01:11:13,539 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 01:11:13,539 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 01:11:13,539 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 01:11:13,540 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 01:11:13,540 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 01:11:13,540 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 01:11:13,540 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 01:11:13,540 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 01:11:13,540 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 01:11:13,540 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 01:11:13,540 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 01:11:13,540 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 01:11:13,541 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 01:11:13,542 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 01:11:13,542 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 01:11:13,542 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 01:11:13,543 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 01:11:16,039 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 01:11:16,118 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 01:11:16,118 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 01:11:16,119 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 01:11:16,129 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 01:11:16,131 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 01:11:16,134 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 01:11:16,629 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 01:11:16,630 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 01:11:16,635 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 01:11:16,636 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 01:11:16,637 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 01:11:16,639 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 01:11:16,640 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 01:11:16,640 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 01:11:16,643 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 01:11:16,643 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 01:11:16,644 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 01:11:16,644 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 01:11:16,645 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 01:11:16,646 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 01:11:16,647 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 01:11:16,649 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 01:11:16,651 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 01:11:16,651 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 01:11:16,652 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 01:11:16,653 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 01:11:16,655 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 01:11:16,655 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 01:11:16,657 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 01:11:16,658 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 01:11:16,659 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 01:11:16,658 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 01:11:16,659 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 01:11:16,658 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 01:11:16,659 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 01:11:16,661 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 01:11:16,661 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 01:11:16,661 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 01:11:16,662 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 01:11:16,663 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 01:11:16,663 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 01:11:16,663 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 01:11:16,663 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 01:11:16,663 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 01:11:16,663 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 01:11:16,664 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 01:11:16,664 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 01:11:16,664 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 01:11:16,664 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 01:11:16,665 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 01:11:16,665 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:11:16,665 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:11:16,665 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:11:16,666 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 01:11:16,666 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 01:11:16,666 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 01:11:16,666 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 01:11:16,666 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 01:11:16,668 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 01:11:16,668 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 01:11:16,668 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 01:11:16,668 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 01:11:16,668 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 01:11:16,668 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 01:11:16,668 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 01:11:16,668 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 01:11:16,668 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 01:11:16,668 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 01:11:16,668 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 01:11:16,669 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 01:11:16,669 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:11:16,669 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 01:11:16,669 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 01:11:16,669 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 01:11:16,669 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:11:16,669 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 01:11:16,669 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 01:11:16,669 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 01:11:16,669 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 01:11:16,669 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:11:16,669 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 01:11:16,670 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 01:11:16,670 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:11:16,670 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-25 01:11:16,670 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-25 01:12:01,752 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:12:01,754 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 01:12:01,755 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:12:01,755 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 01:12:01,802 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 01:12:01,808 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 01:12:01,808 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 01:12:01,809 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 01:12:01,813 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 01:12:01,814 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 01:12:01,814 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 01:12:01,814 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 01:12:01,815 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 01:12:01,815 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 01:12:01,815 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 01:12:01,815 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 01:12:01,815 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 01:12:01,815 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 01:12:01,815 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 01:12:01,815 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 01:12:01,815 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 01:12:01,815 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 01:12:01,815 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 01:12:01,815 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 01:12:01,815 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 01:12:01,815 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 01:12:01,815 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 01:12:01,816 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 01:12:01,817 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 01:12:01,817 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 01:12:01,817 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 01:12:01,817 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 01:12:04,314 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 01:12:04,389 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 01:12:04,390 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 01:12:04,390 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 01:12:04,400 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 01:12:04,402 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 01:12:04,407 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 01:12:04,876 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 01:12:04,877 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 01:12:04,882 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 01:12:04,884 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 01:12:04,885 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 01:12:04,887 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 01:12:04,888 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 01:12:04,889 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 01:12:04,891 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 01:12:04,892 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 01:12:04,892 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 01:12:04,892 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 01:12:04,894 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 01:12:04,895 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 01:12:04,896 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 01:12:04,897 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 01:12:04,899 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 01:12:04,899 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 01:12:04,900 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 01:12:04,901 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 01:12:04,903 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 01:12:04,904 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 01:12:04,905 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 01:12:04,906 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 01:12:04,907 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 01:12:04,907 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 01:12:04,907 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 01:12:04,907 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 01:12:04,906 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 01:12:04,909 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 01:12:04,909 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 01:12:04,910 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 01:12:04,910 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 01:12:04,911 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 01:12:04,911 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 01:12:04,911 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 01:12:04,912 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 01:12:04,912 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 01:12:04,912 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 01:12:04,912 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 01:12:04,912 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 01:12:04,912 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 01:12:04,913 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 01:12:04,913 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 01:12:04,913 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:12:04,913 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:12:04,913 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:12:04,913 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 01:12:04,914 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 01:12:04,914 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 01:12:04,914 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 01:12:04,914 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 01:12:04,916 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 01:12:04,916 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 01:12:04,916 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 01:12:04,916 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 01:12:04,916 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 01:12:04,916 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 01:12:04,916 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 01:12:04,916 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 01:12:04,916 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 01:12:04,916 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 01:12:04,916 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 01:12:04,917 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 01:12:04,917 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:12:04,917 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 01:12:04,917 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 01:12:11,575 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:12:11,576 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 01:12:11,577 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:12:11,577 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 01:12:11,621 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 01:12:11,626 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 01:12:11,627 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 01:12:11,628 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 01:12:11,631 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 01:12:11,632 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 01:12:11,632 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 01:12:11,632 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 01:12:11,633 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 01:12:11,633 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 01:12:11,633 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 01:12:11,633 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 01:12:11,633 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 01:12:11,633 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 01:12:11,633 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 01:12:11,633 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 01:12:11,633 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 01:12:11,633 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 01:12:11,633 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 01:12:11,633 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 01:12:11,633 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 01:12:11,633 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 01:12:11,633 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 01:12:11,634 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 01:12:11,635 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 01:12:11,635 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 01:12:11,635 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 01:12:11,635 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 01:12:13,854 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 01:12:13,930 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 01:12:13,930 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 01:12:13,930 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 01:12:13,941 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 01:12:13,943 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 01:12:13,946 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 01:12:14,553 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 01:12:14,554 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 01:12:14,559 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 01:12:14,561 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 01:12:14,563 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 01:12:14,565 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 01:12:14,567 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 01:12:14,568 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 01:12:14,573 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 01:12:14,575 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 01:12:14,575 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 01:12:14,575 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 01:12:14,577 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 01:12:14,581 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 01:12:14,583 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 01:12:14,584 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 01:12:14,586 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 01:12:14,586 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 01:12:14,587 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 01:12:14,589 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 01:12:14,590 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 01:12:14,591 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 01:12:14,592 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 01:12:14,594 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 01:12:14,594 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 01:12:14,594 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 01:12:14,594 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 01:12:14,596 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 01:12:14,596 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 01:12:14,596 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 01:12:14,596 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 01:12:14,597 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 01:12:14,599 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 01:12:14,599 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 01:12:14,599 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 01:12:14,599 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 01:12:14,599 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 01:12:14,600 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 01:12:14,600 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 01:12:14,600 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 01:12:14,600 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 01:12:14,601 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 01:12:14,601 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 01:12:14,601 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 01:12:14,601 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:12:14,601 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:12:14,602 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 01:12:14,602 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 01:12:14,602 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 01:12:14,602 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 01:12:14,602 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 01:12:14,602 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 01:12:14,604 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 01:12:14,604 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 01:12:14,604 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 01:12:14,604 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 01:12:14,604 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 01:12:14,604 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 01:12:14,604 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 01:12:14,604 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 01:12:14,604 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 01:12:14,604 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 01:12:14,605 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 01:12:14,605 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 01:12:14,605 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:12:14,606 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 01:12:14,606 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 01:12:14,606 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 01:12:14,606 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 01:12:14,606 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 01:12:14,606 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 01:21:12,305 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:21:12,307 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 01:21:12,307 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 01:21:12,308 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 02:43:27,362 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 02:43:27,366 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 02:43:27,367 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 02:43:27,368 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 02:43:27,464 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 02:43:27,471 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 02:43:27,472 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 02:43:27,472 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 02:43:27,500 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 02:43:27,500 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 02:43:27,500 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 02:43:27,501 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 02:43:27,501 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 02:43:27,501 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 02:43:27,502 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 02:43:27,503 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 02:43:27,503 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 02:43:27,503 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 02:43:27,503 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 02:43:30,627 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 02:43:30,746 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 02:43:30,747 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 02:43:30,749 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 02:43:30,749 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 02:43:30,749 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 02:43:30,760 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 02:43:30,761 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 02:43:30,764 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 02:43:32,344 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 02:43:32,346 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 02:43:32,354 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 02:43:32,355 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 02:43:32,357 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 02:43:32,358 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 02:43:32,361 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 02:43:32,361 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 02:43:32,363 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 02:43:32,364 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 02:43:32,365 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 02:43:32,365 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 02:43:32,366 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 02:43:32,368 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 02:43:32,369 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 02:43:32,371 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 02:43:32,374 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 02:43:32,374 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 02:43:32,375 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 02:43:32,376 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 02:43:32,378 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 02:43:32,379 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 02:43:32,380 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 02:43:32,381 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 02:43:32,382 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 02:43:32,381 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 02:43:32,382 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 02:43:32,382 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 02:43:32,382 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 02:43:32,384 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 02:43:32,384 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 02:43:32,385 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 02:43:32,386 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 02:43:32,386 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 02:43:32,386 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 02:43:32,386 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 02:43:32,387 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 02:43:32,387 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 02:43:32,387 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 02:43:32,387 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 02:43:32,388 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 02:43:32,388 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 02:43:32,388 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 02:43:32,388 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 02:43:32,389 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 02:43:32,389 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 02:43:32,389 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 02:43:32,389 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 02:43:32,389 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 02:43:32,390 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 02:43:32,390 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 02:43:32,390 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 02:43:32,392 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 02:43:32,392 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 02:43:32,392 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 02:43:32,392 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 02:43:32,392 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 02:43:32,392 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 02:43:32,392 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 02:43:32,392 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 02:43:32,393 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 02:43:32,393 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 02:43:32,393 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 02:43:32,393 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 02:43:32,393 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 02:43:32,394 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 02:43:32,394 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 02:43:32,394 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 02:43:32,394 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 02:43:32,394 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 02:43:32,394 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 02:43:32,394 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 02:43:32,395 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 02:43:32,395 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 02:43:32,395 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 02:43:32,395 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 02:43:32,395 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 02:43:32,395 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-25 02:43:32,395 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-25 02:43:32,395 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 02:43:32,395 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 02:43:32,395 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-25 02:43:32,395 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-25 02:43:32,395 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter wenxin has no API key configured, skipping warm-up
2026-02-25 02:43:32,718 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 02:43:32,719 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 02:43:32,719 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 02:43:32,720 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 02:43:32,762 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 02:43:32,766 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 02:43:32,767 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 02:43:32,767 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 02:43:32,771 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 02:43:32,771 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 02:43:32,772 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 02:43:32,772 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 02:43:32,773 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 02:43:32,774 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 02:43:32,774 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 02:43:32,774 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 02:43:32,775 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 02:43:32,775 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 02:43:32,775 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 02:43:32,775 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 02:43:34,764 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 02:43:34,813 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 02:43:34,814 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 02:43:34,814 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 02:43:34,814 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 02:43:34,815 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 02:43:34,822 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 02:43:34,823 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 02:43:34,826 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 02:43:35,306 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 02:43:35,307 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 02:43:35,312 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 02:43:35,313 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 02:43:35,314 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 02:43:35,315 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 02:43:35,316 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 02:43:35,316 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 02:43:35,318 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 02:43:35,318 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 02:43:35,319 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 02:43:35,319 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 02:43:35,320 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 02:43:35,321 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 02:43:35,322 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 02:43:35,323 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 02:43:35,323 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 02:43:35,323 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 02:43:35,324 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 02:43:35,325 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 02:43:35,326 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 02:43:35,327 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 02:43:35,328 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 02:43:35,329 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 02:43:35,329 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 02:43:35,329 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 02:43:35,329 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 02:43:35,329 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 02:43:35,329 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 02:43:35,331 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 02:43:35,331 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 02:43:35,331 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 02:43:35,333 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 02:43:35,333 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 02:43:35,333 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 02:43:35,333 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 02:43:35,334 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 02:43:35,334 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 02:43:35,334 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 02:43:35,334 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 02:43:35,335 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 02:43:35,335 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 02:43:35,335 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 02:43:35,336 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 02:43:35,336 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 02:43:35,336 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 02:43:35,337 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 02:43:35,337 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 02:43:35,338 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 02:43:35,338 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 02:43:35,338 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 02:43:35,338 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 02:43:35,339 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 02:43:35,339 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 02:43:35,339 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 02:43:35,339 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 02:43:35,339 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 02:43:35,339 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 02:43:35,339 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 02:43:35,339 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 02:43:35,339 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 02:43:35,339 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 02:43:35,340 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 02:43:35,340 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 02:43:35,340 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 02:43:35,341 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 02:43:35,341 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 03:08:02,104 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 03:08:02,106 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 03:08:02,107 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 03:08:02,107 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 03:08:02,166 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 03:08:02,171 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 03:08:02,172 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 03:08:02,172 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 03:08:02,176 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 03:08:02,177 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 03:08:02,177 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 03:08:02,177 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 03:08:02,178 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 03:08:02,179 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 03:08:02,180 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 03:08:02,180 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 03:08:02,180 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 03:08:02,180 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 03:08:05,780 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 03:08:05,879 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 03:08:05,880 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 03:08:05,881 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 03:08:05,881 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 03:08:05,882 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 03:08:05,895 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 03:08:05,896 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 03:08:05,900 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 03:08:06,472 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 03:08:06,472 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 03:08:06,480 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 03:08:06,487 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 03:08:06,489 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 03:08:06,492 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 03:08:06,495 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 03:08:06,496 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 03:08:06,499 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 03:08:06,502 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 03:08:06,503 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 03:08:06,503 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 03:08:06,506 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 03:08:06,508 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 03:08:06,509 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 03:08:06,513 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 03:08:06,516 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 03:08:06,516 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 03:08:06,518 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 03:08:06,521 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 03:08:06,523 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 03:08:06,525 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 03:08:06,526 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 03:08:06,528 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 03:08:06,528 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 03:08:06,528 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 03:08:06,528 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 03:08:06,528 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 03:08:06,528 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 03:08:06,531 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 03:08:06,531 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 03:08:06,532 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 03:08:06,533 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 03:08:06,534 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 03:08:06,534 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 03:08:06,534 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 03:08:06,534 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 03:08:06,535 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 03:08:06,535 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 03:08:06,535 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 03:08:06,535 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 03:08:06,536 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 03:08:06,536 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 03:08:06,536 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 03:08:06,536 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 03:08:06,537 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 03:08:06,537 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 03:08:06,537 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 03:08:06,537 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 03:08:06,537 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 03:08:06,537 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 03:08:06,537 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 03:08:06,540 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 03:08:06,540 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 03:08:06,540 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 03:08:06,540 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 03:08:06,540 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 03:08:06,541 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 03:08:06,541 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 03:08:06,541 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 03:08:06,541 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 03:08:06,541 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 03:08:06,541 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 03:08:06,543 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 03:08:06,543 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:08:06,543 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 03:08:06,543 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 03:08:06,543 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 03:08:06,543 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:08:06,544 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 03:08:06,544 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 03:08:06,544 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 03:08:06,544 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 03:08:06,544 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:08:06,544 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 03:08:06,544 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 03:08:06,544 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:08:06,544 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-25 03:08:06,544 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-25 03:08:06,544 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:08:06,544 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 03:08:06,544 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-25 03:08:06,544 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-25 03:09:13,432 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 03:09:13,433 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 03:09:13,434 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 03:09:13,434 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 03:09:13,478 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 03:09:13,483 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 03:09:13,483 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 03:09:13,484 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 03:09:13,488 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 03:09:13,489 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 03:09:13,489 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 03:09:13,489 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 03:09:13,490 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 03:09:13,491 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 03:09:13,491 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 03:09:13,491 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 03:09:13,491 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 03:09:13,491 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 03:09:13,491 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 03:09:13,491 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 03:09:13,491 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 03:09:13,491 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 03:09:13,492 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 03:09:13,492 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 03:09:13,492 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 03:09:13,492 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 03:09:15,735 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 03:09:15,813 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 03:09:15,814 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 03:09:15,815 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 03:09:15,815 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 03:09:15,815 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 03:09:15,825 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 03:09:15,827 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 03:09:15,830 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 03:09:16,306 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 03:09:16,307 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 03:09:16,312 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 03:09:16,314 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 03:09:16,315 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 03:09:16,316 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 03:09:16,318 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 03:09:16,318 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 03:09:16,320 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 03:09:16,321 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 03:09:16,322 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 03:09:16,322 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 03:09:16,323 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 03:09:16,324 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 03:09:16,325 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 03:09:16,326 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 03:09:16,328 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 03:09:16,328 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 03:09:16,329 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 03:09:16,331 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 03:09:16,332 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 03:09:16,333 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 03:09:16,334 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 03:09:16,335 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 03:09:16,336 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 03:09:16,336 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 03:09:16,336 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 03:09:16,335 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 03:09:16,336 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 03:09:16,337 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 03:09:16,338 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 03:09:16,338 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 03:09:16,340 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 03:09:16,340 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 03:09:16,340 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 03:09:16,340 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 03:09:16,340 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 03:09:16,341 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 03:09:16,341 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 03:09:16,341 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 03:09:16,341 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 03:09:16,342 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 03:09:16,342 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 03:09:16,342 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 03:09:16,342 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 03:09:16,342 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 03:09:16,343 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 03:09:16,343 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 03:09:16,343 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 03:09:16,343 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 03:09:16,343 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 03:09:16,343 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 03:09:16,345 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 03:09:16,345 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 03:09:16,345 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 03:09:16,345 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 03:09:16,345 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 03:09:16,345 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 03:09:16,345 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 03:09:16,345 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 03:09:16,345 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 03:09:16,345 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 03:09:16,345 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 03:09:16,346 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 03:09:16,346 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:09:16,346 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 03:09:16,346 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 03:09:16,346 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 03:09:16,346 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:09:16,346 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 03:09:16,346 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 03:09:16,346 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 03:09:16,346 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 03:09:16,346 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:09:16,346 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 03:09:16,346 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 03:09:16,347 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:15:55,999 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 03:15:56,001 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 03:15:56,002 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 03:15:56,003 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 03:15:56,063 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 03:15:56,068 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 03:15:56,069 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 03:15:56,070 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 03:15:56,074 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 03:15:56,074 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 03:15:56,075 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 03:15:56,075 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 03:15:56,075 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 03:15:56,075 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 03:15:56,076 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 03:15:56,078 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 03:15:56,078 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 03:15:56,078 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 03:15:56,078 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 03:15:58,558 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 03:15:58,645 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 03:15:58,646 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 03:15:58,647 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 03:15:58,648 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 03:15:58,648 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 03:15:58,660 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 03:15:58,662 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 03:15:58,666 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 03:15:59,145 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 03:15:59,146 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 03:15:59,152 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 03:15:59,154 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 03:15:59,155 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 03:15:59,157 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 03:15:59,158 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 03:15:59,158 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 03:15:59,161 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 03:15:59,162 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 03:15:59,162 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 03:15:59,162 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 03:15:59,164 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 03:15:59,166 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 03:15:59,167 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 03:15:59,168 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 03:15:59,171 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 03:15:59,171 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 03:15:59,173 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 03:15:59,174 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 03:15:59,176 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 03:15:59,177 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 03:15:59,178 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 03:15:59,180 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 03:15:59,180 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 03:15:59,180 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 03:15:59,180 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 03:15:59,180 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 03:15:59,180 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 03:15:59,182 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 03:15:59,182 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 03:15:59,184 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 03:15:59,187 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 03:15:59,187 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 03:15:59,187 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 03:15:59,188 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 03:15:59,188 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 03:15:59,188 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 03:15:59,188 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 03:15:59,188 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 03:15:59,188 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 03:15:59,189 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 03:15:59,189 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 03:15:59,189 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 03:15:59,189 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 03:15:59,189 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 03:15:59,189 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 03:15:59,190 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 03:15:59,190 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 03:15:59,190 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 03:15:59,190 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 03:15:59,190 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 03:15:59,192 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 03:15:59,192 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 03:15:59,192 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 03:15:59,192 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 03:15:59,192 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 03:15:59,193 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 03:15:59,193 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 03:15:59,193 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 03:15:59,193 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 03:15:59,193 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 03:15:59,193 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 03:15:59,194 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 03:40:48,803 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 03:40:48,810 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 03:40:48,821 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 03:40:48,822 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 03:40:48,889 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 03:40:48,895 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 03:40:48,896 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 03:40:48,897 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 03:40:48,902 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 03:40:48,902 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 03:40:48,902 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 03:40:48,903 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 03:40:48,903 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 03:40:48,904 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 03:40:48,905 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 03:40:48,905 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 03:40:48,906 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 03:40:48,906 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 03:40:48,906 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 03:40:48,906 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 03:40:51,217 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 03:40:51,302 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 03:40:51,303 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 03:40:51,304 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 03:40:51,304 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 03:40:51,304 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 03:40:51,316 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 03:40:51,317 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 03:40:51,321 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 03:40:51,773 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 03:40:51,774 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 03:40:51,780 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 03:40:51,781 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 03:40:51,782 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 03:40:51,784 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 03:40:51,785 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 03:40:51,785 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 03:40:51,788 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 03:40:51,789 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 03:40:51,789 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 03:40:51,789 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 03:40:51,791 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 03:40:51,792 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 03:40:51,793 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 03:40:51,794 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 03:40:51,796 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 03:40:51,796 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 03:40:51,797 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 03:40:51,798 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 03:40:51,800 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 03:40:51,801 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 03:40:51,802 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 03:40:51,803 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 03:40:51,804 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 03:40:51,803 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 03:40:51,804 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 03:40:51,804 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 03:40:51,804 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 03:40:51,805 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 03:40:51,805 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 03:40:51,806 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 03:40:51,808 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 03:40:51,808 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 03:40:51,808 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 03:40:51,809 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 03:40:51,809 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 03:40:51,809 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 03:40:51,809 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 03:40:51,809 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 03:40:51,810 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 03:40:51,810 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 03:40:51,810 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 03:40:51,810 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 03:40:51,810 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 03:40:51,810 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 03:40:51,811 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 03:40:51,811 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 03:40:51,811 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 03:40:51,811 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 03:40:51,811 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 03:40:51,811 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 03:40:51,813 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 03:40:51,813 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 03:40:51,813 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 03:40:51,813 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 03:40:51,813 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 03:40:51,814 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 03:40:51,814 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 03:40:51,814 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 03:40:51,814 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 03:40:51,814 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 03:40:51,814 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 03:40:51,814 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 03:40:51,814 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:40:51,814 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 03:40:51,814 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 03:40:51,814 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 03:40:51,815 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:40:51,815 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 03:40:51,815 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 03:40:51,815 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 03:40:51,815 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 03:40:51,815 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:40:51,815 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 03:40:51,816 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 03:40:51,816 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:40:51,816 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-25 03:40:51,816 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-25 03:40:51,816 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:40:51,816 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 03:40:51,816 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-25 03:40:51,816 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-25 03:40:51,816 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter wenxin has no API key configured, skipping warm-up
2026-02-25 03:40:52,014 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 03:40:52,015 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 03:40:52,015 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 03:40:52,016 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 03:40:52,042 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 03:40:52,044 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 03:40:52,045 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 03:40:52,045 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 03:40:52,047 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 03:40:52,047 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 03:40:52,047 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 03:40:52,048 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 03:40:52,049 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 03:40:52,049 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 03:40:52,049 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 03:40:52,049 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 03:40:53,968 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 03:40:54,023 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 03:40:54,023 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 03:40:54,024 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 03:40:54,025 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 03:40:54,025 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 03:40:54,032 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 03:40:54,034 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 03:40:54,036 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 03:40:54,493 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 03:40:54,494 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 03:40:54,498 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 03:40:54,500 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 03:40:54,501 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 03:40:54,502 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 03:40:54,503 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 03:40:54,503 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 03:40:54,504 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 03:40:54,505 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 03:40:54,506 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 03:40:54,506 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 03:40:54,507 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 03:40:54,507 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 03:40:54,508 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 03:40:54,509 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 03:40:54,510 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 03:40:54,510 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 03:40:54,511 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 03:40:54,512 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 03:40:54,513 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 03:40:54,514 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 03:40:54,515 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 03:40:54,516 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 03:40:54,516 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 03:40:54,516 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 03:40:54,516 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 03:40:54,516 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 03:40:54,516 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 03:40:54,520 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 03:40:54,520 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 03:40:54,521 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 03:40:54,522 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 03:40:54,522 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 03:40:54,522 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 03:40:54,522 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 03:40:54,523 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 03:40:54,523 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 03:40:54,523 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 03:40:54,523 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 03:40:54,524 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 03:40:54,524 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 03:40:54,524 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 03:40:54,524 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 03:40:54,525 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 03:40:54,525 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 03:40:54,525 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 03:40:54,525 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 03:40:54,525 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 03:40:54,525 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 03:40:54,526 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 03:40:54,526 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 03:40:54,526 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 03:40:54,526 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 03:40:54,526 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 03:40:54,526 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 03:40:54,526 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 03:40:54,527 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 03:40:54,527 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 03:40:54,527 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 03:40:54,527 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 03:40:54,527 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 03:40:54,527 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 03:40:54,527 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 03:40:54,527 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:40:54,527 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 03:40:54,528 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 03:40:54,528 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 03:40:54,528 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 03:40:54,528 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 03:40:54,528 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 13:32:14,302 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 13:32:14,305 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 13:32:14,307 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 13:32:14,308 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 13:32:14,393 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 13:32:14,397 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 13:32:14,398 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 13:32:14,398 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 13:32:14,413 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 13:32:14,414 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 13:32:14,414 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 13:32:14,415 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 13:32:14,415 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 13:32:14,415 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 13:32:14,415 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 13:32:14,415 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 13:32:14,415 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 13:32:14,415 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 13:32:14,415 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 13:32:14,415 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 13:32:14,415 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 13:32:14,415 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 13:32:14,415 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 13:32:14,415 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 13:32:14,416 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 13:32:14,417 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 13:32:14,417 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 13:32:14,417 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 13:32:14,417 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 13:32:17,312 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 13:32:17,412 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 13:32:17,413 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 13:32:17,414 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 13:32:17,414 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 13:32:17,414 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 13:32:17,424 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 13:32:17,425 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 13:32:17,428 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 13:32:18,356 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 13:32:18,356 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 13:32:18,364 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 13:32:18,365 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 13:32:18,366 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 13:32:18,368 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 13:32:18,369 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 13:32:18,369 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 13:32:18,371 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 13:32:18,372 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 13:32:18,372 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 13:32:18,373 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 13:32:18,374 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 13:32:18,375 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 13:32:18,376 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 13:32:18,377 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 13:32:18,379 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 13:32:18,379 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 13:32:18,379 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 13:32:18,380 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 13:32:18,382 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 13:32:18,382 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 13:32:18,384 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 13:32:18,384 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 13:32:18,384 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 13:32:18,385 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 13:32:18,385 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 13:32:18,385 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 13:32:18,385 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 13:32:18,386 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 13:32:18,386 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 13:32:18,387 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 13:32:18,388 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 13:32:18,388 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 13:32:18,389 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 13:32:18,389 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 13:32:18,389 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 13:32:18,389 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 13:32:18,389 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 13:32:18,390 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 13:32:18,390 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 13:32:18,390 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 13:32:18,390 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 13:32:18,390 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 13:32:18,390 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 13:32:18,390 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 13:32:18,391 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 13:32:18,391 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 13:32:18,391 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 13:32:18,391 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 13:32:18,392 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 13:32:18,392 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 13:32:18,393 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 13:32:18,393 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 13:32:18,393 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 13:32:18,393 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 13:32:18,393 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 13:32:18,393 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 13:32:18,393 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 13:32:18,393 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 13:32:18,393 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 13:32:18,393 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 13:32:18,393 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 13:32:18,394 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 13:32:18,394 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 13:32:18,394 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 13:32:18,394 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 13:32:18,394 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 13:32:18,394 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 13:32:18,395 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 13:32:18,590 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 13:32:18,591 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 13:32:18,591 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 13:32:18,592 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 13:32:18,624 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 13:32:18,627 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 13:32:18,627 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 13:32:18,627 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 13:32:18,629 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 13:32:18,629 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 13:32:18,630 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 13:32:18,631 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 13:32:18,631 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 13:32:18,631 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 13:32:18,631 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 13:32:18,631 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 13:32:18,631 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 13:32:18,631 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 13:32:18,631 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 13:32:18,631 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 13:32:18,631 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 13:32:18,631 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 13:32:18,631 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 13:32:20,486 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 13:32:20,536 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 13:32:20,537 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 13:32:20,537 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 13:32:20,537 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 13:32:20,538 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 13:32:20,545 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 13:32:20,547 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 13:32:20,550 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 13:32:20,987 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 13:32:20,987 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 13:32:20,992 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 13:32:20,993 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 13:32:20,994 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 13:32:20,994 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 13:32:20,995 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 13:32:20,996 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 13:32:20,997 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 13:32:20,998 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 13:32:20,999 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 13:32:20,999 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 13:32:21,000 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 13:32:21,001 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 13:32:21,002 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 13:32:21,003 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 13:32:21,004 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 13:32:21,004 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 13:32:21,004 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 13:32:21,005 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 13:32:21,006 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 13:32:21,007 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 13:32:21,008 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 13:32:21,009 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 13:32:21,009 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 13:32:21,009 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 13:32:21,009 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 13:32:21,009 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 13:32:21,009 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 13:32:21,011 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 13:32:21,011 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 13:32:21,012 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 13:32:21,012 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 13:32:21,013 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 13:32:21,013 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 13:32:21,013 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 13:32:21,013 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 13:32:21,013 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 13:32:21,014 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 13:32:21,014 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 13:32:21,014 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 13:32:21,014 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 13:32:21,015 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 13:32:21,015 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 13:32:21,015 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 13:32:21,015 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 13:32:21,015 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 13:32:21,016 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 13:32:21,016 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 13:32:21,016 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 13:32:21,016 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 13:32:21,016 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 13:32:21,017 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 13:32:21,017 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 13:32:21,017 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 13:32:21,017 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 13:32:21,017 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 13:32:21,017 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 13:32:21,017 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 13:32:21,017 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 13:32:21,018 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 13:32:21,018 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 13:32:21,018 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 13:32:21,018 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 13:32:21,018 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 13:32:21,019 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 13:32:21,019 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 13:32:21,019 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 13:32:21,019 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 13:32:21,019 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 13:32:21,019 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 13:32:21,019 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 13:32:21,019 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 18:29:16,865 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 18:29:16,870 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 18:29:16,872 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 18:29:16,874 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 18:29:16,959 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 18:29:16,964 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 18:29:16,965 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 18:29:16,966 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 18:29:16,970 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 18:29:16,971 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 18:29:16,971 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 18:29:16,971 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 18:29:16,972 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 18:29:16,972 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 18:29:16,972 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 18:29:16,972 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 18:29:16,972 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 18:29:16,972 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 18:29:16,973 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 18:29:16,974 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 18:29:16,974 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 18:29:16,974 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 18:29:16,974 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 18:29:19,907 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 18:29:20,031 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 18:29:20,031 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 18:29:20,032 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 18:29:20,032 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 18:29:20,033 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 18:29:20,042 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 18:29:20,043 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 18:29:20,051 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 18:29:21,387 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 18:29:21,388 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 18:29:21,393 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 18:29:21,395 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 18:29:21,396 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 18:29:21,397 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 18:29:21,399 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 18:29:21,400 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 18:29:21,402 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 18:29:21,402 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 18:29:21,403 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 18:29:21,403 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 18:29:21,404 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 18:29:21,405 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 18:29:21,406 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 18:29:21,408 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 18:29:21,410 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 18:29:21,410 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 18:29:21,411 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 18:29:21,412 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 18:29:21,413 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 18:29:21,414 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 18:29:21,416 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 18:29:21,417 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 18:29:21,417 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 18:29:21,417 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 18:29:21,417 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 18:29:21,417 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 18:29:21,417 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 18:29:21,419 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 18:29:21,419 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 18:29:21,420 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 18:29:21,421 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 18:29:21,421 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 18:29:21,422 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 18:29:21,422 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 18:29:21,422 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 18:29:21,422 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 18:29:21,422 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 18:29:21,422 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 18:29:21,423 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 18:29:21,423 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 18:29:21,423 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 18:29:21,423 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 18:29:21,423 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 18:29:21,423 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 18:29:21,424 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 18:29:21,424 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 18:29:21,424 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 18:29:21,424 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 18:29:21,425 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 18:29:21,425 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 18:29:21,426 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 18:29:21,426 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 18:29:21,426 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 18:29:21,426 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 18:29:21,426 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 18:29:21,426 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 18:29:21,426 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 18:29:21,426 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 18:29:21,426 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 18:29:21,426 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 18:29:21,426 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 18:29:21,427 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 18:29:21,427 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 18:29:21,427 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 18:29:21,427 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 18:29:21,427 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 18:29:21,427 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 18:29:21,427 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 18:29:21,427 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 18:29:21,427 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 18:29:21,427 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 18:29:21,427 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 18:29:21,427 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 18:29:21,428 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 18:29:21,428 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 18:29:21,622 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 18:29:21,629 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 18:29:21,630 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 18:29:21,631 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 18:29:21,658 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 18:29:21,661 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 18:29:21,661 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 18:29:21,662 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 18:29:21,664 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 18:29:21,664 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 18:29:21,664 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 18:29:21,664 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 18:29:21,664 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 18:29:21,665 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 18:29:21,666 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 18:29:21,666 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 18:29:21,666 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 18:29:21,666 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 18:29:23,612 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 18:29:23,670 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 18:29:23,672 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 18:29:23,673 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 18:29:23,673 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 18:29:23,673 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 18:29:23,680 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 18:29:23,682 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 18:29:23,685 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 18:29:24,136 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 18:29:24,137 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 18:29:24,141 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 18:29:24,142 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 18:29:24,142 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 18:29:24,143 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 18:29:24,144 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 18:29:24,145 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 18:29:24,146 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 18:29:24,147 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 18:29:24,147 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 18:29:24,148 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 18:29:24,148 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 18:29:24,149 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 18:29:24,150 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 18:29:24,151 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 18:29:24,151 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 18:29:24,151 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 18:29:24,152 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 18:29:24,153 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 18:29:24,154 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 18:29:24,154 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 18:29:24,155 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 18:29:24,156 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 18:29:24,156 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 18:29:24,156 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 18:29:24,157 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 18:29:24,157 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 18:29:24,157 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 18:29:24,159 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 18:29:24,159 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 18:29:24,160 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 18:29:24,161 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 18:29:24,161 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 18:29:24,161 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 18:29:24,162 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 18:29:24,162 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 18:29:24,162 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 18:29:24,162 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 18:29:24,162 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 18:29:24,163 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 18:29:24,163 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 18:29:24,163 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 18:29:24,163 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 18:29:24,164 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 18:29:24,164 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 18:29:24,164 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 18:29:24,164 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 18:29:24,164 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 18:29:24,164 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 18:29:24,165 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 18:29:24,165 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 18:29:24,165 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 18:29:24,165 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 18:29:24,165 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 18:29:24,165 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 18:29:24,165 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 18:29:24,166 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 18:29:24,166 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 18:29:24,166 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 18:29:24,166 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 18:29:24,166 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 18:29:24,166 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 18:29:24,166 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 18:29:24,167 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 18:29:24,167 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 19:00:51,567 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:00:51,569 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 19:00:51,570 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:00:51,571 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 19:00:51,630 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 19:00:51,636 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 19:00:51,637 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 19:00:51,637 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 19:00:51,641 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 19:00:51,642 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 19:00:51,642 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 19:00:51,642 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 19:00:51,643 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 19:00:51,643 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 19:00:51,643 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 19:00:51,643 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 19:00:51,643 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 19:00:51,643 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 19:00:51,643 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 19:00:51,643 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 19:00:51,643 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 19:00:51,643 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 19:00:51,643 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 19:00:51,643 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 19:00:51,643 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 19:00:51,644 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:00:51,645 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 19:00:51,645 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 19:00:51,645 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 19:00:51,645 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 19:00:54,041 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 19:00:54,129 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 19:00:54,129 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 19:00:54,131 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:00:54,131 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 19:00:54,131 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 19:00:54,142 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:00:54,144 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:00:54,148 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 19:00:54,596 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:00:54,597 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:00:54,602 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 19:00:54,604 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 19:00:54,605 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 19:00:54,608 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 19:00:54,610 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 19:00:54,611 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 19:00:54,613 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 19:00:54,614 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 19:00:54,615 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 19:00:54,615 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 19:00:54,618 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 19:00:54,620 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 19:00:54,621 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 19:00:54,624 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 19:00:54,627 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 19:00:54,627 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 19:00:54,628 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 19:00:54,630 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 19:00:54,631 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 19:00:54,632 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:00:54,634 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:00:54,635 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 19:00:54,635 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 19:00:54,636 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 19:00:54,636 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 19:00:54,636 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 19:00:54,636 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 19:00:54,638 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 19:00:54,638 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 19:00:54,639 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 19:00:54,641 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 19:00:54,641 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 19:00:54,641 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 19:00:54,642 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 19:00:54,642 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 19:00:54,642 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 19:00:54,642 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 19:00:54,642 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 19:00:54,642 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 19:00:54,643 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 19:00:54,643 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 19:00:54,643 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 19:00:54,643 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:00:54,643 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:00:54,643 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:00:54,644 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 19:00:54,644 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 19:00:54,644 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:00:54,644 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:00:54,644 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 19:00:54,646 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 19:00:54,646 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 19:00:54,646 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 19:00:54,646 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 19:00:54,646 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 19:00:54,647 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 19:00:54,647 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 19:00:54,647 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 19:00:54,647 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 19:00:54,647 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 19:00:54,647 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 19:00:54,648 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 19:00:54,648 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:00:54,648 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 19:00:54,648 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 19:00:54,648 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 19:00:54,648 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:00:54,648 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:00:54,648 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 19:00:54,648 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 19:00:54,648 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 19:00:54,648 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:00:54,648 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 19:00:54,648 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 19:00:54,648 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:00:54,648 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-25 19:00:54,648 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-25 19:00:54,649 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:00:54,649 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:00:54,649 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-25 19:19:55,280 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:19:55,282 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 19:19:55,283 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:19:55,284 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 19:19:55,333 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 19:19:55,339 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 19:19:55,340 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 19:19:55,340 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 19:19:55,344 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 19:19:55,344 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 19:19:55,345 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 19:19:55,345 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 19:19:55,345 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 19:19:55,346 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:19:55,348 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 19:19:55,348 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 19:19:55,348 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 19:19:55,348 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 19:19:57,785 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 19:19:57,870 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 19:19:57,871 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 19:19:57,872 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:19:57,872 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 19:19:57,872 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 19:19:57,883 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:19:57,885 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:19:57,889 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 19:19:58,370 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:19:58,371 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:19:58,376 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 19:19:58,377 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 19:19:58,379 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 19:19:58,380 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 19:19:58,382 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 19:19:58,382 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 19:19:58,385 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 19:19:58,385 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 19:19:58,386 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 19:19:58,386 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 19:19:58,387 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 19:19:58,389 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 19:19:58,390 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 19:19:58,391 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 19:19:58,394 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 19:19:58,394 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 19:19:58,395 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 19:19:58,397 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 19:19:58,399 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 19:19:58,400 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:19:58,402 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:19:58,403 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 19:19:58,404 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 19:19:58,404 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 19:19:58,404 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 19:19:58,403 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 19:19:58,403 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 19:19:58,406 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 19:19:58,406 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 19:19:58,407 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 19:19:58,409 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 19:19:58,409 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 19:19:58,410 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 19:19:58,410 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 19:19:58,410 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 19:19:58,410 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 19:19:58,411 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 19:19:58,411 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 19:19:58,411 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 19:19:58,411 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 19:19:58,411 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 19:19:58,411 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 19:19:58,412 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:19:58,412 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:19:58,412 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:19:58,412 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 19:19:58,412 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 19:19:58,412 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:19:58,413 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:19:58,413 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 19:19:58,414 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 19:19:58,414 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 19:19:58,414 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 19:19:58,414 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 19:19:58,415 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 19:19:58,415 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 19:19:58,415 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 19:19:58,415 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 19:19:58,415 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 19:19:58,415 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 19:19:58,415 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 19:19:58,416 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 19:19:58,416 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:19:58,416 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 19:19:58,417 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 19:19:58,417 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 19:19:58,418 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:20:14,808 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:20:14,810 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 19:20:14,811 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:20:14,811 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 19:20:14,854 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 19:20:14,859 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 19:20:14,860 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 19:20:14,860 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 19:20:14,864 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 19:20:14,864 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 19:20:14,865 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 19:20:14,865 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 19:20:14,866 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 19:20:14,867 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 19:20:14,867 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 19:20:14,867 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 19:20:14,867 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 19:20:14,867 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 19:20:14,867 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 19:20:14,867 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 19:20:14,867 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 19:20:14,867 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 19:20:14,867 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:20:14,867 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 19:20:14,867 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:20:14,868 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 19:20:14,868 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 19:20:14,868 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 19:20:14,868 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 19:20:17,060 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 19:20:17,135 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 19:20:17,135 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 19:20:17,136 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:20:17,136 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 19:20:17,137 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 19:20:17,153 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:20:17,156 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:20:17,160 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 19:20:17,717 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:20:17,718 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:20:17,724 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 19:20:17,726 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 19:20:17,727 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 19:20:17,728 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 19:20:17,730 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 19:20:17,730 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 19:20:17,732 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 19:20:17,733 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 19:20:17,734 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 19:20:17,734 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 19:20:17,735 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 19:20:17,737 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 19:20:17,738 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 19:20:17,739 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 19:20:17,741 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 19:20:17,741 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 19:20:17,742 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 19:20:17,743 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 19:20:17,744 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 19:20:17,745 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:20:17,747 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:20:17,748 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 19:20:17,748 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 19:20:17,748 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 19:20:17,748 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 19:20:17,749 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 19:20:17,749 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 19:20:17,750 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 19:20:17,751 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 19:20:17,751 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 19:20:17,753 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 19:20:17,753 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 19:20:17,753 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 19:20:17,753 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 19:20:17,754 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 19:20:17,754 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 19:20:17,754 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 19:20:17,755 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 19:20:17,755 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 19:20:17,755 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 19:20:17,755 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 19:20:17,755 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 19:20:17,755 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:20:17,756 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:20:17,756 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:20:17,756 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 19:20:17,756 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 19:20:17,756 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:20:17,756 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:20:17,756 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 19:20:17,761 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 19:20:17,761 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 19:20:17,763 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 19:20:17,763 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 19:20:17,772 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 19:20:17,776 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 19:20:17,776 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 19:20:17,776 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 19:20:17,776 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 19:20:17,776 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 19:20:17,777 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 19:20:17,777 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 19:20:17,778 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:20:17,778 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 19:20:17,778 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 19:20:17,778 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 19:20:17,778 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:20:17,778 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:20:17,778 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 19:21:41,650 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:21:41,652 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 19:21:41,653 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:21:41,653 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 19:21:41,699 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 19:21:41,704 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 19:21:41,704 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 19:21:41,705 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 19:21:41,709 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 19:21:41,709 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 19:21:41,709 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 19:21:41,710 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 19:21:41,710 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 19:21:41,710 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 19:21:41,710 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 19:21:41,710 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 19:21:41,710 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 19:21:41,710 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 19:21:41,710 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 19:21:41,710 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 19:21:41,710 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 19:21:41,710 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 19:21:41,711 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:21:41,712 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 19:21:41,712 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 19:21:41,712 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 19:21:41,712 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 19:21:43,950 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 19:21:44,025 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 19:21:44,026 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 19:21:44,028 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:21:44,028 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 19:21:44,028 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 19:21:44,038 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:21:44,040 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:21:44,044 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 19:21:44,505 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:21:44,506 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:21:44,512 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 19:21:44,513 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 19:21:44,514 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 19:21:44,515 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 19:21:44,517 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 19:21:44,518 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 19:21:44,520 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 19:21:44,521 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 19:21:44,525 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 19:21:44,526 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 19:21:44,527 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 19:21:44,528 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 19:21:44,536 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 19:21:44,538 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 19:21:44,545 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 19:21:44,545 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 19:21:44,546 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 19:21:44,552 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 19:21:44,556 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 19:21:44,557 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:21:44,559 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:21:44,560 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 19:21:44,560 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 19:21:44,560 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 19:21:44,560 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 19:21:44,561 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 19:21:44,561 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 19:21:44,563 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 19:21:44,563 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 19:21:44,564 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 19:21:44,565 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 19:21:44,565 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 19:21:44,565 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 19:21:44,565 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 19:21:44,565 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 19:21:44,566 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 19:21:44,566 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 19:21:44,566 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 19:21:44,566 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 19:21:44,566 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 19:21:44,567 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 19:21:44,567 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 19:21:44,567 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:21:44,567 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:21:44,567 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:21:44,568 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 19:21:44,568 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 19:21:44,568 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:21:44,568 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:21:44,568 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 19:21:44,570 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 19:21:44,570 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 19:21:44,570 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 19:21:44,570 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 19:21:44,570 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 19:21:44,571 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 19:21:44,571 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 19:21:44,571 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 19:21:44,571 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 19:21:44,571 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 19:21:44,571 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 19:21:44,572 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 19:21:44,572 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:21:44,572 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 19:21:44,572 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 19:21:44,572 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 19:21:44,572 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:21:44,572 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:21:44,573 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 19:21:44,573 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 19:21:44,573 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 19:21:44,573 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:21:44,573 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 19:21:44,573 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 19:21:44,573 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:21:44,573 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-25 19:25:23,161 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:25:23,163 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 19:25:23,163 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:25:23,164 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 19:25:23,225 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 19:25:23,231 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 19:25:23,231 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 19:25:23,232 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 19:25:23,236 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 19:25:23,236 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 19:25:23,236 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 19:25:23,237 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 19:25:23,237 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 19:25:23,238 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:25:23,239 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 19:25:23,240 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 19:25:23,240 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 19:25:23,240 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 19:25:25,424 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 19:25:25,503 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 19:25:25,503 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 19:25:25,504 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:25:25,505 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 19:25:25,505 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 19:25:25,516 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:25:25,518 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:25:25,521 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 19:25:26,052 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:25:26,053 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:25:26,059 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 19:25:26,060 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 19:25:26,061 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 19:25:26,062 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 19:25:26,064 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 19:25:26,065 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 19:25:26,068 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 19:25:26,068 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 19:25:26,069 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 19:25:26,069 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 19:25:26,071 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 19:25:26,072 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 19:25:26,073 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 19:25:26,074 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 19:25:26,077 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 19:25:26,077 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 19:25:26,078 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 19:25:26,079 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 19:25:26,080 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 19:25:26,081 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:25:26,083 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:25:26,084 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 19:25:26,084 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 19:25:26,085 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 19:25:26,085 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 19:25:26,084 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 19:25:26,085 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 19:25:26,087 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 19:25:26,087 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 19:25:26,088 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 19:25:26,091 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 19:25:26,092 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 19:25:26,092 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 19:25:26,092 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 19:25:26,092 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 19:25:26,092 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 19:25:26,093 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 19:25:26,093 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 19:25:26,093 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 19:25:26,093 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 19:25:26,093 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 19:25:26,094 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 19:25:26,094 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:25:26,094 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:25:26,094 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:25:26,094 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 19:25:26,094 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 19:25:26,095 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:25:26,095 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:25:26,095 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 19:25:26,096 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 19:25:26,096 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 19:25:26,096 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 19:25:26,096 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 19:25:26,096 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 19:25:26,097 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 19:25:26,097 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 19:25:26,097 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 19:25:26,097 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 19:25:26,097 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 19:25:26,097 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 19:25:26,098 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 19:25:26,098 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:25:26,098 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 19:25:26,098 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 19:25:26,098 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 19:25:26,098 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:25:26,099 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:25:26,099 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 19:25:26,099 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 19:25:26,099 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 19:26:52,899 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:26:52,901 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 19:26:52,902 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:26:52,902 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 19:26:52,956 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 19:26:52,962 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 19:26:52,963 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 19:26:52,963 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 19:26:52,967 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 19:26:52,967 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 19:26:52,968 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 19:26:52,968 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 19:26:52,968 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 19:26:52,969 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 19:26:52,970 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 19:26:52,970 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 19:26:52,970 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 19:26:52,970 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 19:26:52,970 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:26:52,970 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 19:26:52,970 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:26:52,971 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 19:26:52,971 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 19:26:52,971 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 19:26:52,971 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 19:26:55,155 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 19:26:55,235 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 19:26:55,235 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 19:26:55,237 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:26:55,237 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 19:26:55,237 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 19:26:55,249 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:26:55,251 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:26:55,257 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 19:26:55,717 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:26:55,718 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:26:55,724 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 19:26:55,725 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 19:26:55,726 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 19:26:55,727 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 19:26:55,729 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 19:26:55,730 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 19:26:55,732 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 19:26:55,732 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 19:26:55,733 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 19:26:55,733 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 19:26:55,735 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 19:26:55,736 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 19:26:55,737 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 19:26:55,738 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 19:26:55,740 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 19:26:55,740 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 19:26:55,741 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 19:26:55,742 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 19:26:55,744 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 19:26:55,744 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:26:55,746 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:26:55,747 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 19:26:55,747 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 19:26:55,747 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 19:26:55,747 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 19:26:55,747 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 19:26:55,747 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 19:26:55,749 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 19:26:55,750 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 19:26:55,751 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 19:26:55,752 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 19:26:55,753 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 19:26:55,753 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 19:26:55,753 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 19:26:55,754 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 19:26:55,754 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 19:26:55,754 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 19:26:55,754 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 19:26:55,755 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 19:26:55,755 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 19:26:55,755 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 19:26:55,755 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 19:26:55,755 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:26:55,756 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:26:55,756 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:26:55,756 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 19:26:55,756 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 19:26:55,756 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:26:55,756 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:26:55,756 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 19:26:55,758 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 19:26:55,758 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 19:26:55,758 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 19:26:55,758 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 19:26:55,758 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 19:26:55,758 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 19:26:55,759 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 19:26:55,759 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 19:26:55,759 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 19:26:55,759 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 19:26:55,759 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 19:26:55,759 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 19:26:55,759 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:26:55,760 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 19:26:55,760 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 19:26:55,760 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 19:26:55,760 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:26:55,760 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:26:55,760 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 19:26:55,760 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 19:26:55,760 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 19:26:55,760 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:26:55,760 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 19:26:55,760 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 19:26:55,760 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:26:55,760 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-25 19:26:55,760 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-25 19:26:55,761 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:35:35,642 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:35:35,644 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 19:35:35,645 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:35:35,645 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 19:35:35,692 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 19:35:35,698 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 19:35:35,699 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 19:35:35,700 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 19:35:35,704 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 19:35:35,704 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 19:35:35,705 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 19:35:35,705 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 19:35:35,705 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 19:35:35,706 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:35:35,708 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 19:35:35,708 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 19:35:35,708 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 19:35:35,708 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 19:35:37,929 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 19:35:38,005 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 19:35:38,006 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 19:35:38,007 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:35:38,007 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 19:35:38,007 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 19:35:38,018 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:35:38,020 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:35:38,023 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 19:35:39,449 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:35:39,450 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:35:39,458 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 19:35:39,460 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 19:35:39,461 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 19:35:39,462 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 19:35:39,464 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 19:35:39,464 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 19:35:39,466 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 19:35:39,467 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 19:35:39,468 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 19:35:39,468 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 19:35:39,469 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 19:35:39,471 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 19:35:39,472 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 19:35:39,473 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 19:35:39,475 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 19:35:39,475 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 19:35:39,476 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 19:35:39,477 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 19:35:39,479 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 19:35:39,479 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:35:39,481 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:35:39,482 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 19:35:39,482 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 19:35:39,482 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 19:35:39,482 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 19:35:39,483 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 19:35:39,483 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 19:35:39,485 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 19:35:39,485 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 19:35:39,486 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 19:35:39,487 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 19:35:39,487 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 19:35:39,487 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 19:35:39,487 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 19:35:39,488 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 19:35:39,488 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 19:35:39,488 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 19:35:39,488 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 19:35:39,488 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 19:35:39,488 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 19:35:39,489 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 19:35:39,489 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 19:35:39,489 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:35:39,489 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:35:39,489 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:35:39,489 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 19:35:39,490 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 19:35:39,490 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:35:39,490 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:35:39,490 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 19:35:39,491 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 19:35:39,491 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 19:35:39,491 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 19:35:39,491 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 19:35:39,492 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 19:35:39,492 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 19:35:39,492 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 19:35:39,492 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 19:35:39,492 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 19:35:39,492 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 19:35:39,492 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 19:35:39,493 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 19:35:39,493 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:35:39,493 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 19:35:39,493 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 19:35:39,493 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 19:35:39,493 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:35:39,493 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:35:39,493 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 19:35:39,493 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 19:35:39,494 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 19:45:51,326 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:45:51,327 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 19:45:51,327 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:45:51,328 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 19:45:51,372 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 19:45:51,378 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 19:45:51,378 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 19:45:51,379 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 19:45:51,383 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 19:45:51,383 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 19:45:51,384 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 19:45:51,384 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 19:45:51,384 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 19:45:51,385 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:45:51,387 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 19:45:51,387 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 19:45:51,387 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 19:45:51,387 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 19:45:53,538 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 19:45:53,614 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 19:45:53,614 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 19:45:53,615 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:45:53,616 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 19:45:53,616 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 19:45:53,626 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:45:53,628 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:45:53,631 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 19:45:55,293 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:45:55,294 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:45:55,306 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 19:45:55,308 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 19:45:55,309 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 19:45:55,310 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 19:45:55,312 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 19:45:55,313 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 19:45:55,315 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 19:45:55,316 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 19:45:55,316 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 19:45:55,316 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 19:45:55,318 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 19:45:55,319 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 19:45:55,320 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 19:45:55,321 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 19:45:55,323 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 19:45:55,323 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 19:45:55,324 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 19:45:55,325 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 19:45:55,327 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 19:45:55,328 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:45:55,330 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:45:55,331 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 19:45:55,331 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 19:45:55,332 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 19:45:55,332 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 19:45:55,332 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 19:45:55,332 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 19:45:55,334 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 19:45:55,334 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 19:45:55,335 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 19:45:55,336 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 19:45:55,336 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 19:45:55,336 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 19:45:55,336 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 19:45:55,337 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 19:45:55,337 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 19:45:55,337 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 19:45:55,337 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 19:45:55,338 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 19:45:55,338 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 19:45:55,338 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 19:45:55,338 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 19:45:55,339 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:45:55,339 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:45:55,339 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:45:55,339 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 19:45:55,339 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 19:45:55,340 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:45:55,340 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:45:55,340 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 19:45:55,341 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 19:45:55,341 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 19:45:55,341 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 19:45:55,341 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 19:45:55,341 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 19:45:55,342 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 19:45:55,342 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 19:45:55,342 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 19:45:55,342 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 19:45:55,342 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 19:45:55,342 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 19:45:55,343 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 19:45:55,343 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:45:55,343 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 19:45:55,343 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 19:45:55,343 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 19:45:55,343 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:45:55,344 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:45:55,344 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 19:45:55,344 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 19:45:55,344 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 19:45:55,344 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:55:13,683 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:55:13,684 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 19:55:13,685 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:55:13,686 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 19:55:13,731 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 19:55:13,736 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 19:55:13,737 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 19:55:13,738 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 19:55:13,741 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 19:55:13,742 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 19:55:13,742 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 19:55:13,742 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 19:55:13,743 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 19:55:13,743 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 19:55:13,743 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 19:55:13,743 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 19:55:13,743 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 19:55:13,743 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 19:55:13,743 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 19:55:13,743 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 19:55:13,743 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 19:55:13,743 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 19:55:13,743 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 19:55:13,743 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 19:55:13,743 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 19:55:13,743 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 19:55:13,744 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:55:13,745 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 19:55:13,745 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 19:55:13,745 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 19:55:13,745 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 19:55:15,877 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 19:55:15,952 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 19:55:15,953 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 19:55:15,954 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:55:15,955 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 19:55:15,955 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 19:55:15,965 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:55:15,966 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:55:15,970 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 19:55:17,274 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:55:17,275 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:55:17,287 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 19:55:17,289 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 19:55:17,290 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 19:55:17,291 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 19:55:17,293 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 19:55:17,293 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 19:55:17,295 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 19:55:17,296 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 19:55:17,296 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 19:55:17,296 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 19:55:17,297 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 19:55:17,299 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 19:55:17,300 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 19:55:17,301 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 19:55:17,303 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 19:55:17,303 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 19:55:17,304 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 19:55:17,306 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 19:55:17,307 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 19:55:17,308 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:55:17,310 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:55:17,311 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 19:55:17,311 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 19:55:17,312 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 19:55:17,311 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 19:55:17,312 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 19:55:17,311 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 19:55:17,314 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 19:55:17,314 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 19:55:17,315 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 19:55:17,316 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 19:55:17,316 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 19:55:17,316 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 19:55:17,316 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 19:55:17,316 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 19:55:17,316 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 19:55:17,317 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 19:55:17,317 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 19:55:17,317 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 19:55:17,317 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 19:55:17,317 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 19:55:17,317 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 19:55:17,318 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:55:17,318 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:55:17,318 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:55:17,319 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 19:55:17,319 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 19:55:17,319 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:55:17,319 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:55:17,319 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 19:55:17,320 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 19:55:17,321 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 19:55:17,321 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 19:55:17,321 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 19:55:17,321 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 19:55:17,321 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 19:55:17,321 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 19:55:17,321 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 19:55:17,321 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 19:55:17,321 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 19:55:17,321 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 19:55:17,322 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 19:55:17,322 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:55:17,322 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 19:55:17,322 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 19:55:17,322 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 19:55:17,322 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:55:17,322 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:55:17,322 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 19:55:17,322 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 19:55:17,322 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 19:55:17,322 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:55:17,323 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 19:55:17,323 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 19:55:17,323 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:55:17,323 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-25 19:55:17,323 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-25 19:55:17,323 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:55:17,323 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:55:17,323 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-25 19:55:17,323 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-25 19:55:53,985 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:55:53,987 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 19:55:53,987 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 19:55:53,988 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 19:55:54,031 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 19:55:54,036 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 19:55:54,037 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 19:55:54,037 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 19:55:54,041 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 19:55:54,041 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 19:55:54,042 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 19:55:54,042 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 19:55:54,042 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 19:55:54,043 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 19:55:54,044 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 19:55:54,044 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 19:55:54,044 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 19:55:54,044 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 19:55:56,213 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 19:55:56,298 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 19:55:56,299 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 19:55:56,301 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:55:56,301 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 19:55:56,301 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 19:55:56,311 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:55:56,312 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:55:56,315 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 19:55:57,660 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 19:55:57,661 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 19:55:57,670 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 19:55:57,672 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 19:55:57,673 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 19:55:57,674 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 19:55:57,676 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 19:55:57,676 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 19:55:57,678 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 19:55:57,679 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 19:55:57,680 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 19:55:57,680 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 19:55:57,681 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 19:55:57,683 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 19:55:57,684 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 19:55:57,685 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 19:55:57,687 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 19:55:57,687 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 19:55:57,688 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 19:55:57,689 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 19:55:57,691 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 19:55:57,691 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:55:57,693 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 19:55:57,695 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 19:55:57,695 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 19:55:57,695 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 19:55:57,695 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 19:55:57,695 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 19:55:57,695 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 19:55:57,697 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 19:55:57,697 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 19:55:57,697 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 19:55:57,698 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 19:55:57,699 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 19:55:57,699 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 19:55:57,699 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 19:55:57,699 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 19:55:57,699 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 19:55:57,699 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 19:55:57,700 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 19:55:57,700 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 19:55:57,700 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 19:55:57,700 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 19:55:57,700 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 19:55:57,700 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:55:57,701 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:55:57,701 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 19:55:57,701 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 19:55:57,701 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 19:55:57,701 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:55:57,701 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 19:55:57,701 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 19:55:57,703 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 19:55:57,703 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 19:55:57,703 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 19:55:57,703 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 19:55:57,703 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 19:55:57,703 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 19:55:57,703 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 19:55:57,703 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 19:55:57,703 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 19:55:57,703 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 19:55:57,703 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 19:55:57,704 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 19:55:57,704 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:55:57,704 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 19:55:57,704 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 19:55:57,704 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 19:55:57,705 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 19:55:57,705 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 19:55:57,705 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 19:55:57,705 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 20:13:08,177 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:13:08,178 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 20:13:08,179 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:13:08,180 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 20:13:08,225 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 20:13:08,230 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 20:13:08,230 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 20:13:08,231 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 20:13:08,235 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 20:13:08,235 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 20:13:08,235 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 20:13:08,236 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 20:13:08,236 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 20:13:08,236 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 20:13:08,237 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:13:08,238 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 20:13:08,239 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 20:13:08,239 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 20:13:08,239 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 20:13:10,371 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 20:13:10,448 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 20:13:10,448 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 20:13:10,449 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:13:10,450 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 20:13:10,450 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 20:13:10,460 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:13:10,461 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:13:10,464 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 20:13:11,946 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:13:11,947 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:13:11,956 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 20:13:11,958 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 20:13:11,959 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 20:13:11,961 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 20:13:11,962 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 20:13:11,963 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 20:13:11,965 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 20:13:11,966 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 20:13:11,966 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 20:13:11,966 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 20:13:11,967 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 20:13:11,969 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 20:13:11,970 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 20:13:11,971 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 20:13:11,973 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 20:13:11,973 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 20:13:11,974 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 20:13:11,975 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 20:13:11,977 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 20:13:11,978 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 20:13:11,979 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 20:13:11,980 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 20:13:11,981 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 20:13:11,981 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 20:13:11,981 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 20:13:11,981 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 20:13:11,980 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 20:13:11,983 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 20:13:11,983 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 20:13:11,984 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 20:13:11,986 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 20:13:11,986 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 20:13:11,986 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 20:13:11,987 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 20:13:11,987 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 20:13:11,988 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 20:13:11,988 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 20:13:11,988 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 20:13:11,988 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 20:13:11,989 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 20:13:11,989 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 20:13:11,989 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 20:13:11,989 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:13:11,989 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:13:11,989 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:13:11,990 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 20:13:11,990 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 20:13:11,990 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 20:13:11,990 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 20:13:11,990 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 20:13:11,992 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 20:13:11,992 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 20:13:11,992 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 20:13:11,992 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 20:13:11,992 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 20:13:11,992 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 20:13:11,992 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 20:13:11,992 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 20:13:11,992 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 20:13:11,992 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 20:13:11,992 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 20:13:11,993 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 20:13:11,993 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:13:11,993 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 20:13:11,993 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 20:13:11,993 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 20:13:11,993 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:13:11,994 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:13:11,994 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 20:13:11,994 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 20:13:11,994 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 20:13:11,994 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:13:11,994 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 20:13:11,994 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 20:24:19,137 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:24:19,138 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 20:24:19,139 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:24:19,140 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 20:24:19,186 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 20:24:19,193 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 20:24:19,193 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 20:24:19,194 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 20:24:19,199 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 20:24:19,199 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 20:24:19,199 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 20:24:19,200 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 20:24:19,200 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 20:24:19,201 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:24:19,203 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 20:24:19,203 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 20:24:19,203 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 20:24:19,203 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 20:24:21,466 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 20:24:21,540 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 20:24:21,540 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 20:24:21,541 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:24:21,542 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 20:24:21,542 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 20:24:21,554 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:24:21,555 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:24:21,560 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 20:24:22,005 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:24:22,005 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:24:22,013 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 20:24:22,015 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 20:24:22,016 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 20:24:22,017 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 20:24:22,018 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 20:24:22,019 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 20:24:22,021 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 20:24:22,022 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 20:24:22,022 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 20:24:22,022 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 20:24:22,024 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 20:24:22,025 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 20:24:22,026 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 20:24:22,027 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 20:24:22,029 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 20:24:22,029 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 20:24:22,030 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 20:24:22,031 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 20:24:22,033 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 20:24:22,034 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 20:24:22,035 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 20:24:22,036 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 20:24:22,036 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 20:24:22,036 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 20:24:22,037 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 20:24:22,037 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 20:24:22,036 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 20:24:22,039 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 20:24:22,039 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 20:24:22,040 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 20:24:22,041 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 20:24:22,041 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 20:24:22,041 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 20:24:22,042 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 20:24:22,042 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 20:24:22,042 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 20:24:22,042 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 20:24:22,042 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 20:24:22,042 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 20:24:22,043 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 20:24:22,043 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 20:24:22,043 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 20:24:22,043 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:24:22,043 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:24:22,043 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:24:22,043 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 20:24:22,044 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 20:24:22,044 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 20:24:22,044 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 20:24:22,044 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 20:24:22,045 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 20:24:22,045 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 20:24:22,045 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 20:24:22,045 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 20:24:22,045 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 20:24:22,046 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 20:24:22,046 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 20:24:22,046 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 20:24:22,046 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 20:24:22,046 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 20:24:22,046 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 20:24:22,047 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 20:24:22,047 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:24:22,047 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 20:24:22,047 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 20:24:22,047 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 20:24:22,047 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:24:22,048 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:24:22,048 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 20:24:22,048 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 20:24:35,408 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:24:35,409 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 20:24:35,410 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:24:35,411 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 20:24:35,472 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 20:24:35,477 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 20:24:35,478 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 20:24:35,479 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 20:24:35,483 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 20:24:35,483 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 20:24:35,484 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 20:24:35,484 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 20:24:35,484 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 20:24:35,485 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:24:35,487 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 20:24:35,487 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 20:24:35,487 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 20:24:35,487 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 20:24:37,609 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 20:24:37,683 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 20:24:37,684 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 20:24:37,685 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:24:37,685 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 20:24:37,685 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 20:24:37,695 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:24:37,696 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:24:37,699 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 20:24:38,163 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:24:38,164 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:24:38,171 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 20:24:38,173 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 20:24:38,174 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 20:24:38,175 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 20:24:38,176 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 20:24:38,177 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 20:24:38,179 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 20:24:38,180 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 20:24:38,180 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 20:24:38,180 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 20:24:38,181 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 20:24:38,182 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 20:24:38,183 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 20:24:38,185 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 20:24:38,186 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 20:24:38,187 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 20:24:38,187 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 20:24:38,189 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 20:24:38,190 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 20:24:38,191 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 20:24:38,193 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 20:24:38,194 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 20:24:38,194 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 20:24:38,194 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 20:24:38,194 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 20:24:38,195 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 20:24:38,194 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 20:24:38,196 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 20:24:38,196 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 20:24:38,197 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 20:24:38,198 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 20:24:38,198 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 20:24:38,198 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 20:24:38,198 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 20:24:38,199 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 20:24:38,199 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 20:24:38,199 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 20:24:38,199 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 20:24:38,199 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 20:24:38,199 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 20:24:38,200 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 20:24:38,200 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 20:24:38,200 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:24:38,200 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:24:38,200 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:24:38,200 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 20:24:38,200 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 20:24:38,201 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 20:24:38,201 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 20:24:38,201 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 20:24:38,202 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 20:24:38,202 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 20:24:38,202 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 20:24:38,202 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 20:24:38,202 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 20:24:38,203 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 20:24:38,203 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 20:24:38,203 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 20:24:38,203 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 20:24:38,203 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 20:24:38,203 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 20:24:38,204 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 20:24:38,204 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:24:38,204 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 20:24:38,204 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 20:24:38,204 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 20:24:38,204 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:24:38,204 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:24:38,204 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 20:24:38,204 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 20:24:38,204 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 20:38:23,136 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:38:23,137 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 20:38:23,138 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:38:23,139 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 20:38:23,183 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 20:38:23,188 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 20:38:23,189 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 20:38:23,190 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 20:38:23,194 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 20:38:23,195 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 20:38:23,195 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 20:38:23,198 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 20:38:23,198 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 20:38:23,199 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 20:38:23,199 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 20:38:23,199 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 20:38:23,199 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 20:38:23,199 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 20:38:23,199 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 20:38:23,199 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 20:38:23,199 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 20:38:23,199 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 20:38:23,199 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 20:38:23,199 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 20:38:23,199 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 20:38:23,199 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 20:38:23,199 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 20:38:23,199 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 20:38:23,200 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 20:38:23,200 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 20:38:23,200 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 20:38:23,200 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 20:38:23,200 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 20:38:23,200 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 20:38:23,200 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 20:38:23,200 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 20:38:23,200 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 20:38:23,200 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 20:38:23,200 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 20:38:23,200 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 20:38:23,200 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:38:23,200 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 20:38:23,200 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:38:23,201 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 20:38:23,207 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 20:38:23,207 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 20:38:23,207 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 20:38:25,385 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 20:38:25,463 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 20:38:25,463 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 20:38:25,465 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:38:25,465 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 20:38:25,465 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 20:38:25,475 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:38:25,477 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:38:25,480 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 20:38:25,928 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:38:25,931 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:38:25,940 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 20:38:25,942 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 20:38:25,946 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 20:38:25,950 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 20:38:25,952 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 20:38:25,953 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 20:38:25,959 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 20:38:25,962 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 20:38:25,963 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 20:38:25,963 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 20:38:25,965 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 20:38:25,966 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 20:38:25,967 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 20:38:25,968 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 20:38:25,975 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 20:38:25,975 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 20:38:25,976 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 20:38:25,978 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 20:38:25,979 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 20:38:25,981 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 20:38:25,986 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 20:38:25,990 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 20:38:25,990 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 20:38:25,990 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 20:38:25,990 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 20:38:25,990 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 20:38:25,990 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 20:38:25,999 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 20:38:26,000 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 20:38:26,001 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 20:38:26,003 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 20:38:26,003 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 20:38:26,003 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 20:38:26,006 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 20:38:26,007 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 20:38:26,007 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 20:38:26,012 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 20:38:26,012 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 20:38:26,017 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 20:38:26,017 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 20:38:26,017 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 20:38:26,018 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 20:38:26,022 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:38:26,022 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:38:26,022 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:38:26,022 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 20:38:26,031 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 20:38:26,036 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 20:38:26,036 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 20:38:26,036 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 20:38:26,038 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 20:38:26,038 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 20:38:26,038 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 20:38:26,038 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 20:38:26,038 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 20:38:26,039 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 20:38:26,039 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 20:38:26,039 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 20:38:26,039 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 20:38:26,039 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 20:38:26,039 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 20:38:26,040 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 20:38:26,040 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:38:26,040 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 20:38:26,040 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 20:38:26,040 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 20:38:26,040 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:38:26,040 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:38:26,040 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 20:38:26,040 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 20:38:26,040 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 20:38:26,040 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:38:26,040 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 20:38:26,040 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 20:38:26,040 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:38:26,040 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-25 20:38:26,041 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-25 20:38:26,041 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:40:28,023 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:40:28,024 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 20:40:28,025 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:40:28,026 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 20:40:28,071 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 20:40:28,076 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 20:40:28,077 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 20:40:28,077 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 20:40:28,082 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 20:40:28,082 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 20:40:28,082 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 20:40:28,083 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 20:40:28,083 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 20:40:28,083 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 20:40:28,083 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 20:40:28,083 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 20:40:28,083 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 20:40:28,083 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 20:40:28,083 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 20:40:28,083 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 20:40:28,083 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 20:40:28,083 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 20:40:28,084 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:40:28,085 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 20:40:28,085 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 20:40:28,085 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 20:40:28,085 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 20:40:30,231 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 20:40:30,304 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 20:40:30,305 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 20:40:30,306 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:40:30,306 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 20:40:30,306 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 20:40:30,316 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:40:30,317 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:40:30,321 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 20:40:30,763 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:40:30,764 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:40:30,772 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 20:40:30,773 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 20:40:30,774 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 20:40:30,776 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 20:40:30,778 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 20:40:30,778 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 20:40:30,780 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 20:40:30,781 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 20:40:30,781 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 20:40:30,781 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 20:40:30,782 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 20:40:30,784 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 20:40:30,785 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 20:40:30,786 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 20:40:30,788 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 20:40:30,788 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 20:40:30,788 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 20:40:30,790 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 20:40:30,791 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 20:40:30,792 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 20:40:30,794 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 20:40:30,795 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 20:40:30,795 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 20:40:30,795 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 20:40:30,795 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 20:40:30,795 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 20:40:30,795 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 20:40:30,797 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 20:40:30,797 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 20:40:30,798 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 20:40:30,799 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 20:40:30,799 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 20:40:30,800 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 20:40:30,800 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 20:40:30,800 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 20:40:30,800 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 20:40:30,800 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 20:40:30,800 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 20:40:30,801 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 20:40:30,801 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 20:40:30,801 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 20:40:30,801 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 20:40:30,801 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:40:30,801 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:40:30,802 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:40:30,802 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 20:40:30,802 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 20:40:30,802 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 20:40:30,803 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 20:40:30,803 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 20:40:30,804 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 20:40:30,804 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 20:40:30,804 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 20:40:30,804 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 20:40:30,804 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 20:40:30,805 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 20:40:30,805 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 20:40:30,805 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 20:40:30,805 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 20:40:30,805 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 20:40:30,805 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 20:40:30,806 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 20:40:30,806 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:40:30,806 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 20:40:30,806 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 20:40:30,806 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 20:40:30,806 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:40:30,806 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:40:30,806 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 20:40:30,806 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 20:40:30,806 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 20:40:30,806 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:40:30,806 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 20:40:30,806 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 20:40:30,806 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:41:29,735 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:41:29,736 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 20:41:29,737 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:41:29,738 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 20:41:29,784 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 20:41:29,789 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 20:41:29,790 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 20:41:29,791 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 20:41:29,794 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 20:41:29,795 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 20:41:29,795 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 20:41:29,795 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 20:41:29,796 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 20:41:29,796 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 20:41:29,796 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 20:41:29,796 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 20:41:29,796 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 20:41:29,796 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 20:41:29,796 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 20:41:29,796 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 20:41:29,796 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 20:41:29,796 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 20:41:29,796 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 20:41:29,796 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 20:41:29,796 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 20:41:29,796 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 20:41:29,797 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:41:29,798 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 20:41:29,798 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 20:41:29,798 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 20:41:29,798 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 20:41:32,038 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 20:41:32,111 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 20:41:32,112 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 20:41:32,113 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:41:32,113 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 20:41:32,113 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 20:41:32,124 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:41:32,125 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:41:32,128 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 20:41:32,653 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:41:32,654 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:59:50,254 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:59:50,262 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 20:59:50,270 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:59:50,271 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 20:59:50,355 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 20:59:50,361 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 20:59:50,362 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 20:59:50,362 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 20:59:50,367 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 20:59:50,367 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 20:59:50,367 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 20:59:50,368 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 20:59:50,368 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 20:59:50,368 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 20:59:50,368 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 20:59:50,369 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:59:50,371 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 20:59:50,371 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 20:59:50,371 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 20:59:50,371 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 20:59:53,411 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 20:59:53,544 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 20:59:53,545 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 20:59:53,546 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:59:53,546 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 20:59:53,546 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 20:59:53,561 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:59:53,562 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:59:53,565 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 20:59:54,021 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:59:54,021 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:59:54,028 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 20:59:54,030 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 20:59:54,031 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 20:59:54,032 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 20:59:54,033 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 20:59:54,034 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 20:59:54,036 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 20:59:54,036 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 20:59:54,037 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 20:59:54,037 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 20:59:54,038 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 20:59:54,039 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 20:59:54,040 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 20:59:54,041 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 20:59:54,043 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 20:59:54,044 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 20:59:54,044 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 20:59:54,046 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 20:59:54,047 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 20:59:54,048 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 20:59:54,049 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 20:59:54,051 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 20:59:54,051 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 20:59:54,051 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 20:59:54,051 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 20:59:54,051 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 20:59:54,051 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 20:59:54,053 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 20:59:54,053 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 20:59:54,054 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 20:59:54,055 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 20:59:54,055 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 20:59:54,055 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 20:59:54,055 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 20:59:54,056 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 20:59:54,056 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 20:59:54,056 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 20:59:54,056 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 20:59:54,056 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 20:59:54,056 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 20:59:54,056 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 20:59:54,057 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 20:59:54,057 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:59:54,057 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:59:54,057 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:59:54,057 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 20:59:54,057 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 20:59:54,058 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 20:59:54,058 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 20:59:54,058 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 20:59:54,059 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 20:59:54,059 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 20:59:54,059 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 20:59:54,059 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 20:59:54,059 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 20:59:54,060 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 20:59:54,060 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 20:59:54,060 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 20:59:54,060 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 20:59:54,060 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 20:59:54,060 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 20:59:54,061 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 20:59:54,061 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:59:54,061 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 20:59:54,061 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 20:59:54,061 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 20:59:54,061 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:59:54,061 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:59:54,061 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 20:59:54,061 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 20:59:54,061 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 20:59:54,061 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:59:54,061 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 20:59:54,061 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 20:59:54,061 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:59:54,062 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-25 20:59:54,062 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-25 20:59:54,062 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:59:54,062 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:59:54,062 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-25 20:59:54,062 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-25 20:59:54,062 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter wenxin has no API key configured, skipping warm-up
2026-02-25 20:59:54,062 - wechat_backend.api - INFO - app.py:253 - warm_up_adapters() - Adapter warm-up completed
2026-02-25 20:59:54,307 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:59:54,308 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 20:59:54,310 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 20:59:54,311 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 20:59:54,351 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 20:59:54,354 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 20:59:54,354 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 20:59:54,354 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 20:59:54,356 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 20:59:54,356 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 20:59:54,357 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 20:59:54,357 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 20:59:54,357 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 20:59:54,357 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 20:59:54,357 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 20:59:54,357 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 20:59:54,357 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 20:59:54,357 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 20:59:54,357 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 20:59:54,357 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 20:59:54,358 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 20:59:54,359 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 20:59:54,359 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 20:59:54,359 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 20:59:54,359 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 20:59:56,244 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 20:59:56,294 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 20:59:56,295 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 20:59:56,295 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:59:56,296 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 20:59:56,296 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 20:59:56,303 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:59:56,305 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:59:56,308 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 20:59:56,747 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 20:59:56,748 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 20:59:56,754 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 20:59:56,755 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 20:59:56,755 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 20:59:56,756 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 20:59:56,757 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 20:59:56,758 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 20:59:56,759 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 20:59:56,760 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 20:59:56,760 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 20:59:56,760 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 20:59:56,761 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 20:59:56,762 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 20:59:56,763 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 20:59:56,764 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 20:59:56,765 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 20:59:56,765 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 20:59:56,766 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 20:59:56,767 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 20:59:56,768 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 20:59:56,769 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 20:59:56,770 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 20:59:56,771 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 20:59:56,771 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 20:59:56,771 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 20:59:56,771 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 20:59:56,771 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 20:59:56,771 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 20:59:56,773 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 20:59:56,773 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 20:59:56,774 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 20:59:56,774 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 20:59:56,775 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 20:59:56,775 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 20:59:56,775 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 20:59:56,775 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 20:59:56,775 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 20:59:56,776 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 20:59:56,776 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 20:59:56,776 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 20:59:56,776 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 20:59:56,776 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 20:59:56,776 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 20:59:56,776 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:59:56,777 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:59:56,777 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 20:59:56,777 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 20:59:56,777 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 20:59:56,777 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 20:59:56,778 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 20:59:56,778 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 20:59:56,778 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 20:59:56,778 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 20:59:56,778 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 20:59:56,778 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 20:59:56,778 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 20:59:56,779 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 20:59:56,779 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 20:59:56,779 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 20:59:56,779 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 20:59:56,779 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 20:59:56,779 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 20:59:56,780 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 20:59:56,780 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:59:56,780 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 20:59:56,780 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 20:59:56,780 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 20:59:56,780 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 20:59:56,780 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 20:59:56,780 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 20:59:56,780 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 21:33:03,112 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 21:33:03,115 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 21:33:03,119 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 21:33:03,120 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 21:33:03,183 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 21:33:03,188 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 21:33:03,189 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 21:33:03,190 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 21:33:03,195 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 21:33:03,196 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 21:33:03,196 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 21:33:03,196 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 21:33:03,197 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 21:33:03,197 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 21:33:03,197 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 21:33:03,197 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 21:33:03,197 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 21:33:03,197 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 21:33:03,197 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 21:33:03,197 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 21:33:03,197 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 21:33:03,197 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 21:33:03,197 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 21:33:03,197 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 21:33:03,198 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 21:33:03,199 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 21:33:03,199 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 21:33:03,199 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 21:33:03,199 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 21:33:05,282 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 21:33:05,357 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 21:33:05,358 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 21:33:05,359 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 21:33:05,359 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 21:33:05,360 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 21:33:05,370 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 21:33:05,371 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 21:33:05,374 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 21:33:05,815 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 21:33:05,815 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 21:33:05,822 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 21:33:05,823 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 21:33:05,824 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 21:33:05,825 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 21:33:05,827 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 21:33:05,827 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 21:33:05,829 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 21:33:05,829 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 21:33:05,830 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 21:33:05,830 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 21:33:05,831 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 21:33:05,832 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 21:33:05,833 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 21:33:05,834 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 21:33:05,835 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 21:33:05,835 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 21:33:05,836 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 21:33:05,837 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 21:33:05,838 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 21:33:05,839 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 21:33:05,840 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 21:33:05,841 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 21:33:05,841 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 21:33:05,841 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 21:33:05,841 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 21:33:05,841 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 21:33:05,841 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 21:33:05,843 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 21:33:05,843 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 21:33:05,843 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 21:33:05,844 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 21:33:05,845 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 21:33:05,845 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 21:33:05,845 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 21:33:05,845 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 21:33:05,845 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 21:33:05,845 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 21:33:05,846 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 21:33:05,846 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 21:33:05,846 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 21:33:05,846 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 21:33:05,846 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 21:33:05,846 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 21:33:05,847 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 21:33:05,847 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 21:33:05,847 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 21:33:05,847 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 21:33:05,847 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 21:33:05,847 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 21:33:05,847 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 21:33:05,848 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 21:33:05,849 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 21:33:05,849 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 21:33:05,849 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 21:33:05,849 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 21:33:05,849 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 21:33:05,849 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 21:33:05,849 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 21:33:05,849 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 21:33:05,849 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 21:33:05,849 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 21:33:05,850 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 21:33:05,850 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 21:33:05,850 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 21:33:05,850 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 21:33:05,850 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 21:33:05,850 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 21:33:05,850 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 21:33:05,850 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 21:33:05,850 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 21:33:05,850 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 21:33:05,850 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 21:33:05,850 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 21:33:05,850 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 21:33:05,850 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 21:33:05,850 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-25 21:33:05,850 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter gemini created successfully (no health check method)
2026-02-25 21:33:05,850 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 21:33:05,850 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'zhipu_test-zhipu' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 21:33:05,850 - wechat_backend.api - INFO - zhipu_adapter.py:35 - __init__() - ZhipuAdapter initialized for model: test-zhipu with unified request wrapper and circuit breaker
2026-02-25 21:33:05,850 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter zhipu created successfully (no health check method)
2026-02-25 21:33:05,850 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter wenxin has no API key configured, skipping warm-up
2026-02-25 21:33:05,850 - wechat_backend.api - INFO - app.py:253 - warm_up_adapters() - Adapter warm-up completed
2026-02-25 21:33:06,049 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 21:33:06,050 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 21:33:06,050 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 21:33:06,051 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 21:33:06,077 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 21:33:06,080 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 21:33:06,080 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 21:33:06,080 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 21:33:06,083 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 21:33:06,083 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 21:33:06,083 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 21:33:06,083 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 21:33:06,083 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 21:33:06,083 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 21:33:06,083 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 21:33:06,083 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 21:33:06,083 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 21:33:06,083 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 21:33:06,083 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 21:33:06,083 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 21:33:06,084 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 21:33:08,251 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 21:33:08,305 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 21:33:08,305 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 21:33:08,306 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 21:33:08,306 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 21:33:08,306 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 21:33:08,314 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 21:33:08,315 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 21:33:08,318 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 21:33:08,762 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 21:33:08,763 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 21:33:08,768 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 21:33:08,769 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 21:33:08,770 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 21:33:08,771 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 21:33:08,772 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 21:33:08,772 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 21:33:08,774 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 21:33:08,774 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 21:33:08,775 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 21:33:08,775 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 21:33:08,776 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 21:33:08,777 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 21:33:08,778 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 21:33:08,779 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 21:33:08,779 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 21:33:08,779 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 21:33:08,780 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 21:33:08,781 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 21:33:08,782 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 21:33:08,782 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 21:33:08,783 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 21:33:08,784 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 21:33:08,784 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 21:33:08,784 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 21:33:08,785 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 21:33:08,785 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 21:33:08,785 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 21:33:08,786 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 21:33:08,786 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 21:33:08,787 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 21:33:08,788 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 21:33:08,788 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 21:33:08,788 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 21:33:08,789 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 21:33:08,789 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 21:33:08,789 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 21:33:08,789 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 21:33:08,790 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 21:33:08,790 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 21:33:08,790 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 21:33:08,790 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 21:33:08,791 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 21:33:08,791 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 21:33:08,791 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 21:33:08,791 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 21:33:08,791 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 21:33:08,791 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 21:33:08,792 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 21:33:08,792 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 21:33:08,792 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 21:33:08,793 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 21:33:08,793 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 21:33:08,793 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 21:33:08,793 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 21:33:08,793 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 21:33:08,793 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 21:33:08,793 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 21:33:08,793 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 21:33:08,793 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 21:33:08,793 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 21:33:08,793 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 21:33:08,794 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 21:33:08,794 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 21:33:08,794 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 21:33:08,794 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 21:33:08,794 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 21:33:08,794 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 21:48:17,266 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 21:48:17,272 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 21:48:17,273 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 21:48:17,274 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 21:48:17,342 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 21:48:17,349 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 21:48:17,349 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 21:48:17,350 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 21:48:17,355 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 21:48:17,355 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 21:48:17,356 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 21:48:17,356 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 21:48:17,356 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 21:48:17,357 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 21:48:17,359 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 21:48:17,359 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 21:48:17,359 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 21:48:17,359 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 21:48:19,588 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 21:48:19,669 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 21:48:19,670 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 21:48:19,671 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 21:48:19,671 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 21:48:19,671 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 21:48:19,683 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 21:48:19,684 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 21:48:19,687 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 21:48:20,132 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 21:48:20,133 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 21:48:20,140 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 21:48:20,141 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 21:48:20,142 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 21:48:20,143 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 21:48:20,145 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 21:48:20,145 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 21:48:20,148 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 21:48:20,148 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 21:48:20,149 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 21:48:20,149 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 21:48:20,150 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 21:48:20,152 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 21:48:20,152 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 21:48:20,154 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 21:48:20,155 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 21:48:20,155 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 21:48:20,156 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 21:48:20,157 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 21:48:20,159 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 21:48:20,159 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 21:48:20,161 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 21:48:20,162 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 21:48:20,162 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 21:48:20,162 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 21:48:20,162 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 21:48:20,162 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 21:48:20,162 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 21:48:20,164 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 21:48:20,164 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 21:48:20,164 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 21:48:20,165 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 21:48:20,165 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 21:48:20,166 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 21:48:20,166 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 21:48:20,166 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 21:48:20,167 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 21:48:20,167 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 21:48:20,167 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 21:48:20,167 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 21:48:20,167 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 21:48:20,167 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 21:48:20,168 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 21:48:20,168 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 21:48:20,168 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 21:48:20,168 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 21:48:20,168 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 21:48:20,169 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 21:48:20,169 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 21:48:20,169 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 21:48:20,169 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 21:48:20,170 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 21:48:20,170 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 21:48:20,170 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 21:48:20,170 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 21:48:20,170 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 21:48:20,171 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 21:48:20,171 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 21:48:20,171 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 21:48:20,171 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 21:48:20,171 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 21:48:20,171 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 21:48:20,171 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 21:48:20,171 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 21:48:20,172 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 21:48:20,172 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 21:48:20,172 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 21:48:20,172 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 21:48:20,172 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 21:48:20,172 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 21:48:20,172 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 21:48:20,172 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 21:48:20,172 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 21:48:20,172 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 21:48:20,172 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 21:48:20,172 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 21:48:20,172 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-25 21:48:20,366 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 21:48:20,367 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 21:48:20,367 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 21:48:20,368 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 21:48:20,396 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 21:48:20,399 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 21:48:20,399 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 21:48:20,400 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 21:48:20,402 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 21:48:20,402 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 21:48:20,402 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 21:48:20,402 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 21:48:20,403 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 21:48:20,404 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 21:48:20,404 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 21:48:20,404 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 21:48:20,404 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 21:48:20,404 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 21:48:20,404 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 21:48:20,404 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 21:48:20,404 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 21:48:20,404 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 21:48:20,404 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 21:48:20,404 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 21:48:22,309 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 21:48:22,357 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 21:48:22,358 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 21:48:22,359 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 21:48:22,359 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 21:48:22,359 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 21:48:22,366 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 21:48:22,367 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 21:48:22,371 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 21:48:22,808 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 21:48:22,808 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 21:48:22,813 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 21:48:22,814 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 21:48:22,815 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 21:48:22,816 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 21:48:22,817 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 21:48:22,817 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 21:48:22,819 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 21:48:22,819 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 21:48:22,820 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 21:48:22,820 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 21:48:22,821 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 21:48:22,822 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 21:48:22,823 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 21:48:22,823 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 21:48:22,824 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 21:48:22,824 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 21:48:22,825 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 21:48:22,826 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 21:48:22,827 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 21:48:22,827 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 21:48:22,828 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 21:48:22,829 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 21:48:22,829 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 21:48:22,829 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 21:48:22,829 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 21:48:22,829 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 21:48:22,829 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 21:48:22,831 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 21:48:22,831 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 21:48:22,832 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 21:48:22,833 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 21:48:22,833 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 21:48:22,833 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 21:48:22,833 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 21:48:22,833 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 21:48:22,834 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 21:48:22,834 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 21:48:22,834 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 21:48:22,834 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 21:48:22,834 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 21:48:22,834 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 21:48:22,834 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 21:48:22,835 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 21:48:22,835 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 21:48:22,835 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 21:48:22,835 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 21:48:22,835 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 21:48:22,835 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 21:48:22,836 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 21:48:22,836 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 21:48:22,836 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 21:48:22,836 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 21:48:22,836 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 21:48:22,836 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 21:48:22,836 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 21:48:22,836 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 21:48:22,836 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 21:48:22,836 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 21:48:22,837 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 21:48:22,837 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 21:48:22,837 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 21:48:22,837 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 21:48:22,837 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 21:48:22,838 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 21:48:22,838 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 22:04:38,155 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:04:38,156 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 22:04:38,157 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:04:38,158 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 22:04:38,228 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 22:04:38,234 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 22:04:38,234 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 22:04:38,235 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 22:04:38,243 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 22:04:38,243 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 22:04:38,244 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 22:04:38,244 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 22:04:38,245 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 22:04:38,245 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 22:04:38,245 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 22:04:38,245 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 22:04:38,245 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 22:04:38,245 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 22:04:38,245 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 22:04:38,245 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 22:04:38,245 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 22:04:38,245 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 22:04:38,245 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 22:04:38,246 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:04:38,247 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 22:04:38,247 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 22:04:38,247 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 22:04:38,247 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 22:04:40,575 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 22:04:40,660 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 22:04:40,660 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 22:04:40,662 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:04:40,662 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 22:04:40,662 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 22:04:40,673 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:04:40,675 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:04:40,678 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 22:04:41,135 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:04:41,136 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:04:41,143 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 22:04:41,145 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 22:04:41,146 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 22:04:41,148 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 22:04:41,149 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 22:04:41,149 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 22:04:41,152 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 22:04:41,152 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 22:04:41,153 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 22:04:41,153 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 22:04:41,154 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 22:04:41,155 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 22:04:41,156 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 22:04:41,158 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 22:04:41,160 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 22:04:41,160 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 22:04:41,161 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 22:04:41,162 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 22:04:41,163 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 22:04:41,164 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:04:41,166 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:04:41,167 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 22:04:41,167 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 22:04:41,167 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 22:04:41,167 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 22:04:41,167 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 22:04:41,167 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 22:04:41,170 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 22:04:41,170 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 22:04:41,171 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 22:04:41,213 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 22:04:41,214 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 22:04:41,214 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 22:04:41,214 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 22:04:41,214 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 22:04:41,215 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 22:04:41,215 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 22:04:41,215 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 22:04:41,216 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 22:04:41,216 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 22:04:41,216 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 22:04:41,216 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 22:04:41,217 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:04:41,217 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:04:41,217 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:04:41,217 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 22:04:41,217 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 22:04:41,217 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:04:41,218 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:04:41,218 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 22:04:41,219 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 22:04:41,219 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 22:04:41,219 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 22:04:41,219 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 22:04:41,220 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 22:04:41,220 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 22:04:41,220 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 22:04:41,220 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 22:04:41,220 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 22:04:41,220 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 22:04:41,220 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 22:04:41,221 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 22:04:41,221 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:04:41,221 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 22:04:41,221 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 22:04:41,221 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 22:04:41,221 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:04:41,222 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:04:41,222 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 22:04:41,222 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 22:05:25,431 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:05:25,433 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 22:05:25,434 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:05:25,434 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 22:05:25,475 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 22:05:25,480 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 22:05:25,481 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 22:05:25,482 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 22:05:25,485 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 22:05:25,488 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 22:05:25,488 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 22:05:25,488 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 22:05:25,488 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 22:05:25,489 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:05:25,491 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 22:05:25,491 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 22:05:25,491 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 22:05:25,491 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 22:05:27,618 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 22:05:27,696 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 22:05:27,697 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 22:05:27,698 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:05:27,698 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 22:05:27,699 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 22:05:27,709 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:05:27,710 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:05:27,714 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 22:05:28,168 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:05:28,169 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:05:28,178 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 22:05:28,180 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 22:05:28,181 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 22:05:28,182 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 22:05:28,183 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 22:05:28,184 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 22:05:28,186 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 22:05:28,187 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 22:05:28,187 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 22:05:28,187 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 22:05:28,188 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 22:05:28,190 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 22:05:28,190 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 22:05:28,192 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 22:05:28,194 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 22:05:28,194 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 22:05:28,195 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 22:05:28,196 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 22:05:28,198 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 22:05:28,199 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:05:28,200 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:05:28,202 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 22:05:28,202 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 22:05:28,202 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 22:05:28,202 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 22:05:28,202 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 22:05:28,202 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 22:05:28,205 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 22:05:28,205 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 22:05:28,206 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 22:05:28,206 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 22:05:28,207 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 22:05:28,207 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 22:05:28,207 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 22:05:28,207 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 22:05:28,207 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 22:05:28,208 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 22:05:28,208 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 22:05:28,208 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 22:05:28,208 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 22:05:28,208 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 22:05:28,208 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 22:05:28,209 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:05:28,209 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:05:28,209 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:05:28,209 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 22:05:28,209 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 22:05:28,209 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:05:28,210 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:05:28,210 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 22:05:28,211 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 22:05:28,211 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 22:05:28,211 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 22:05:28,211 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 22:05:28,211 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 22:05:28,211 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 22:05:28,211 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 22:05:28,211 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 22:05:28,211 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 22:05:28,212 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 22:05:28,212 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 22:05:28,212 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 22:05:28,213 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:05:28,213 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 22:05:28,213 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 22:05:28,213 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 22:05:28,213 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:05:28,213 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:05:45,438 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:05:45,440 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 22:05:45,441 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:05:45,441 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 22:05:45,487 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 22:05:45,492 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 22:05:45,493 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 22:05:45,494 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 22:05:45,497 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 22:05:45,498 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 22:05:45,498 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 22:05:45,498 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 22:05:45,499 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 22:05:45,500 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 22:05:45,500 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 22:05:45,500 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 22:05:45,500 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 22:05:45,500 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 22:05:45,500 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 22:05:45,500 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 22:05:45,500 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 22:05:45,500 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 22:05:45,500 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:05:45,500 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 22:05:45,500 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:05:45,501 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 22:05:45,501 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 22:05:45,501 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 22:05:45,501 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 22:05:47,700 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 22:05:47,778 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 22:05:47,778 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 22:05:47,780 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:05:47,780 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 22:05:47,780 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 22:05:47,789 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:05:47,791 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:05:47,794 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 22:05:48,234 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:05:48,235 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:05:48,242 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 22:05:48,244 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 22:05:48,245 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 22:05:48,246 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 22:05:48,248 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 22:05:48,248 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 22:05:48,250 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 22:05:48,251 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 22:05:48,252 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 22:05:48,252 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 22:05:48,253 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 22:05:48,254 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 22:05:48,255 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 22:05:48,256 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 22:05:48,258 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 22:05:48,258 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 22:05:48,259 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 22:05:48,260 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 22:05:48,262 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 22:05:48,263 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:05:48,264 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:05:48,266 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 22:05:48,266 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 22:05:48,266 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 22:05:48,266 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 22:05:48,266 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 22:05:48,266 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 22:05:48,268 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 22:05:48,268 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 22:05:48,269 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 22:05:48,270 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 22:05:48,270 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 22:05:48,270 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 22:05:48,271 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 22:05:48,271 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 22:05:48,271 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 22:05:48,271 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 22:05:48,272 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 22:05:48,272 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 22:05:48,272 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 22:05:48,272 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 22:05:48,272 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 22:05:48,272 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:05:48,273 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:05:48,273 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:05:48,273 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 22:05:48,273 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 22:05:48,273 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:05:48,273 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:05:48,273 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 22:05:48,274 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 22:05:48,275 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 22:05:48,275 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 22:05:48,275 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 22:05:48,275 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 22:05:48,275 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 22:05:48,275 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 22:05:48,275 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 22:05:48,275 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 22:05:48,275 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 22:05:48,275 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 22:05:48,276 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 22:05:48,276 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:05:48,276 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 22:05:48,276 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 22:05:48,276 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 22:05:48,276 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:05:48,276 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:05:48,277 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 22:05:48,277 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 22:05:48,277 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 22:05:48,277 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:05:52,755 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:05:52,757 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 22:05:52,757 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:05:52,758 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 22:05:52,804 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 22:05:52,810 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 22:05:52,811 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 22:05:52,811 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 22:05:52,816 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 22:05:52,816 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 22:05:52,816 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 22:05:52,817 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 22:05:52,817 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 22:05:52,818 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:05:52,820 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 22:05:52,820 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 22:05:52,820 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 22:05:52,820 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 22:05:54,942 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 22:05:55,016 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 22:05:55,017 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 22:05:55,018 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:05:55,018 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 22:05:55,018 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 22:05:55,029 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:05:55,031 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:05:55,034 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 22:05:55,480 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:05:55,480 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:05:55,488 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 22:05:55,489 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 22:05:55,490 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 22:05:55,492 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 22:05:55,493 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 22:05:55,493 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 22:05:55,495 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 22:05:55,496 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 22:05:55,497 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 22:05:55,497 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 22:05:55,498 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 22:05:55,499 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 22:05:55,500 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 22:05:55,501 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 22:05:55,503 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 22:05:55,503 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 22:05:55,504 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 22:05:55,506 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 22:05:55,507 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 22:05:55,508 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:05:55,509 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:05:55,510 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 22:05:55,510 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 22:05:55,511 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 22:05:55,510 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 22:05:55,511 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 22:05:55,511 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 22:05:55,513 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 22:05:55,513 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 22:05:55,514 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 22:05:55,514 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 22:05:55,515 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 22:05:55,515 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 22:05:55,515 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 22:05:55,515 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 22:05:55,515 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 22:05:55,516 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 22:05:55,516 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 22:05:55,516 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 22:05:55,516 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 22:05:55,516 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 22:05:55,516 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 22:05:55,517 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:05:55,517 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:05:55,517 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:05:55,517 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 22:05:55,517 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 22:05:55,517 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:05:55,518 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:05:55,518 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 22:05:55,519 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 22:05:55,519 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 22:05:55,519 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 22:05:55,519 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 22:05:55,519 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 22:05:55,520 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 22:05:55,520 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 22:05:55,520 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 22:05:55,520 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 22:05:55,520 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 22:05:55,520 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 22:05:55,521 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 22:05:55,521 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:05:55,521 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 22:05:55,521 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 22:05:55,521 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 22:05:55,521 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:06:02,437 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:06:02,439 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 22:06:02,440 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:06:02,441 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 22:06:02,482 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 22:06:02,487 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 22:06:02,488 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 22:06:02,488 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 22:06:02,492 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 22:06:02,492 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 22:06:02,493 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 22:06:02,493 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 22:06:02,493 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 22:06:02,493 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 22:06:02,493 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 22:06:02,493 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 22:06:02,494 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:06:02,495 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 22:06:02,495 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 22:06:02,495 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 22:06:02,495 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 22:06:04,565 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 22:06:04,637 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 22:06:04,638 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 22:06:04,639 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:06:04,639 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 22:06:04,640 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 22:06:04,650 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:06:04,651 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:06:04,654 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 22:06:05,088 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:06:05,089 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:06:05,095 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 22:06:05,097 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 22:06:05,098 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 22:06:05,100 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 22:06:05,101 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 22:06:05,101 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 22:06:05,103 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 22:06:05,104 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 22:06:05,104 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 22:06:05,104 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 22:06:05,105 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 22:06:05,106 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 22:06:05,107 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 22:06:05,109 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 22:06:05,110 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 22:06:05,110 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 22:06:05,111 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 22:06:05,112 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 22:06:05,113 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 22:06:05,114 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:06:05,116 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:06:05,117 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 22:06:05,117 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 22:06:05,117 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 22:06:05,117 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 22:06:05,117 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 22:06:05,117 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 22:06:05,119 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 22:06:05,119 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 22:06:05,119 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 22:06:05,120 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 22:06:05,121 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 22:06:05,121 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 22:06:05,121 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 22:06:05,121 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 22:06:05,121 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 22:06:05,122 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 22:06:05,122 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 22:06:05,122 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 22:06:05,122 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 22:06:05,122 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 22:06:05,122 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 22:06:05,122 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:06:05,123 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:06:05,123 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:06:05,123 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 22:06:05,123 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 22:06:05,123 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:06:05,123 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:06:05,123 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 22:06:05,125 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 22:06:05,125 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 22:06:05,125 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 22:06:05,125 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 22:06:05,125 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 22:06:05,125 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 22:06:05,126 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 22:06:05,126 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 22:06:05,126 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 22:06:05,126 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 22:06:05,126 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 22:06:05,126 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 22:06:05,127 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:06:05,127 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 22:06:05,127 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 22:06:05,127 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 22:06:05,127 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:06:05,127 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:06:36,182 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:06:36,184 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 22:06:36,184 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:06:36,185 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 22:06:36,229 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 22:06:36,234 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 22:06:36,235 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 22:06:36,236 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 22:06:36,239 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 22:06:36,241 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 22:06:36,241 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 22:06:36,242 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 22:06:36,242 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 22:06:36,242 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 22:06:36,242 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 22:06:36,242 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 22:06:36,243 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:06:36,244 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 22:06:36,244 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 22:06:36,244 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 22:06:36,244 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 22:06:38,359 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 22:06:38,432 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 22:06:38,433 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 22:06:38,434 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:06:38,434 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 22:06:38,434 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 22:06:38,444 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:06:38,446 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:06:38,449 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 22:06:38,894 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:06:38,895 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:06:38,902 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 22:06:38,903 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 22:06:38,904 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 22:06:38,906 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 22:06:38,907 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 22:06:38,908 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 22:06:38,909 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 22:06:38,910 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 22:06:38,911 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 22:06:38,911 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 22:06:38,912 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 22:06:38,913 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 22:06:38,914 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 22:06:38,915 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 22:06:38,917 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 22:06:38,917 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 22:06:38,918 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 22:06:38,919 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 22:06:38,921 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 22:06:38,922 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:06:38,923 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:06:38,924 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 22:06:38,924 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 22:06:38,924 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 22:06:38,925 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 22:06:38,925 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 22:06:38,925 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 22:06:38,926 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 22:06:38,926 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 22:06:38,927 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 22:06:38,928 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 22:06:38,928 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 22:06:38,928 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 22:06:38,929 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 22:06:38,929 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 22:06:38,929 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 22:06:38,929 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 22:06:38,929 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 22:06:38,929 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 22:06:38,930 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 22:06:38,930 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 22:06:38,930 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 22:06:38,930 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:06:38,930 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:06:38,930 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:06:38,930 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 22:06:38,931 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 22:06:38,931 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:06:38,931 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:06:38,931 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 22:06:38,932 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 22:06:38,932 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 22:06:38,932 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 22:06:38,932 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 22:06:38,932 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 22:06:38,933 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 22:06:38,933 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 22:06:38,933 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 22:06:38,933 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 22:06:38,933 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 22:06:38,933 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 22:06:38,934 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 22:06:38,934 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:06:38,934 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 22:06:38,934 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 22:06:38,934 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 22:06:38,934 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:06:38,934 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:06:38,934 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 22:06:38,934 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 22:06:38,934 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 22:06:38,934 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:06:38,934 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 22:06:38,934 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter chatgpt created successfully (no health check method)
2026-02-25 22:06:38,934 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:06:38,934 - wechat_backend.api - INFO - gemini_adapter.py:31 - __init__() - GeminiAdapter initialized for model: test-gemini using REST API with unified request wrapper
2026-02-25 22:07:06,810 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:07:06,812 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 22:07:06,812 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:07:06,813 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 22:07:06,855 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 22:07:06,861 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 22:07:06,863 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 22:07:06,864 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 22:07:06,868 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 22:07:06,868 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 22:07:06,868 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 22:07:06,869 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 22:07:06,869 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 22:07:06,869 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 22:07:06,870 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:07:06,872 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 22:07:06,872 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 22:07:06,872 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 22:07:06,872 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 22:07:08,976 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 22:07:09,047 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 22:07:09,048 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 22:07:09,049 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:07:09,049 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 22:07:09,049 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 22:07:09,059 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:07:09,060 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:07:09,063 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 22:07:09,506 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:07:09,507 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:07:09,515 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 22:07:09,516 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 22:07:09,518 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 22:07:09,519 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 22:07:09,520 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 22:07:09,521 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 22:07:09,523 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 22:07:09,524 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 22:07:09,525 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 22:07:09,525 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 22:07:09,526 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 22:07:09,528 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 22:07:09,529 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 22:07:09,530 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 22:07:09,532 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 22:07:09,532 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 22:07:09,533 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 22:07:09,534 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 22:07:09,535 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 22:07:09,536 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:07:09,538 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:07:09,539 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 22:07:09,539 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 22:07:09,539 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 22:07:09,539 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 22:07:09,539 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 22:07:09,539 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 22:07:09,541 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 22:07:09,541 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 22:07:09,542 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 22:07:09,543 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 22:07:09,543 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 22:07:09,544 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 22:07:09,544 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 22:07:09,544 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 22:07:09,544 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 22:07:09,544 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 22:07:09,545 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 22:07:09,545 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 22:07:09,545 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 22:07:09,545 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 22:07:09,545 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 22:07:09,545 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:07:09,546 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:07:09,546 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:07:09,546 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 22:07:09,546 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 22:07:09,546 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:07:09,546 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:07:09,546 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 22:07:09,548 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 22:07:09,548 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 22:07:09,548 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 22:07:09,548 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 22:07:09,548 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 22:07:09,548 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 22:07:09,548 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 22:07:09,548 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 22:07:09,548 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 22:07:09,548 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 22:07:09,548 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 22:07:09,549 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 22:07:09,549 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:07:09,550 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 22:07:09,550 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 22:07:09,550 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 22:07:09,550 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:07:09,550 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:07:09,550 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 22:07:45,009 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:07:45,011 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 22:07:45,012 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:07:45,012 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 22:07:45,056 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 22:07:45,061 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 22:07:45,062 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 22:07:45,062 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 22:07:45,066 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 22:07:45,067 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 22:07:45,067 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 22:07:45,067 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 22:07:45,068 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 22:07:45,069 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 22:07:45,069 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 22:07:45,069 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 22:07:45,069 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 22:07:45,069 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 22:07:45,069 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 22:07:45,069 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 22:07:45,069 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 22:07:45,069 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 22:07:45,069 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 22:07:45,069 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 22:07:45,069 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 22:07:45,069 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:07:45,069 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 22:07:45,069 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:07:45,070 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 22:07:45,070 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 22:07:45,071 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 22:07:45,071 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 22:07:47,235 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 22:07:47,322 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 22:07:47,326 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 22:07:47,332 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:07:47,332 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 22:07:47,332 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 22:07:47,342 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:07:47,344 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:07:47,347 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 22:07:47,848 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:07:47,848 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:07:47,856 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 22:07:47,857 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 22:07:47,858 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 22:07:47,859 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 22:07:47,861 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 22:07:47,861 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 22:07:47,863 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 22:07:47,864 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 22:07:47,865 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 22:07:47,865 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 22:07:47,866 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 22:07:47,867 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 22:07:47,868 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 22:07:47,869 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 22:07:47,870 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 22:07:47,871 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 22:07:47,871 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 22:07:47,872 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 22:07:47,874 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 22:07:47,875 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:07:47,877 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:07:47,878 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 22:07:47,878 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 22:07:47,878 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 22:07:47,878 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 22:07:47,878 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 22:07:47,878 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 22:07:47,880 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 22:07:47,880 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 22:07:47,881 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 22:07:47,882 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 22:07:47,882 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 22:07:47,883 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 22:07:47,883 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 22:07:47,883 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 22:07:47,883 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 22:07:47,884 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 22:07:47,884 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 22:07:47,884 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 22:07:47,884 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 22:07:47,884 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 22:07:47,884 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 22:07:47,885 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:07:47,885 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:07:47,885 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:07:47,885 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 22:07:47,885 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 22:07:47,885 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:07:47,886 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:07:47,886 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 22:07:47,887 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 22:07:47,887 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 22:07:47,887 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 22:07:47,887 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 22:07:47,887 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 22:07:47,888 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 22:07:47,888 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 22:07:47,888 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 22:07:47,888 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 22:07:47,888 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 22:07:47,888 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 22:07:47,889 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 22:07:47,889 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:07:47,889 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 22:07:47,889 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 22:07:47,889 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 22:07:47,889 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:07:47,889 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:07:47,889 - wechat_backend.api - INFO - qwen_adapter.py:36 - __init__() - QwenAdapter initialized for model: test-qwen with unified request wrapper and circuit breaker
2026-02-25 22:07:47,889 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter qwen created successfully (no health check method)
2026-02-25 22:07:47,889 - wechat_backend.api - INFO - factory.py:188 - get_normalized_model_name() - Fuzzy match found for 'chatgpt' -> 'ChatGPT' -> 'chatgpt'
2026-02-25 22:07:47,889 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:07:47,890 - wechat_backend.api - INFO - chatgpt_adapter.py:31 - __init__() - ChatGPTAdapter initialized for model: test-chatgpt with unified request wrapper
2026-02-25 22:08:01,940 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:08:01,942 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 22:08:01,943 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 22:08:01,943 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 22:08:01,985 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 22:08:01,990 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 22:08:01,991 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 22:08:01,991 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 22:08:01,995 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 22:08:01,995 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 22:08:01,996 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 22:08:01,996 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 22:08:01,996 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 22:08:01,996 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 22:08:01,996 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 22:08:01,996 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 22:08:01,997 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 22:08:01,998 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 22:08:01,998 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 22:08:01,998 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 22:08:01,998 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 22:08:04,128 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 22:08:04,198 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 22:08:04,199 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 22:08:04,200 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 22:08:04,200 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 22:08:04,201 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 22:08:04,212 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:08:04,213 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:08:04,216 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 22:08:04,660 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 22:08:04,661 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 22:08:04,668 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 22:08:04,670 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 22:08:04,671 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 22:08:04,672 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 22:08:04,674 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 22:08:04,674 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 22:08:04,676 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 22:08:04,677 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 22:08:04,678 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 22:08:04,678 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 22:08:04,680 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 22:08:04,681 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 22:08:04,682 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 22:08:04,683 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 22:08:04,684 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 22:08:04,685 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 22:08:04,685 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 22:08:04,687 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 22:08:04,689 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 22:08:04,690 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:08:04,691 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 22:08:04,693 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 22:08:04,693 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 22:08:04,693 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 22:08:04,693 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 22:08:04,693 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 22:08:04,693 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 22:08:04,696 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 22:08:04,696 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 22:08:04,697 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 22:08:04,698 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 22:08:04,698 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 22:08:04,699 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 22:08:04,700 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 22:08:04,700 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 22:08:04,701 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 22:08:04,701 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 22:08:04,702 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 22:08:04,703 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 22:08:04,704 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 22:08:04,705 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 22:08:04,705 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 22:08:04,705 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:08:04,706 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:08:04,706 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 22:08:04,706 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 22:08:04,707 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 22:08:04,707 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:08:04,707 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 22:08:04,707 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 22:08:04,708 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 22:08:04,709 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 22:08:04,709 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 22:08:04,709 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 22:08:04,709 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 22:08:04,709 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 22:08:04,709 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 22:08:04,709 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 22:08:04,709 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 22:08:04,709 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 22:08:04,709 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 22:08:04,710 - wechat_backend.api - WARNING - app.py:248 - warm_up_adapters() - Adapter doubao has no API key configured, skipping warm-up
2026-02-25 22:08:04,710 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:08:04,710 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'deepseek_test-deepseek' initialized: threshold=5, recovery_timeout=60s, expected_exceptions=8
2026-02-25 22:08:04,710 - wechat_backend.api - INFO - deepseek_adapter.py:62 - __init__() - DeepSeekAdapter initialized for model: test-deepseek with unified request wrapper and circuit breaker
2026-02-25 22:08:04,711 - wechat_backend.api - INFO - app.py:246 - warm_up_adapters() - Adapter deepseek created successfully (no health check method)
2026-02-25 22:08:04,711 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 22:08:04,711 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'qwen_test-qwen' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 23:45:24,820 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 23:45:24,822 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 23:45:24,823 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 23:45:24,824 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 23:45:24,911 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 23:45:24,916 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 23:45:24,917 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 23:45:24,918 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 23:45:24,921 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 23:45:24,921 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 23:45:24,922 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 23:45:24,922 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 23:45:24,922 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 23:45:24,923 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 23:45:24,924 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 23:45:24,924 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 23:45:24,924 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 23:45:24,924 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 23:45:27,859 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 23:45:27,992 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 23:45:27,993 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 23:45:27,996 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 23:45:27,996 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 23:45:27,997 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 23:45:28,011 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 23:45:28,012 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 23:45:28,016 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 23:45:29,339 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 23:45:29,340 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 23:45:29,347 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 23:45:29,348 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 23:45:29,349 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 23:45:29,350 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 23:45:29,351 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 23:45:29,352 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 23:45:29,354 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 23:45:29,355 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 23:45:29,355 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 23:45:29,355 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 23:45:29,356 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 23:45:29,357 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 23:45:29,359 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 23:45:29,360 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 23:45:29,361 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 23:45:29,361 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 23:45:29,362 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 23:45:29,363 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 23:45:29,365 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 23:45:29,365 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 23:45:29,367 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 23:45:29,368 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 23:45:29,368 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 23:45:29,368 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 23:45:29,368 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 23:45:29,368 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 23:45:29,368 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 23:45:29,370 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 23:45:29,370 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 23:45:29,371 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 23:45:29,372 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 23:45:29,372 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 23:45:29,372 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 23:45:29,372 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 23:45:29,372 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 23:45:29,373 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 23:45:29,373 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 23:45:29,373 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 23:45:29,373 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 23:45:29,373 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 23:45:29,373 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 23:45:29,373 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 23:45:29,374 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:45:29,374 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:45:29,374 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:45:29,374 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 23:45:29,374 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 23:45:29,374 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 23:45:29,375 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 23:45:29,375 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 23:45:29,376 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 23:45:29,376 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 23:45:29,376 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 23:45:29,376 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 23:45:29,376 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 23:45:29,376 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 23:45:29,376 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 23:45:29,376 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 23:45:29,376 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 23:45:29,376 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 23:45:29,377 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 23:45:29,377 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 23:45:29,377 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-25 23:45:29,377 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-25 23:45:29,377 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-25 23:45:29,377 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 23:45:29,378 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 23:45:29,379 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-25 23:45:29,379 - wechat_backend - INFO - app.py:265 - <module>() - ✅ SSE 服务已启动
2026-02-25 23:45:29,379 - wechat_backend - WARNING - app.py:276 - <module>() - ⚠️  配置热更新启动失败：No module named 'config.hot_reload_config'; 'config' is not a package
2026-02-25 23:46:08,205 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 23:46:08,207 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 23:46:08,207 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 23:46:08,208 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 23:46:08,256 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 23:46:08,260 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 23:46:08,261 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 23:46:08,261 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 23:46:08,264 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 23:46:08,265 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 23:46:08,265 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 23:46:08,265 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 23:46:08,265 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 23:46:08,266 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 23:46:08,267 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 23:46:08,268 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 23:46:08,268 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 23:46:08,268 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 23:46:11,243 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 23:46:11,327 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 23:46:11,328 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 23:46:11,329 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 23:46:11,329 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 23:46:11,329 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 23:46:11,340 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 23:46:11,341 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 23:46:11,345 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 23:46:11,834 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 23:46:11,835 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 23:46:11,844 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 23:46:11,847 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 23:46:11,848 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 23:46:11,851 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 23:46:11,853 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 23:46:11,853 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 23:46:11,856 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 23:46:11,857 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 23:46:11,858 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 23:46:11,858 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 23:46:11,859 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 23:46:11,861 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 23:46:11,862 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 23:46:11,863 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 23:46:11,865 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 23:46:11,865 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 23:46:11,866 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 23:46:11,868 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 23:46:11,869 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 23:46:11,871 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 23:46:11,873 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 23:46:11,875 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 23:46:11,875 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 23:46:11,875 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 23:46:11,875 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 23:46:11,876 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 23:46:11,875 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 23:46:11,880 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 23:46:11,880 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 23:46:11,882 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 23:46:11,883 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 23:46:11,883 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 23:46:11,884 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 23:46:11,884 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 23:46:11,884 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 23:46:11,884 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 23:46:11,884 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 23:46:11,884 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 23:46:11,885 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 23:46:11,885 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 23:46:11,885 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 23:46:11,886 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 23:46:11,887 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:46:11,887 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:46:11,888 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:46:11,888 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 23:46:11,888 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 23:46:11,889 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 23:46:11,889 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 23:46:11,889 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 23:46:11,891 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 23:46:11,891 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 23:46:11,892 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 23:46:11,892 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 23:46:11,892 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 23:46:11,893 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 23:46:11,893 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 23:46:11,893 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 23:46:11,893 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 23:46:11,893 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 23:46:11,893 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 23:46:11,893 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 23:46:11,893 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-25 23:46:11,894 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-25 23:46:11,894 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-25 23:46:11,894 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 23:46:11,896 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 23:46:11,899 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-25 23:46:11,900 - wechat_backend - INFO - app.py:265 - <module>() - ✅ SSE 服务已启动
2026-02-25 23:46:11,900 - wechat_backend - WARNING - app.py:276 - <module>() - ⚠️  配置热更新启动失败：No module named 'config.hot_reload_config'; 'config' is not a package
2026-02-25 23:47:53,848 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 23:47:53,852 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 23:47:53,855 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 23:47:53,855 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 23:47:53,910 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 23:47:53,916 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 23:47:53,916 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 23:47:53,917 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 23:47:53,921 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 23:47:53,921 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 23:47:53,922 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 23:47:53,922 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 23:47:53,923 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 23:47:53,923 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 23:47:53,923 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 23:47:53,923 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 23:47:53,923 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 23:47:53,923 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 23:47:53,923 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 23:47:53,923 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 23:47:53,923 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 23:47:53,923 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 23:47:53,923 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 23:47:53,923 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 23:47:53,923 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 23:47:53,923 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 23:47:53,923 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 23:47:53,924 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 23:47:53,925 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 23:47:53,925 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 23:47:53,925 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 23:47:53,925 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 23:47:56,078 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 23:47:56,149 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 23:47:56,150 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 23:47:56,151 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 23:47:56,151 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 23:47:56,151 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 23:47:56,160 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 23:47:56,162 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 23:47:56,165 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 23:47:56,606 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 23:47:56,607 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 23:47:56,617 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 23:47:56,618 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 23:47:56,619 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 23:47:56,621 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 23:47:56,622 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 23:47:56,623 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 23:47:56,625 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 23:47:56,626 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 23:47:56,626 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 23:47:56,626 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 23:47:56,628 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 23:47:56,629 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 23:47:56,630 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 23:47:56,632 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 23:47:56,633 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 23:47:56,633 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 23:47:56,634 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 23:47:56,636 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 23:47:56,637 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 23:47:56,638 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 23:47:56,639 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 23:47:56,640 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 23:47:56,640 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 23:47:56,640 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 23:47:56,640 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 23:47:56,640 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 23:47:56,640 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 23:47:56,642 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 23:47:56,642 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 23:47:56,642 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 23:47:56,643 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 23:47:56,643 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 23:47:56,643 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 23:47:56,644 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 23:47:56,644 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 23:47:56,644 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 23:47:56,644 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 23:47:56,644 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 23:47:56,644 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 23:47:56,645 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 23:47:56,645 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 23:47:56,645 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 23:47:56,645 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:47:56,645 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:47:56,645 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:47:56,646 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 23:47:56,646 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 23:47:56,646 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 23:47:56,646 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 23:47:56,646 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 23:47:56,647 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 23:47:56,647 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 23:47:56,647 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 23:47:56,647 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 23:47:56,647 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 23:47:56,648 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 23:47:56,648 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 23:47:56,648 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 23:47:56,648 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 23:47:56,648 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 23:47:56,648 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 23:47:56,648 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 23:47:56,648 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-25 23:47:56,648 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-25 23:47:56,648 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-25 23:47:56,648 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 23:47:56,649 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 23:47:56,650 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-25 23:47:56,650 - wechat_backend - INFO - app.py:265 - <module>() - ✅ SSE 服务已启动
2026-02-25 23:47:56,650 - wechat_backend - WARNING - app.py:276 - <module>() - ⚠️  配置热更新启动失败：No module named 'config.hot_reload_config'; 'config' is not a package
2026-02-25 23:47:56,846 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 23:47:56,847 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 23:47:56,847 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 23:47:56,847 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 23:47:56,874 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 23:47:56,877 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 23:47:56,878 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 23:47:56,878 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 23:47:56,880 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 23:47:56,880 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 23:47:56,880 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 23:47:56,880 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 23:47:56,881 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 23:47:56,882 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 23:47:56,882 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 23:47:56,882 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 23:47:56,882 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 23:47:58,736 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 23:47:58,786 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 23:47:58,787 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 23:47:58,787 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 23:47:58,788 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 23:47:58,788 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 23:47:58,795 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 23:47:58,796 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 23:47:58,799 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 23:47:59,240 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 23:47:59,240 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 23:47:59,245 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 23:47:59,246 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 23:47:59,247 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 23:47:59,248 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 23:47:59,249 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 23:47:59,249 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 23:47:59,251 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 23:47:59,252 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 23:47:59,252 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 23:47:59,252 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 23:47:59,253 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 23:47:59,254 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 23:47:59,255 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 23:47:59,256 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 23:47:59,256 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 23:47:59,256 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 23:47:59,257 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 23:47:59,258 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 23:47:59,259 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 23:47:59,259 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 23:47:59,260 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 23:47:59,261 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 23:47:59,261 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 23:47:59,262 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 23:47:59,262 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 23:47:59,262 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 23:47:59,262 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 23:47:59,263 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 23:47:59,263 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 23:47:59,264 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 23:47:59,265 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 23:47:59,265 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 23:47:59,266 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 23:47:59,266 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 23:47:59,266 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 23:47:59,266 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 23:47:59,266 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 23:47:59,266 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 23:47:59,267 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 23:47:59,267 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 23:47:59,267 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 23:47:59,267 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 23:47:59,267 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:47:59,267 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:47:59,268 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:47:59,268 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 23:47:59,268 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 23:47:59,268 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 23:47:59,268 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 23:47:59,268 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 23:47:59,269 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 23:47:59,269 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 23:47:59,269 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 23:47:59,269 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 23:47:59,269 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 23:47:59,269 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 23:47:59,269 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 23:47:59,269 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 23:47:59,269 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 23:47:59,269 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 23:47:59,270 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 23:47:59,270 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 23:47:59,270 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-25 23:47:59,270 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-25 23:47:59,270 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-25 23:47:59,270 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 23:47:59,271 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 23:47:59,271 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-25 23:47:59,271 - wechat_backend - INFO - app.py:265 - <module>() - ✅ SSE 服务已启动
2026-02-25 23:47:59,271 - wechat_backend - WARNING - app.py:276 - <module>() - ⚠️  配置热更新启动失败：No module named 'config.hot_reload_config'; 'config' is not a package
2026-02-25 23:54:41,622 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 23:54:41,623 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 23:54:41,624 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 23:54:41,624 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 23:54:41,667 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 23:54:41,673 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 23:54:41,673 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 23:54:41,674 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 23:54:41,678 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 23:54:41,678 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 23:54:41,678 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 23:54:41,679 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 23:54:41,679 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 23:54:41,679 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 23:54:41,679 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 23:54:41,679 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 23:54:41,679 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 23:54:41,680 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 23:54:41,681 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 23:54:41,681 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 23:54:41,681 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 23:54:41,681 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 23:54:43,793 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 23:54:43,869 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 23:54:43,870 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 23:54:43,871 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 23:54:43,871 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 23:54:43,871 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 23:54:43,882 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 23:54:43,883 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 23:54:43,887 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 23:54:44,352 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 23:54:44,353 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 23:54:44,360 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 23:54:44,361 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 23:54:44,362 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 23:54:44,364 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 23:54:44,365 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 23:54:44,366 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 23:54:44,368 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 23:54:44,369 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 23:54:44,369 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 23:54:44,369 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 23:54:44,371 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 23:54:44,372 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 23:54:44,373 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 23:54:44,374 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 23:54:44,376 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 23:54:44,376 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 23:54:44,376 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 23:54:44,378 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 23:54:44,379 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 23:54:44,380 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 23:54:44,381 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 23:54:44,382 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 23:54:44,382 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 23:54:44,383 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 23:54:44,383 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 23:54:44,383 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 23:54:44,383 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 23:54:44,385 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 23:54:44,385 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 23:54:44,386 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 23:54:44,387 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 23:54:44,387 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 23:54:44,387 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 23:54:44,387 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 23:54:44,388 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 23:54:44,388 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 23:54:44,388 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 23:54:44,388 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 23:54:44,388 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 23:54:44,389 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 23:54:44,389 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 23:54:44,389 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 23:54:44,389 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:54:44,389 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:54:44,390 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:54:44,390 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 23:54:44,390 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 23:54:44,390 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 23:54:44,390 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 23:54:44,390 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 23:54:44,392 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 23:54:44,392 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 23:54:44,392 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 23:54:44,392 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 23:54:44,392 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 23:54:44,393 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 23:54:44,393 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 23:54:44,393 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 23:54:44,393 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 23:54:44,393 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 23:54:44,393 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 23:54:44,393 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 23:54:44,393 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-25 23:54:44,393 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-25 23:54:44,393 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-25 23:54:44,393 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 23:54:44,394 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 23:54:44,395 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-25 23:54:44,395 - wechat_backend - INFO - app.py:265 - <module>() - ✅ SSE 服务已启动
2026-02-25 23:54:44,395 - wechat_backend - WARNING - app.py:284 - <module>() - ⚠️  配置热更新启动失败：No module named 'config.hot_reload_config'; 'config' is not a package
2026-02-25 23:54:44,395 - wechat_backend - ERROR - app.py:286 - <module>() - [HotReloadConfig] 错误详情：Traceback (most recent call last):
  File "/Users/sgl/PycharmProjects/PythonProject/backend_python/wechat_backend/app.py", line 278, in <module>
    from config.hot_reload_config import get_hot_reload_config, register_config_routes
ModuleNotFoundError: No module named 'config.hot_reload_config'; 'config' is not a package

2026-02-25 23:59:46,191 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 23:59:46,192 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-25 23:59:46,193 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-25 23:59:46,194 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-25 23:59:46,267 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-25 23:59:46,273 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-25 23:59:46,274 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-25 23:59:46,275 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-25 23:59:46,279 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-25 23:59:46,280 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-25 23:59:46,280 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-25 23:59:46,281 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-25 23:59:46,281 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-25 23:59:46,281 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-25 23:59:46,281 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-25 23:59:46,281 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-25 23:59:46,281 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-25 23:59:46,282 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-25 23:59:46,284 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-25 23:59:46,284 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-25 23:59:46,284 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-25 23:59:46,285 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-25 23:59:48,554 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 23:59:48,626 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-25 23:59:48,627 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-25 23:59:48,628 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 23:59:48,628 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-25 23:59:48,628 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-25 23:59:48,637 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 23:59:48,638 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 23:59:48,641 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-25 23:59:49,990 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-25 23:59:49,990 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-25 23:59:49,996 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-25 23:59:49,997 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-25 23:59:49,998 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-25 23:59:49,999 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-25 23:59:50,001 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-25 23:59:50,001 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-25 23:59:50,003 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-25 23:59:50,004 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-25 23:59:50,004 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-25 23:59:50,004 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-25 23:59:50,005 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-25 23:59:50,006 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-25 23:59:50,007 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-25 23:59:50,008 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-25 23:59:50,009 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-25 23:59:50,010 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-25 23:59:50,010 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-25 23:59:50,011 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-25 23:59:50,012 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-25 23:59:50,013 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 23:59:50,014 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-25 23:59:50,015 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-25 23:59:50,016 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-25 23:59:50,015 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-25 23:59:50,016 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-25 23:59:50,016 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-25 23:59:50,016 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-25 23:59:50,017 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-25 23:59:50,017 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-25 23:59:50,018 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-25 23:59:50,019 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-25 23:59:50,019 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-25 23:59:50,019 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-25 23:59:50,019 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-25 23:59:50,019 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-25 23:59:50,020 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-25 23:59:50,020 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-25 23:59:50,020 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-25 23:59:50,020 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-25 23:59:50,020 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-25 23:59:50,020 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-25 23:59:50,021 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-25 23:59:50,021 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:59:50,021 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:59:50,021 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-25 23:59:50,021 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-25 23:59:50,021 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-25 23:59:50,021 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 23:59:50,022 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-25 23:59:50,022 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-25 23:59:50,023 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-25 23:59:50,023 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-25 23:59:50,023 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-25 23:59:50,023 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-25 23:59:50,023 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-25 23:59:50,023 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-25 23:59:50,024 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-25 23:59:50,024 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-25 23:59:50,024 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-25 23:59:50,024 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-25 23:59:50,024 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-25 23:59:50,024 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-25 23:59:50,024 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-25 23:59:50,024 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-25 23:59:50,024 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-25 23:59:50,024 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-25 23:59:50,025 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-25 23:59:50,025 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-25 23:59:50,025 - wechat_backend - INFO - app.py:265 - <module>() - ✅ SSE 服务已启动
2026-02-25 23:59:50,026 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-25 23:59:50,026 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-25 23:59:50,027 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-25 23:59:50,027 - wechat_backend - INFO - app.py:292 - <module>() - ✅ 配置热更新已启动
2026-02-25 23:59:50,027 - wechat_backend - INFO - app.py:293 - <module>() - [HotReloadConfig] 路由已注册
2026-02-25 23:59:50,026 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-25 23:59:50,028 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DOUBAO_MODEL_PRIORITY_2 = doubao-seed-2-0-mini-260215
2026-02-25 23:59:50,028 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DOUBAO_MODEL_PRIORITY_2, 将影响后续 AI 调用
2026-02-25 23:59:50,028 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DOUBAO_MODEL_PRIORITY_4 = doubao-seed-2-0-lite-260215
2026-02-25 23:59:50,028 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DOUBAO_MODEL_PRIORITY_4, 将影响后续 AI 调用
2026-02-26 00:00:52,961 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 00:00:52,962 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 00:00:52,964 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 00:00:52,965 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 00:00:53,020 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 00:00:53,025 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 00:00:53,026 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 00:00:53,026 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 00:00:53,030 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 00:00:53,030 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 00:00:53,031 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 00:00:53,031 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 00:00:53,031 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 00:00:53,032 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 00:00:53,033 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 00:00:53,033 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 00:00:53,033 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 00:00:53,033 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 00:00:55,215 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 00:00:55,296 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 00:00:55,297 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 00:00:55,298 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 00:00:55,299 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 00:00:55,299 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 00:00:55,309 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 00:00:55,310 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 00:00:55,314 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 00:00:55,749 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 00:00:55,750 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 00:00:55,756 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 00:00:55,757 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 00:00:55,758 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 00:00:55,759 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 00:00:55,761 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 00:00:55,761 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 00:00:55,763 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 00:00:55,764 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 00:00:55,765 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 00:00:55,765 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 00:00:55,766 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 00:00:55,768 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 00:00:55,769 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 00:00:55,770 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 00:00:55,772 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 00:00:55,772 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 00:00:55,773 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 00:00:55,774 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 00:00:55,775 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 00:00:55,776 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 00:00:55,777 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 00:00:55,778 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 00:00:55,778 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 00:00:55,779 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 00:00:55,779 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 00:00:55,779 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 00:00:55,778 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 00:00:55,780 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 00:00:55,780 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 00:00:55,781 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 00:00:55,782 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 00:00:55,782 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 00:00:55,782 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 00:00:55,782 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 00:00:55,783 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 00:00:55,783 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 00:00:55,783 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 00:00:55,783 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 00:00:55,783 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 00:00:55,784 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 00:00:55,784 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 00:00:55,784 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 00:00:55,784 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 00:00:55,784 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 00:00:55,785 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 00:00:55,785 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 00:00:55,785 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 00:00:55,785 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 00:00:55,785 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 00:00:55,785 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 00:00:55,786 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 00:00:55,786 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 00:00:55,786 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 00:00:55,786 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 00:00:55,786 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 00:00:55,787 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 00:00:55,787 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 00:00:55,787 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 00:00:55,787 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 00:00:55,787 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 00:00:55,787 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 00:00:55,787 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 00:00:55,787 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 00:00:55,788 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 00:00:55,788 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 00:00:55,788 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 00:00:55,789 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 00:00:55,789 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 00:00:55,789 - wechat_backend - INFO - app.py:265 - <module>() - ✅ SSE 服务已启动
2026-02-26 00:00:55,790 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 00:00:55,790 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 00:00:55,791 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 00:00:55,791 - wechat_backend - INFO - app.py:292 - <module>() - ✅ 配置热更新已启动
2026-02-26 00:00:55,791 - wechat_backend - INFO - app.py:293 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 00:00:55,790 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 00:00:55,793 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：XPC_SERVICE_NAME = application.com.jetbrains.pycharm.31545211.35646164
2026-02-26 00:00:55,793 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYCHARM_UUID = e4e46fa1-c631-332e-af73-42d0eba466b4
2026-02-26 00:00:55,793 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DOUBAO_MODEL_PRIORITY_3 = doubao-seed-2-0-pro-260215
2026-02-26 00:00:55,793 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DOUBAO_MODEL_PRIORITY_3, 将影响后续 AI 调用
2026-02-26 00:00:55,992 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 00:00:55,993 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 00:00:55,993 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 00:00:55,994 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 00:00:56,022 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 00:00:56,025 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 00:00:56,025 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 00:00:56,026 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 00:00:56,028 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 00:00:56,028 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 00:00:56,028 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 00:00:56,028 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 00:00:56,028 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 00:00:56,029 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 00:00:56,030 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 00:00:56,030 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 00:00:56,030 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 00:00:56,030 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 00:00:57,928 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 00:00:57,973 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 00:00:57,973 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 00:00:57,974 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 00:00:57,974 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 00:00:57,974 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 00:00:57,981 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 00:00:57,982 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 00:00:57,984 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 00:00:58,415 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 00:00:58,416 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 00:00:58,420 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 00:00:58,421 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 00:00:58,422 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 00:00:58,423 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 00:00:58,424 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 00:00:58,424 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 00:00:58,426 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 00:00:58,426 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 00:00:58,427 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 00:00:58,427 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 00:00:58,428 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 00:00:58,428 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 00:00:58,429 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 00:00:58,430 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 00:00:58,431 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 00:00:58,431 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 00:00:58,432 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 00:00:58,433 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 00:00:58,435 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 00:00:58,436 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 00:00:58,437 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 00:00:58,437 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 00:00:58,438 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 00:00:58,438 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 00:00:58,438 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 00:00:58,438 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 00:00:58,438 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 00:00:58,440 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 00:00:58,440 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 00:00:58,440 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 00:00:58,441 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 00:00:58,442 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 00:00:58,442 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 00:00:58,442 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 00:00:58,442 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 00:00:58,442 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 00:00:58,443 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 00:00:58,443 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 00:00:58,443 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 00:00:58,444 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 00:00:58,444 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 00:00:58,444 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 00:00:58,444 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 00:00:58,444 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 00:00:58,445 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 00:00:58,445 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 00:00:58,445 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 00:00:58,445 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 00:00:58,445 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 00:00:58,445 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 00:00:58,446 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 00:00:58,446 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 00:00:58,446 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 00:00:58,446 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 00:00:58,446 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 00:00:58,446 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 00:00:58,446 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 00:00:58,446 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 00:00:58,446 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 00:00:58,446 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 00:00:58,446 - wechat_backend.api - INFO - app.py:224 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 00:00:58,447 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 00:00:58,447 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 00:00:58,447 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 00:00:58,447 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 00:00:58,447 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 00:00:58,447 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 00:00:58,448 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 00:00:58,448 - wechat_backend - INFO - app.py:265 - <module>() - ✅ SSE 服务已启动
2026-02-26 00:00:58,448 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 00:00:58,448 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 00:00:58,449 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 00:00:58,449 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 00:00:58,450 - wechat_backend - INFO - app.py:292 - <module>() - ✅ 配置热更新已启动
2026-02-26 00:00:58,450 - wechat_backend - INFO - app.py:293 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 00:00:58,450 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYTHONPATH = /Users/sgl/PycharmProjects/PythonProject:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_plotly_backend:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_altair_backend:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_matplotlib_backend:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_display
2026-02-26 00:00:58,451 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SSH_AUTH_SOCK = /private/tmp/com.apple.launchd.WKPtXGnv4m/Listeners
2026-02-26 00:00:58,451 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：WECHAT_APP_ID = wxfd3b695920a78e1b
2026-02-26 00:39:21,695 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 00:39:21,707 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 00:39:21,708 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 00:39:21,708 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 00:39:21,769 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 00:39:21,773 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 00:39:21,774 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 00:39:21,774 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 00:39:21,778 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 00:39:21,778 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 00:39:21,779 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 00:39:21,779 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 00:39:21,779 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 00:39:21,779 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 00:39:21,779 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 00:39:21,779 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 00:39:21,780 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 00:39:21,781 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 00:39:21,781 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 00:39:21,781 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 00:39:21,781 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 00:39:24,118 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 00:39:24,201 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 00:39:24,203 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 00:39:24,204 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 00:39:24,204 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 00:39:24,204 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 00:39:24,217 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 00:39:24,218 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 00:39:24,222 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 00:39:24,662 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 00:39:24,663 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 00:39:24,671 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 00:39:24,673 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 00:39:24,674 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 00:39:24,676 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 00:39:24,677 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 00:39:24,679 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 00:39:24,679 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 00:39:24,681 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 00:39:24,682 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 00:39:24,682 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 00:39:24,682 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 00:39:24,684 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 00:39:24,685 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 00:39:24,686 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 00:39:24,688 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 00:39:24,690 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 00:39:24,690 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 00:39:24,691 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 00:39:24,692 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 00:39:24,694 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 00:39:24,694 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 00:39:24,696 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 00:39:24,697 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 00:39:24,697 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 00:39:24,697 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 00:39:24,697 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 00:39:24,697 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 00:39:24,697 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 00:39:24,700 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 00:39:24,700 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 00:39:24,700 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 00:39:24,702 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 00:39:24,702 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 00:39:24,702 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 00:39:24,703 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 00:39:24,703 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 00:39:24,703 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 00:39:24,703 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 00:39:24,703 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 00:39:24,703 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 00:39:24,703 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 00:39:24,704 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 00:39:24,704 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 00:39:24,704 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 00:39:24,704 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 00:39:24,704 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 00:39:24,704 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 00:39:24,705 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 00:39:24,705 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 00:39:24,705 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 00:39:24,705 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 00:39:24,706 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 00:39:24,706 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 00:39:24,706 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 00:39:24,706 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 00:39:24,706 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 00:39:24,707 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 00:39:24,707 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 00:39:24,707 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 00:39:24,707 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 00:39:24,707 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 00:39:24,707 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 00:39:24,707 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 00:39:24,707 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 00:39:24,707 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 00:39:24,707 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 00:39:24,707 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 00:39:24,708 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 00:39:24,709 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 00:39:24,709 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 00:39:24,709 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 00:39:24,710 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 00:39:24,710 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 00:39:24,710 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 00:39:24,710 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 00:39:24,710 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 00:39:24,712 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：HOMEBREW_REPOSITORY = /opt/homebrew
2026-02-26 00:39:24,712 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PWD = /Users/sgl/PycharmProjects/PythonProject
2026-02-26 00:39:24,712 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYCHARM_PROJECT_ID = 5e1491e9
2026-02-26 00:39:24,712 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SSH_AUTH_SOCK = /private/tmp/com.apple.launchd.WKPtXGnv4m/Listeners
2026-02-26 00:39:24,712 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：XPC_FLAGS = 0x0
2026-02-26 00:39:24,712 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：OLDPWD = /
2026-02-26 00:39:24,712 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYTHONPATH = /Users/sgl/PycharmProjects/PythonProject:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_plotly_backend:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_altair_backend:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_matplotlib_backend:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_display
2026-02-26 00:39:24,712 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PATH = /Users/sgl/PycharmProjects/PythonProject/.venv/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/Library/Frameworks/Python.framework/Versions/3.14/bin:/Applications/极空间.app/Contents/Resources/app.asar.unpacked/bin/platform-tools
2026-02-26 00:39:24,712 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：CHATGPT_API_KEY = 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
2026-02-26 01:05:52,493 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:05:52,495 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 01:05:52,496 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:05:52,496 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 01:05:52,544 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 01:05:52,549 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 01:05:52,550 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 01:05:52,550 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 01:05:52,555 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 01:05:52,555 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 01:05:52,555 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 01:05:52,555 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 01:05:52,556 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 01:05:52,557 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 01:05:52,557 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 01:05:52,557 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 01:05:52,557 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 01:05:52,557 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 01:05:52,557 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 01:05:52,557 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 01:05:52,557 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 01:05:52,557 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 01:05:52,557 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 01:05:52,557 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 01:05:52,557 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:05:52,557 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 01:05:52,557 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:05:52,558 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 01:05:52,558 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 01:05:52,558 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 01:05:52,558 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 01:05:54,833 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:05:54,917 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 01:05:54,917 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 01:05:54,919 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:05:54,919 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 01:05:54,919 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 01:05:54,931 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:05:54,932 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:05:54,937 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 01:05:55,388 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:05:55,389 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:05:55,396 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 01:05:55,397 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 01:05:55,399 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 01:05:55,400 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 01:05:55,402 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 01:05:55,403 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 01:05:55,403 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 01:05:55,405 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 01:05:55,406 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 01:05:55,406 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 01:05:55,406 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 01:05:55,408 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 01:05:55,409 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 01:05:55,410 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 01:05:55,411 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 01:05:55,413 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 01:05:55,414 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 01:05:55,414 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 01:05:55,416 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 01:05:55,418 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 01:05:55,418 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:05:55,420 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:05:55,421 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 01:05:55,421 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 01:05:55,421 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 01:05:55,421 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 01:05:55,421 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 01:05:55,421 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 01:05:55,424 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 01:05:55,424 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 01:05:55,424 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 01:05:55,425 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 01:05:55,426 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 01:05:55,426 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 01:05:55,426 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 01:05:55,426 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 01:05:55,426 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 01:05:55,426 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 01:05:55,427 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 01:05:55,427 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 01:05:55,427 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 01:05:55,427 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 01:05:55,427 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 01:05:55,427 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:05:55,428 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:05:55,428 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:05:55,428 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 01:05:55,428 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 01:05:55,428 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:05:55,428 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:05:55,428 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 01:05:55,430 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 01:05:55,430 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 01:05:55,430 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 01:05:55,430 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 01:05:55,430 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 01:05:55,431 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 01:05:55,431 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 01:05:55,431 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 01:05:55,431 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 01:05:55,431 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 01:05:55,431 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 01:05:55,431 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 01:05:55,431 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:05:55,431 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:05:55,431 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 01:05:55,431 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:05:55,432 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:05:55,433 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 01:05:55,433 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 01:05:55,433 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 01:05:55,433 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 01:05:55,434 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 01:05:55,434 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 01:05:55,434 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 01:05:55,433 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 01:05:55,436 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：GEMINI_API_KEY = AIzaSyCOeSqGt-YluHUQkdStzc-RVkufFKBldCE
2026-02-26 01:05:55,436 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：GEMINI_API_KEY, 将影响后续 AI 调用
2026-02-26 01:11:36,731 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:11:36,733 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 01:11:36,734 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:11:36,734 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 01:11:36,779 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 01:11:36,784 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 01:11:36,784 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 01:11:36,785 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 01:11:36,788 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 01:11:36,789 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 01:11:36,789 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 01:11:36,789 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 01:11:36,790 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 01:11:36,791 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 01:11:36,791 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 01:11:36,791 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 01:11:36,791 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 01:11:36,791 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:11:36,791 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 01:11:36,791 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:11:36,792 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 01:11:36,792 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 01:11:36,792 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 01:11:36,792 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 01:11:39,115 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:11:39,205 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 01:11:39,206 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 01:11:39,207 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:11:39,207 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 01:11:39,208 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 01:11:39,222 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:11:39,224 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:11:39,228 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 01:11:39,723 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:11:39,724 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:11:39,731 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 01:11:39,732 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 01:11:39,735 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 01:11:39,736 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 01:11:39,737 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 01:11:39,740 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 01:11:39,741 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 01:11:39,743 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 01:11:39,744 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 01:11:39,744 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 01:11:39,744 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 01:11:39,746 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 01:11:39,747 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 01:11:39,748 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 01:11:39,749 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 01:11:39,752 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 01:11:39,752 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 01:11:39,752 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 01:11:39,754 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 01:11:39,755 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 01:11:39,756 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:11:39,758 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:11:39,759 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 01:11:39,759 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 01:11:39,760 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 01:11:39,760 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 01:11:39,760 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 01:11:39,761 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 01:11:39,763 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 01:11:39,763 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 01:11:39,764 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 01:11:39,765 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 01:11:39,766 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 01:11:39,766 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 01:11:39,766 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 01:11:39,766 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 01:11:39,766 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 01:11:39,766 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 01:11:39,767 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 01:11:39,767 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 01:11:39,767 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 01:11:39,767 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 01:11:39,767 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 01:11:39,767 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:11:39,768 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:11:39,768 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:11:39,768 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 01:11:39,768 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 01:11:39,768 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:11:39,768 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:11:39,769 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 01:11:39,770 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 01:11:39,770 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 01:11:39,770 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 01:11:39,770 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 01:11:39,770 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 01:11:39,771 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 01:11:39,771 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 01:11:39,771 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 01:11:39,771 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 01:11:39,771 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 01:11:39,771 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 01:11:39,771 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 01:11:39,772 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:11:39,772 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:11:39,772 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 01:11:39,772 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:11:39,773 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:11:39,774 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 01:11:39,774 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 01:11:39,775 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 01:11:39,775 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 01:11:39,776 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 01:11:39,777 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 01:11:39,777 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 01:11:39,777 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：WERKZEUG_SERVER_FD = 19
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：WERKZEUG_RUN_MAIN = true
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：HOME = /Users/sgl
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：ARK_API_KEY = 2a376e32-8877-4df8-9865-7eb3e99c9f92
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：ARK_API_KEY, 将影响后续 AI 调用
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：CHATGPT_API_KEY = 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
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：CHATGPT_API_KEY, 将影响后续 AI 调用
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PWD = /Users/sgl/PycharmProjects/PythonProject
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：WECHAT_TOKEN = test12345
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYTHONUNBUFFERED = 1
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYCHARM_UUID = e4e46fa1-c631-332e-af73-42d0eba466b4
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DOUBAO_MODEL_PRIORITY_4 = doubao-seed-2-0-lite-260215
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DOUBAO_MODEL_PRIORITY_4, 将影响后续 AI 调用
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：HOMEBREW_CELLAR = /opt/homebrew/Cellar
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SECRET_KEY = sgl@810SGl
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：ZHIPU_API_KEY = 504d64a0ad234557a79ad0dbcba3685c.ZVznXgPMIsnHbiNh
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：ZHIPU_API_KEY, 将影响后续 AI 调用
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYCHARM_PROJECT_ID = 5e1491e9
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：WECHAT_APP_ID = wxfd3b695920a78e1b
2026-02-26 01:11:39,779 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DOUBAO_MODEL_PRIORITY_3 = doubao-seed-2-0-pro-260215
2026-02-26 01:11:39,780 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DOUBAO_MODEL_PRIORITY_3, 将影响后续 AI 调用
2026-02-26 01:11:39,780 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DOUBAO_MODEL_PRIORITY_2 = doubao-seed-2-0-mini-260215
2026-02-26 01:11:39,780 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DOUBAO_MODEL_PRIORITY_2, 将影响后续 AI 调用
2026-02-26 01:11:39,780 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：FLASK_ENV = development
2026-02-26 01:13:34,824 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:13:34,826 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 01:13:34,827 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:13:34,827 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 01:13:34,874 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 01:13:34,879 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 01:13:34,880 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 01:13:34,880 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 01:13:34,884 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 01:13:34,885 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 01:13:34,885 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 01:13:34,886 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 01:13:34,886 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 01:13:34,886 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 01:13:34,886 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 01:13:34,886 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 01:13:34,886 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 01:13:34,886 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 01:13:34,886 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 01:13:34,886 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 01:13:34,886 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 01:13:34,886 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 01:13:34,886 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 01:13:34,886 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 01:13:34,886 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 01:13:34,887 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:13:34,888 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 01:13:34,888 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 01:13:34,888 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 01:13:34,888 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 01:13:37,081 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:13:37,157 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 01:13:37,158 - wechat_backend.database - INFO - diagnosis_report_repository.py:579 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 01:13:37,158 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:13:37,159 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 01:13:37,159 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 01:13:37,170 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:13:37,172 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:13:37,176 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 01:13:37,643 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:13:37,644 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:13:37,652 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 01:13:37,653 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 01:13:37,655 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 01:13:37,655 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 01:13:37,657 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 01:13:37,658 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 01:13:37,658 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 01:13:37,660 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 01:13:37,661 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 01:13:37,661 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 01:13:37,661 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 01:13:37,663 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 01:13:37,664 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 01:13:37,665 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 01:13:37,667 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 01:13:37,669 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 01:13:37,669 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 01:13:37,670 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 01:13:37,671 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 01:13:37,673 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 01:13:37,673 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:13:37,675 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:13:37,676 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 01:13:37,676 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 01:13:37,676 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 01:13:37,676 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 01:13:37,676 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 01:13:37,676 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 01:13:37,679 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 01:13:37,679 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 01:13:37,680 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 01:13:37,682 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 01:13:37,683 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 01:13:37,683 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 01:13:37,683 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 01:13:37,683 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 01:13:37,683 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 01:13:37,684 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 01:13:37,684 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 01:13:37,684 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 01:13:37,684 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 01:13:37,685 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 01:13:37,685 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 01:13:37,685 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:13:37,685 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:13:37,685 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:13:37,686 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 01:13:37,686 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 01:13:37,686 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:13:37,686 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:13:37,686 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 01:13:37,688 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 01:13:37,688 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 01:13:37,688 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 01:13:37,688 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 01:13:37,688 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 01:13:37,688 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 01:13:37,688 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 01:13:37,688 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 01:13:37,688 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 01:13:37,688 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 01:13:37,688 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 01:13:37,688 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 01:13:37,689 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:13:37,689 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:13:37,689 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 01:13:37,689 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:13:37,689 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:13:37,690 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 01:13:37,690 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 01:13:37,691 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 01:13:37,691 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 01:13:37,691 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 01:13:37,691 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 01:13:37,691 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 01:13:37,691 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 01:13:37,693 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DOUBAO_MODEL_PRIORITY_1 = doubao-seed-1-8-251228
2026-02-26 01:13:37,693 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DOUBAO_MODEL_PRIORITY_1, 将影响后续 AI 调用
2026-02-26 01:13:37,693 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：INFOPATH = /opt/homebrew/share/info:
2026-02-26 01:13:37,693 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：FLASK_DEBUG = 1
2026-02-26 01:13:37,693 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：TMPDIR = /var/folders/m8/9lzgk90s02z276bclcvcvkg40000gn/T/
2026-02-26 01:13:37,693 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：KMP_INIT_AT_FORK = FALSE
2026-02-26 01:13:37,694 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYTHONPATH = /Users/sgl/PycharmProjects/PythonProject:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_plotly_backend:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_altair_backend:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_matplotlib_backend:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_display
2026-02-26 01:13:37,694 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：FLASK_APP = wechat_backend
2026-02-26 01:13:37,694 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYCHARM_DISPLAY_PORT = 63342
2026-02-26 01:24:14,687 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:24:14,688 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 01:24:14,689 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:24:14,690 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 01:24:14,743 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 01:24:14,749 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 01:24:14,750 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 01:24:14,751 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 01:24:14,756 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 01:24:14,757 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 01:24:14,757 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 01:24:14,757 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 01:24:14,758 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 01:24:14,758 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 01:24:14,758 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 01:24:14,758 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 01:24:14,758 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 01:24:14,758 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 01:24:14,759 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:24:14,760 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 01:24:14,760 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 01:24:14,760 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 01:24:14,760 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 01:24:16,922 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:24:17,002 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 01:24:17,003 - wechat_backend.database - INFO - diagnosis_report_repository.py:629 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 01:24:17,004 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:24:17,004 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 01:24:17,005 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 01:24:17,017 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:24:17,018 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:24:17,022 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 01:24:17,483 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:24:17,484 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:24:17,492 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 01:24:17,494 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 01:24:17,496 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 01:24:17,497 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 01:24:17,499 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 01:24:17,500 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 01:24:17,501 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 01:24:17,503 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 01:24:17,504 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 01:24:17,505 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 01:24:17,505 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 01:24:17,506 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 01:24:17,507 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 01:24:17,508 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 01:24:17,510 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 01:24:17,512 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 01:24:17,512 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 01:24:17,513 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 01:24:17,515 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 01:24:17,516 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 01:24:17,517 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:24:17,518 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:24:17,519 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 01:24:17,520 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 01:24:17,519 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 01:24:17,519 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 01:24:17,519 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 01:24:17,520 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 01:24:17,521 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 01:24:17,521 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 01:24:17,522 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 01:24:17,523 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 01:24:17,523 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 01:24:17,523 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 01:24:17,523 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 01:24:17,524 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 01:24:17,524 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 01:24:17,524 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 01:24:17,524 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 01:24:17,524 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 01:24:17,524 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 01:24:17,525 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 01:24:17,525 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 01:24:17,525 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:24:17,525 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:24:17,526 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:24:17,526 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 01:24:17,526 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 01:24:17,526 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:24:17,526 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:24:17,526 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 01:24:17,528 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 01:24:17,528 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 01:24:17,528 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 01:24:17,528 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 01:24:17,528 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 01:24:17,529 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 01:24:17,529 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 01:24:17,529 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 01:24:17,529 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 01:24:17,529 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 01:24:17,529 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 01:24:17,529 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 01:24:17,529 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:24:17,529 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:24:17,529 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 01:24:17,530 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:24:17,530 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:24:17,531 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 01:24:17,531 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 01:24:17,531 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 01:24:17,532 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 01:24:17,532 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 01:24:17,532 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 01:24:17,532 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 01:24:17,532 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 01:24:17,534 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：KMP_INIT_AT_FORK = FALSE
2026-02-26 01:24:17,534 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SECRET_KEY = sgl@810SGl
2026-02-26 01:28:20,856 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:28:20,858 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 01:28:20,859 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:28:20,859 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 01:28:20,902 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 01:28:20,907 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 01:28:20,907 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 01:28:20,908 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 01:28:20,911 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 01:28:20,912 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 01:28:20,912 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 01:28:20,912 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 01:28:20,913 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:28:20,914 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 01:28:20,914 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 01:28:20,914 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 01:28:20,914 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 01:28:22,987 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:28:23,069 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 01:28:23,070 - wechat_backend.database - INFO - diagnosis_report_repository.py:629 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 01:28:23,071 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:28:23,071 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 01:28:23,071 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 01:28:23,082 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:28:23,085 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:28:23,088 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 01:28:23,531 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:28:23,532 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:28:23,538 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 01:28:23,539 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 01:28:23,541 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 01:28:23,542 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 01:28:23,544 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 01:28:23,545 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 01:28:23,545 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 01:28:23,547 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 01:28:23,548 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 01:28:23,548 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 01:28:23,548 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 01:28:23,549 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 01:28:23,551 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 01:28:23,552 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 01:28:23,553 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 01:28:23,555 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 01:28:23,555 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 01:28:23,556 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 01:28:23,557 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 01:28:23,559 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 01:28:23,560 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:28:23,561 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:28:23,562 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 01:28:23,562 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 01:28:23,562 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 01:28:23,562 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 01:28:23,562 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 01:28:23,562 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 01:28:23,563 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 01:28:23,564 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 01:28:23,564 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 01:28:23,565 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 01:28:23,565 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 01:28:23,566 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 01:28:23,566 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 01:28:23,566 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 01:28:23,566 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 01:28:23,566 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 01:28:23,566 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 01:28:23,567 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 01:28:23,567 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 01:28:23,567 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 01:28:23,567 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 01:28:23,567 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:28:23,567 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:28:23,568 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:28:23,568 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 01:28:23,568 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 01:28:23,568 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:28:23,568 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:28:23,568 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 01:28:23,569 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 01:28:23,569 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 01:28:23,570 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 01:28:23,570 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 01:28:23,570 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 01:28:23,570 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 01:28:23,570 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 01:28:23,570 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 01:28:23,570 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 01:28:23,570 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 01:28:23,570 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 01:28:23,570 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 01:28:23,570 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:28:23,570 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:28:23,571 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 01:28:23,571 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:28:23,571 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:28:23,572 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 01:28:23,572 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 01:28:23,572 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 01:28:23,572 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 01:28:23,573 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 01:28:23,574 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 01:28:23,574 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 01:28:23,574 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 01:28:23,574 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SCRCPY_SERVER_PATH = /Applications/极空间.app/Contents/Resources/app.asar.unpacked/bin/platform-tools/scrcpy-server
2026-02-26 01:28:23,575 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SECRET_KEY = sgl@810SGl
2026-02-26 01:28:23,575 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：HOME = /Users/sgl
2026-02-26 01:28:23,575 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：WERKZEUG_RUN_MAIN = true
2026-02-26 01:28:23,575 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYCHARM_INTERACTIVE_PLOTS = 1
2026-02-26 01:28:23,575 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYCHARM_DISPLAY_PORT = 63342
2026-02-26 01:28:23,575 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：HOMEBREW_CELLAR = /opt/homebrew/Cellar
2026-02-26 01:28:23,575 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：OLDPWD = /
2026-02-26 01:28:23,575 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYTHONPATH = /Users/sgl/PycharmProjects/PythonProject:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_plotly_backend:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_altair_backend:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_matplotlib_backend:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_display
2026-02-26 01:28:23,576 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYCHARM_HOSTED = 1
2026-02-26 01:28:23,576 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：FLASK_ENV = development
2026-02-26 01:29:26,783 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:29:26,785 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 01:29:26,786 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:29:26,786 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 01:29:26,824 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 01:29:26,829 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 01:29:26,830 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 01:29:26,831 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 01:29:26,834 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 01:29:26,834 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 01:29:26,835 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 01:29:26,835 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 01:29:26,835 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 01:29:26,835 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 01:29:26,835 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 01:29:26,836 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:29:26,837 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 01:29:26,837 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 01:29:26,837 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 01:29:26,837 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 01:29:29,067 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:29:29,144 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 01:29:29,144 - wechat_backend.database - INFO - diagnosis_report_repository.py:629 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 01:29:29,145 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:29:29,146 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 01:29:29,146 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 01:29:29,156 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:29:29,157 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:29:29,161 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 01:29:29,604 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:29:29,605 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:29:29,612 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 01:29:29,614 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 01:29:29,615 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 01:29:29,616 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 01:29:29,617 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 01:29:29,619 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 01:29:29,619 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 01:29:29,621 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 01:29:29,622 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 01:29:29,622 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 01:29:29,622 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 01:29:29,624 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 01:29:29,625 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 01:29:29,626 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 01:29:29,627 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 01:29:29,629 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 01:29:29,629 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 01:29:29,630 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 01:29:29,631 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 01:29:29,633 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 01:29:29,634 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:29:29,635 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:29:29,636 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 01:29:29,636 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 01:29:29,636 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 01:29:29,637 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 01:29:29,637 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 01:29:29,637 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 01:29:29,639 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 01:29:29,639 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 01:29:29,640 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 01:29:29,641 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 01:29:29,641 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 01:29:29,641 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 01:29:29,641 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 01:29:29,641 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 01:29:29,642 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 01:29:29,642 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 01:29:29,642 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 01:29:29,642 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 01:29:29,642 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 01:29:29,642 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 01:29:29,643 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 01:29:29,643 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:29:29,643 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:29:29,643 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:29:29,643 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 01:29:29,643 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 01:29:29,644 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:29:29,644 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:29:29,644 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 01:29:29,645 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 01:29:29,645 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 01:29:29,645 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 01:29:29,645 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 01:29:29,645 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 01:29:29,646 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 01:29:29,646 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 01:29:29,646 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 01:29:29,646 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 01:29:29,646 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 01:29:29,646 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 01:29:29,646 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 01:29:29,646 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:29:29,646 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:29:29,646 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 01:29:29,647 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:29:29,647 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:29:29,648 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 01:29:29,648 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 01:29:29,649 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 01:29:29,649 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 01:29:29,649 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 01:29:29,649 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 01:29:29,649 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 01:29:29,649 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 01:29:29,651 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PWD = /Users/sgl/PycharmProjects/PythonProject
2026-02-26 01:29:29,651 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：FLASK_ENV = development
2026-02-26 01:31:30,650 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:31:30,651 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 01:31:30,652 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:31:30,653 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 01:31:30,694 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 01:31:30,698 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 01:31:30,699 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 01:31:30,699 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 01:31:30,703 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 01:31:30,703 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 01:31:30,703 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 01:31:30,703 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 01:31:30,704 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 01:31:30,705 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 01:31:30,705 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 01:31:30,705 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 01:31:30,705 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 01:31:30,705 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 01:31:30,705 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 01:31:30,705 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 01:31:30,705 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 01:31:30,705 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 01:31:30,705 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:31:30,705 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 01:31:30,705 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:31:30,706 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 01:31:30,706 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 01:31:30,706 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 01:31:30,706 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 01:31:32,824 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:31:32,904 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 01:31:32,905 - wechat_backend.database - INFO - diagnosis_report_repository.py:648 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 01:31:32,908 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:31:32,908 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 01:31:32,909 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 01:31:32,922 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:31:32,924 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:31:32,928 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 01:31:33,397 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:31:33,397 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:31:33,404 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 01:31:33,405 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 01:31:33,407 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 01:31:33,409 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 01:31:33,410 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 01:31:33,414 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 01:31:33,415 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 01:31:33,417 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 01:31:33,417 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 01:31:33,418 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 01:31:33,418 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 01:31:33,419 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 01:31:33,420 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 01:31:33,421 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 01:31:33,422 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 01:31:33,424 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 01:31:33,424 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 01:31:33,425 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 01:31:33,427 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 01:31:33,428 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 01:31:33,429 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:31:33,431 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:31:33,432 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 01:31:33,432 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 01:31:33,432 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 01:31:33,432 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 01:31:33,432 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 01:31:33,432 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 01:31:33,434 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 01:31:33,434 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 01:31:33,435 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 01:31:33,436 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 01:31:33,436 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 01:31:33,436 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 01:31:33,436 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 01:31:33,436 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 01:31:33,437 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 01:31:33,437 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 01:31:33,437 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 01:31:33,437 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 01:31:33,437 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 01:31:33,437 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 01:31:33,438 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 01:31:33,438 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:31:33,438 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:31:33,438 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:31:33,438 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 01:31:33,438 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 01:31:33,439 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:31:33,439 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:31:33,439 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 01:31:33,440 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 01:31:33,440 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 01:31:33,440 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 01:31:33,440 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 01:31:33,440 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 01:31:33,441 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 01:31:33,441 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 01:31:33,441 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 01:31:33,441 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 01:31:33,441 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 01:31:33,441 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 01:31:33,441 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 01:31:33,441 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:31:33,441 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:31:33,441 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 01:31:33,441 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:31:33,442 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:31:33,443 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 01:31:33,443 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 01:31:33,443 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 01:31:33,443 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 01:31:33,444 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 01:31:33,444 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 01:31:33,444 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 01:31:33,443 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 01:31:33,446 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：ARK_API_KEY = 2a376e32-8877-4df8-9865-7eb3e99c9f92
2026-02-26 01:31:33,446 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：ARK_API_KEY, 将影响后续 AI 调用
2026-02-26 01:31:33,446 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：HOMEBREW_REPOSITORY = /opt/homebrew
2026-02-26 01:31:33,446 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：HOMEBREW_CELLAR = /opt/homebrew/Cellar
2026-02-26 01:31:33,446 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PATH = /Users/sgl/PycharmProjects/PythonProject/.venv/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/Library/Frameworks/Python.framework/Versions/3.14/bin:/Applications/极空间.app/Contents/Resources/app.asar.unpacked/bin/platform-tools
2026-02-26 01:31:33,447 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：INFOPATH = /opt/homebrew/share/info:
2026-02-26 01:32:33,554 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:32:33,556 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 01:32:33,557 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:32:33,558 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 01:32:33,603 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 01:32:33,609 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 01:32:33,609 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 01:32:33,610 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 01:32:33,614 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 01:32:33,614 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 01:32:33,614 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 01:32:33,615 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 01:32:33,615 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 01:32:33,615 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 01:32:33,615 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 01:32:33,615 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 01:32:33,615 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 01:32:33,615 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 01:32:33,615 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 01:32:33,615 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 01:32:33,615 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 01:32:33,615 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 01:32:33,616 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:32:33,617 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 01:32:33,617 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 01:32:33,617 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 01:32:33,617 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 01:32:35,731 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:32:35,818 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 01:32:35,819 - wechat_backend.database - INFO - diagnosis_report_repository.py:648 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 01:32:35,820 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:32:35,820 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 01:32:35,820 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 01:32:35,832 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:32:35,833 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:32:35,837 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 01:32:36,290 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:32:36,291 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:32:36,298 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 01:32:36,299 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 01:32:36,301 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 01:32:36,302 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 01:32:36,303 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 01:32:36,305 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 01:32:36,305 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 01:32:36,308 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 01:32:36,308 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 01:32:36,309 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 01:32:36,309 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 01:32:36,310 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 01:32:36,312 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 01:32:36,312 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 01:32:36,314 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 01:32:36,316 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 01:32:36,316 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 01:32:36,317 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 01:32:36,318 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 01:32:36,319 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 01:32:36,320 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:32:36,322 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:32:36,323 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 01:32:36,323 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 01:32:36,323 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 01:32:36,323 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 01:32:36,323 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 01:32:36,323 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 01:32:36,325 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 01:32:36,325 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 01:32:36,326 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 01:32:36,327 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 01:32:36,327 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 01:32:36,327 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 01:32:36,328 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 01:32:36,328 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 01:32:36,328 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 01:32:36,328 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 01:32:36,328 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 01:32:36,328 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 01:32:36,329 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 01:32:36,329 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 01:32:36,329 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 01:32:36,329 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:32:36,329 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:32:36,329 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:32:36,330 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 01:32:36,330 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 01:32:36,330 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:32:36,330 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:32:36,330 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 01:32:36,331 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 01:32:36,332 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 01:32:36,332 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 01:32:36,332 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 01:32:36,332 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 01:32:36,332 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 01:32:36,332 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 01:32:36,332 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 01:32:36,332 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 01:32:36,332 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 01:32:36,332 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 01:32:36,332 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 01:32:36,333 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:32:36,333 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:32:36,333 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 01:32:36,333 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:32:36,334 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:32:36,335 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 01:32:36,335 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 01:32:36,335 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 01:32:36,335 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 01:32:36,336 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 01:32:36,336 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 01:32:36,336 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 01:32:36,335 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 01:32:36,338 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYTHONUNBUFFERED = 1
2026-02-26 01:32:36,338 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：COMMAND_MODE = unix2003
2026-02-26 01:32:36,338 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：INFOPATH = /opt/homebrew/share/info:
2026-02-26 01:36:36,964 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:36:36,966 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 01:36:36,967 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:36:36,967 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 01:36:37,010 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 01:36:37,015 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 01:36:37,016 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 01:36:37,017 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 01:36:37,020 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 01:36:37,021 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 01:36:37,021 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 01:36:37,021 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 01:36:37,022 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 01:36:37,023 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 01:36:37,023 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 01:36:37,023 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 01:36:37,023 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 01:36:37,023 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:36:37,023 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 01:36:37,023 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:36:37,024 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 01:36:37,024 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 01:36:37,024 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 01:36:37,024 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 01:36:39,173 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:36:39,248 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 01:36:39,249 - wechat_backend.database - INFO - diagnosis_report_repository.py:664 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 01:36:39,250 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:36:39,251 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 01:36:39,251 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 01:36:39,261 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:36:39,262 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:36:39,265 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 01:36:39,713 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:36:39,713 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:36:39,720 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 01:36:39,721 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 01:36:39,723 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 01:36:39,724 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 01:36:39,725 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 01:36:39,727 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 01:36:39,727 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 01:36:39,729 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 01:36:39,730 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 01:36:39,730 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 01:36:39,730 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 01:36:39,731 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 01:36:39,732 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 01:36:39,734 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 01:36:39,735 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 01:36:39,737 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 01:36:39,737 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 01:36:39,738 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 01:36:39,739 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 01:36:39,741 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 01:36:39,742 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:36:39,743 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:36:39,744 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 01:36:39,745 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 01:36:39,745 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 01:36:39,744 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 01:36:39,744 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 01:36:39,745 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 01:36:39,747 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 01:36:39,747 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 01:36:39,748 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 01:36:39,750 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 01:36:39,750 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 01:36:39,750 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 01:36:39,750 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 01:36:39,750 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 01:36:39,751 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 01:36:39,751 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 01:36:39,751 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 01:36:39,751 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 01:36:39,752 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 01:36:39,752 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 01:36:39,752 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 01:36:39,752 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:36:39,752 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:36:39,753 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:36:39,753 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 01:36:39,753 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 01:36:39,753 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:36:39,754 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:36:39,754 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 01:36:39,755 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 01:36:39,755 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 01:36:39,755 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 01:36:39,755 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 01:36:39,755 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 01:36:39,755 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 01:36:39,755 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 01:36:39,756 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 01:36:39,756 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 01:36:39,756 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 01:36:39,756 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 01:36:39,756 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 01:36:39,756 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:36:39,756 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:36:39,756 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 01:36:39,756 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:36:39,757 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:36:39,757 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 01:36:39,757 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 01:36:39,758 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 01:36:39,758 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 01:36:39,759 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 01:36:39,758 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 01:36:39,759 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 01:36:39,759 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 01:36:39,760 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYCHARM_UUID = e4e46fa1-c631-332e-af73-42d0eba466b4
2026-02-26 01:36:39,761 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DOUBAO_AUTO_SELECT_MODEL = true
2026-02-26 01:36:39,761 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DOUBAO_AUTO_SELECT_MODEL, 将影响后续 AI 调用
2026-02-26 01:36:39,761 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：TMPDIR = /var/folders/m8/9lzgk90s02z276bclcvcvkg40000gn/T/
2026-02-26 01:44:47,128 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:44:47,132 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 01:44:47,133 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:44:47,134 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 01:44:47,187 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 01:44:47,193 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 01:44:47,193 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 01:44:47,194 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 01:44:47,198 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 01:44:47,198 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 01:44:47,199 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 01:44:47,199 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 01:44:47,199 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 01:44:47,200 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:44:47,202 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 01:44:47,202 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 01:44:47,202 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 01:44:47,202 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 01:44:49,356 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:44:49,429 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 01:44:49,429 - wechat_backend.database - INFO - diagnosis_report_repository.py:664 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 01:44:49,430 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:44:49,431 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 01:44:49,431 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 01:44:49,440 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:44:49,442 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:44:49,446 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 01:44:49,898 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:44:49,899 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:44:49,905 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 01:44:49,906 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 01:44:49,908 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 01:44:49,909 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 01:44:49,910 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 01:44:49,911 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 01:44:49,912 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 01:44:49,914 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 01:44:49,915 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 01:44:49,915 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 01:44:49,915 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 01:44:49,917 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 01:44:49,918 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 01:44:49,919 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 01:44:49,920 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 01:44:49,923 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 01:44:49,923 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 01:44:49,923 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 01:44:49,925 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 01:44:49,926 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 01:44:49,927 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:44:49,928 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:44:49,929 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 01:44:49,929 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 01:44:49,930 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 01:44:49,929 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 01:44:49,930 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 01:44:49,930 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 01:44:49,932 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 01:44:49,932 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 01:44:49,932 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 01:44:49,933 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 01:44:49,933 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 01:44:49,934 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 01:44:49,934 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 01:44:49,934 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 01:44:49,934 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 01:44:49,934 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 01:44:49,934 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 01:44:49,935 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 01:44:49,935 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 01:44:49,935 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 01:44:49,935 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 01:44:49,935 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:44:49,936 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:44:49,936 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:44:49,936 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 01:44:49,936 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 01:44:49,936 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:44:49,937 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:44:49,937 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 01:44:49,938 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 01:44:49,938 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 01:44:49,938 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 01:44:49,938 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 01:44:49,938 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 01:44:49,939 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 01:44:49,939 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 01:44:49,939 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 01:44:49,939 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 01:44:49,939 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 01:44:49,939 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 01:44:49,939 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 01:44:49,939 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:44:49,939 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:44:49,939 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 01:44:49,939 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:44:49,940 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:44:49,941 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 01:44:49,941 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 01:44:49,941 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 01:44:49,941 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 01:44:49,942 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 01:44:49,942 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 01:44:49,942 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 01:44:49,941 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 01:44:49,944 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：LC_CTYPE = zh_CN.UTF-8
2026-02-26 01:44:49,944 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：FLASK_ENV = development
2026-02-26 01:44:49,944 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SSH_AUTH_SOCK = /private/tmp/com.apple.launchd.WKPtXGnv4m/Listeners
2026-02-26 01:45:51,138 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:45:51,140 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 01:45:51,141 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:45:51,142 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 01:45:51,186 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 01:45:51,191 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 01:45:51,191 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 01:45:51,192 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 01:45:51,196 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 01:45:51,196 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 01:45:51,196 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 01:45:51,197 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 01:45:51,197 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 01:45:51,197 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 01:45:51,198 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:45:51,199 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 01:45:51,199 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 01:45:51,199 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 01:45:51,199 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 01:45:53,316 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:45:53,389 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 01:45:53,389 - wechat_backend.database - INFO - diagnosis_report_repository.py:664 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 01:45:53,391 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:45:53,391 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 01:45:53,392 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 01:45:53,402 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:45:53,403 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:45:53,406 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 01:45:53,857 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:45:53,857 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:45:53,864 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 01:45:53,866 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 01:45:53,867 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 01:45:53,869 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 01:45:53,870 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 01:45:53,872 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 01:45:53,872 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 01:45:53,875 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 01:45:53,875 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 01:45:53,876 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 01:45:53,876 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 01:45:53,877 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 01:45:53,878 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 01:45:53,879 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 01:45:53,881 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 01:45:53,883 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 01:45:53,883 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 01:45:53,884 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 01:45:53,885 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 01:45:53,887 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 01:45:53,888 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:45:53,889 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:45:53,890 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 01:45:53,890 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 01:45:53,890 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 01:45:53,891 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 01:45:53,891 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 01:45:53,891 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 01:45:53,892 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 01:45:53,892 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 01:45:53,893 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 01:45:53,894 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 01:45:53,894 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 01:45:53,894 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 01:45:53,895 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 01:45:53,895 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 01:45:53,895 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 01:45:53,895 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 01:45:53,895 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 01:45:53,896 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 01:45:53,896 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 01:45:53,896 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 01:45:53,896 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 01:45:53,896 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:45:53,897 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:45:53,897 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:45:53,897 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 01:45:53,897 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 01:45:53,898 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:45:53,898 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:45:53,898 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 01:45:53,899 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 01:45:53,899 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 01:45:53,899 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 01:45:53,899 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 01:45:53,899 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 01:45:53,900 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 01:45:53,900 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 01:45:53,900 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 01:45:53,900 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 01:45:53,900 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 01:45:53,900 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 01:45:53,900 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 01:45:53,900 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:45:53,900 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:45:53,900 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 01:45:53,900 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:45:53,901 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:45:53,902 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 01:45:53,902 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 01:45:53,903 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 01:45:53,903 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 01:45:53,904 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 01:45:53,904 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 01:45:53,904 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 01:45:53,903 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 01:47:07,100 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:47:07,102 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 01:47:07,103 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:47:07,104 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 01:47:07,151 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 01:47:07,155 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 01:47:07,156 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 01:47:07,157 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 01:47:07,161 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 01:47:07,161 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 01:47:07,161 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 01:47:07,162 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 01:47:07,162 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 01:47:07,162 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 01:47:07,163 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:47:07,164 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 01:47:07,164 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 01:47:07,164 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 01:47:07,164 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 01:47:09,335 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:47:09,426 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 01:47:09,428 - wechat_backend.database - INFO - diagnosis_report_repository.py:664 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 01:47:09,429 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:47:09,433 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 01:47:09,438 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 01:47:09,457 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:47:09,463 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:47:09,470 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 01:47:09,915 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:47:09,916 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:47:09,923 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 01:47:09,924 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 01:47:09,926 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 01:47:09,927 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 01:47:09,928 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 01:47:09,930 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 01:47:09,930 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 01:47:09,937 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 01:47:09,940 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 01:47:09,941 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 01:47:09,946 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 01:47:09,948 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 01:47:09,953 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 01:47:09,955 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 01:47:09,956 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 01:47:09,958 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 01:47:09,958 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 01:47:09,959 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 01:47:09,961 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 01:47:09,963 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 01:47:09,963 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:47:09,965 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:47:09,966 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 01:47:09,966 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 01:47:09,967 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 01:47:09,966 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 01:47:09,968 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 01:47:09,968 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 01:47:09,969 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 01:47:09,969 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 01:47:09,969 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 01:47:09,971 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 01:47:09,971 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 01:47:09,971 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 01:47:09,971 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 01:47:09,972 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 01:47:09,972 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 01:47:09,972 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 01:47:09,972 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 01:47:09,972 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 01:47:09,972 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 01:47:09,973 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 01:47:09,973 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 01:47:09,973 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:47:09,973 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:47:09,973 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:47:09,973 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 01:47:09,974 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 01:47:09,974 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:47:09,974 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:47:09,974 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 01:47:09,975 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 01:47:09,975 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 01:47:09,975 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 01:47:09,975 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 01:47:09,975 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 01:47:09,976 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 01:47:09,976 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 01:47:09,976 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 01:47:09,976 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 01:47:09,976 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 01:47:09,976 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 01:47:09,976 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 01:47:09,976 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:47:09,977 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:47:09,977 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 01:47:09,977 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:47:09,977 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:47:09,978 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 01:47:09,978 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 01:47:09,979 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 01:47:09,979 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 01:47:09,979 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 01:47:09,979 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 01:47:09,979 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 01:47:09,979 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 01:47:09,981 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：KMP_INIT_AT_FORK = FALSE
2026-02-26 01:50:40,919 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:50:40,921 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 01:50:40,922 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 01:50:40,923 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 01:50:40,984 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 01:50:40,988 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 01:50:40,989 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 01:50:40,989 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 01:50:40,993 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 01:50:40,993 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 01:50:40,994 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 01:50:40,994 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 01:50:40,994 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 01:50:40,995 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 01:50:40,996 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 01:50:40,996 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 01:50:40,996 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 01:50:40,996 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 01:50:43,123 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:50:43,195 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 01:50:43,196 - wechat_backend.database - INFO - diagnosis_report_repository.py:664 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 01:50:43,197 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:50:43,197 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 01:50:43,197 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 01:50:43,207 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:50:43,208 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:50:43,212 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 01:50:43,660 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 01:50:43,661 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 01:50:43,667 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 01:50:43,669 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 01:50:43,670 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 01:50:43,671 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 01:50:43,672 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 01:50:43,674 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 01:50:43,674 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 01:50:43,676 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 01:50:43,677 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 01:50:43,677 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 01:50:43,677 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 01:50:43,679 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 01:50:43,680 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 01:50:43,681 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 01:50:43,682 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 01:50:43,684 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 01:50:43,684 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 01:50:43,685 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 01:50:43,686 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 01:50:43,688 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 01:50:43,688 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:50:43,690 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 01:50:43,691 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 01:50:43,691 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 01:50:43,691 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 01:50:43,691 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 01:50:43,691 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 01:50:43,691 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 01:50:43,693 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 01:50:43,693 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 01:50:43,694 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 01:50:43,696 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 01:50:43,696 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 01:50:43,696 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 01:50:43,696 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 01:50:43,697 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 01:50:43,697 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 01:50:43,697 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 01:50:43,697 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 01:50:43,697 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 01:50:43,698 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 01:50:43,698 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 01:50:43,698 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 01:50:43,698 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:50:43,698 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:50:43,698 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 01:50:43,699 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 01:50:43,699 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 01:50:43,699 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:50:43,699 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 01:50:43,699 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 01:50:43,700 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 01:50:43,700 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 01:50:43,700 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 01:50:43,700 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 01:50:43,700 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 01:50:43,701 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 01:50:43,701 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 01:50:43,701 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 01:50:43,701 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 01:50:43,701 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 01:50:43,701 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 01:50:43,701 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 01:50:43,701 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:50:43,701 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 01:50:43,701 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 01:50:43,701 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 01:50:43,702 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 01:50:43,703 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 01:50:43,703 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 01:50:43,703 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 01:50:43,703 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 01:50:43,704 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 01:50:43,704 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 01:50:43,704 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 01:50:43,704 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 01:50:43,706 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SECRET_KEY = sgl@810SGl
2026-02-26 01:50:43,706 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PWD = /Users/sgl/PycharmProjects/PythonProject
2026-02-26 01:50:43,706 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：TMPDIR = /var/folders/m8/9lzgk90s02z276bclcvcvkg40000gn/T/
2026-02-26 01:50:43,706 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DOUBAO_MODEL_PRIORITY_2 = doubao-seed-2-0-mini-260215
2026-02-26 01:50:43,706 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DOUBAO_MODEL_PRIORITY_2, 将影响后续 AI 调用
2026-02-26 01:50:43,706 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：OLDPWD = /
2026-02-26 02:36:01,038 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 02:36:01,043 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 02:36:01,047 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 02:36:01,048 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 02:36:01,134 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 02:36:01,139 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 02:36:01,140 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 02:36:01,140 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 02:36:01,163 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 02:36:01,163 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 02:36:01,164 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 02:36:01,164 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 02:36:01,164 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 02:36:01,164 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 02:36:01,164 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 02:36:01,164 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 02:36:01,164 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 02:36:01,164 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 02:36:01,164 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 02:36:01,164 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 02:36:01,164 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 02:36:01,164 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 02:36:01,165 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 02:36:01,166 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 02:36:01,166 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 02:36:01,166 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 02:36:01,166 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 02:36:04,033 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 02:36:04,163 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 02:36:04,164 - wechat_backend.database - INFO - diagnosis_report_repository.py:664 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 02:36:04,165 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 02:36:04,165 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 02:36:04,166 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 02:36:04,177 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 02:36:04,178 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 02:36:04,181 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 02:36:04,632 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 02:36:04,633 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 02:36:04,641 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 02:36:04,642 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 02:36:04,644 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 02:36:04,645 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 02:36:04,646 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 02:36:04,647 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 02:36:04,648 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 02:36:04,650 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 02:36:04,651 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 02:36:04,651 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 02:36:04,652 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 02:36:04,653 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 02:36:04,655 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 02:36:04,656 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 02:36:04,657 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 02:36:04,658 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 02:36:04,659 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 02:36:04,659 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 02:36:04,661 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 02:36:04,663 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 02:36:04,664 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 02:36:04,665 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 02:36:04,666 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 02:36:04,666 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 02:36:04,667 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 02:36:04,666 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 02:36:04,667 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 02:36:04,666 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 02:36:04,668 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 02:36:04,668 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 02:36:04,669 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 02:36:04,670 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 02:36:04,670 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 02:36:04,670 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 02:36:04,671 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 02:36:04,671 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 02:36:04,671 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 02:36:04,671 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 02:36:04,672 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 02:36:04,672 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 02:36:04,672 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 02:36:04,672 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 02:36:04,672 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 02:36:04,673 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 02:36:04,673 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 02:36:04,673 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 02:36:04,673 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 02:36:04,673 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 02:36:04,673 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 02:36:04,673 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 02:36:04,674 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 02:36:04,675 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 02:36:04,675 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 02:36:04,675 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 02:36:04,675 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 02:36:04,675 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 02:36:04,675 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 02:36:04,676 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 02:36:04,676 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 02:36:04,676 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 02:36:04,676 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 02:36:04,676 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 02:36:04,676 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 02:36:04,676 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 02:36:04,676 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 02:36:04,676 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 02:36:04,676 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 02:36:04,677 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 02:36:04,678 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 02:36:04,678 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 02:36:04,679 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 02:36:04,679 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 02:36:04,680 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 02:36:04,680 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 02:36:04,680 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 02:36:04,679 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 02:36:04,681 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYTHONUNBUFFERED = 1
2026-02-26 02:36:04,681 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SHELL = /bin/zsh
2026-02-26 02:36:04,681 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SECRET_KEY = sgl@810SGl
2026-02-26 02:36:04,681 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：COMMAND_MODE = unix2003
2026-02-26 02:36:04,681 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：HOMEBREW_REPOSITORY = /opt/homebrew
2026-02-26 02:36:04,681 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：HOMEBREW_PREFIX = /opt/homebrew
2026-02-26 02:36:04,681 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SSH_AUTH_SOCK = /private/tmp/com.apple.launchd.WKPtXGnv4m/Listeners
2026-02-26 02:36:04,682 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DOUBAO_MODEL_PRIORITY_2 = doubao-seed-2-0-mini-260215
2026-02-26 02:36:04,682 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DOUBAO_MODEL_PRIORITY_2, 将影响后续 AI 调用
2026-02-26 02:36:04,924 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 02:36:04,924 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 02:36:04,925 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 02:36:04,925 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 02:36:04,951 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 02:36:04,954 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 02:36:04,955 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 02:36:04,955 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 02:36:04,958 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 02:36:04,958 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 02:36:04,958 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 02:36:04,958 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 02:36:04,959 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 02:36:04,960 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 02:36:04,960 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 02:36:04,960 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 02:36:04,960 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 02:36:06,879 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 02:36:06,929 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 02:36:06,929 - wechat_backend.database - INFO - diagnosis_report_repository.py:664 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 02:36:06,930 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 02:36:06,930 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 02:36:06,930 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 02:36:06,936 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 02:36:06,938 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 02:36:06,940 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 02:36:07,373 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 02:36:07,374 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 02:36:07,379 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 02:36:07,379 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 02:36:07,381 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 02:36:07,382 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 02:36:07,383 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 02:36:07,384 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 02:36:07,384 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 02:36:07,385 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 02:36:07,386 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 02:36:07,387 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 02:36:07,387 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 02:36:07,388 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 02:36:07,389 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 02:36:07,389 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 02:36:07,390 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 02:36:07,391 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 02:36:07,391 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 02:36:07,392 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 02:36:07,393 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 02:36:07,393 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 02:36:07,394 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 02:36:07,396 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 02:36:07,396 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 02:36:07,396 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 02:36:07,396 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 02:36:07,397 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 02:36:07,397 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 02:36:07,397 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 02:36:07,398 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 02:36:07,398 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 02:36:07,399 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 02:36:07,400 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 02:36:07,400 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 02:36:07,400 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 02:36:07,400 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 02:36:07,400 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 02:36:07,401 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 02:36:07,401 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 02:36:07,401 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 02:36:07,401 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 02:36:07,402 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 02:36:07,402 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 02:36:07,402 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 02:36:07,402 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 02:36:07,402 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 02:36:07,403 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 02:36:07,403 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 02:36:07,403 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 02:36:07,403 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 02:36:07,403 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 02:36:07,403 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 02:36:07,404 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 02:36:07,404 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 02:36:07,404 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 02:36:07,404 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 02:36:07,404 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 02:36:07,404 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 02:36:07,404 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 02:36:07,404 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 02:36:07,404 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 02:36:07,404 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 02:36:07,404 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 02:36:07,404 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 02:36:07,405 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 02:36:07,405 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 02:36:07,405 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 02:36:07,405 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 02:36:07,405 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 02:36:07,406 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 02:36:07,406 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 02:36:07,407 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 02:36:07,407 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 02:36:07,408 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 02:36:07,408 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 02:36:07,408 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 02:36:07,407 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 02:36:07,410 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SCRCPY_SERVER_PATH = /Applications/极空间.app/Contents/Resources/app.asar.unpacked/bin/platform-tools/scrcpy-server
2026-02-26 02:36:07,410 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：GEMINI_API_KEY = AIzaSyCOeSqGt-YluHUQkdStzc-RVkufFKBldCE
2026-02-26 03:02:21,909 - wechat_backend.database - INFO - database_core.py:57 - init_db() - 初始化数据库于 /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 03:02:21,923 - wechat_backend.database - INFO - database_core.py:171 - init_db() - 数据库表结构初始化完成
2026-02-26 03:02:21,925 - wechat_backend.database - INFO - models.py:126 - init_task_status_db() - Initializing task status database at /Users/sgl/PycharmProjects/PythonProject/backend_python/database.db
2026-02-26 03:02:21,926 - wechat_backend.database - INFO - models.py:182 - init_task_status_db() - Task status database initialization completed
2026-02-26 03:02:22,184 - wechat_backend.api - INFO - factory.py:8 - <module>() - === Starting AI Adapter Imports ===
2026-02-26 03:02:22,228 - wechat_backend.api - INFO - factory.py:13 - <module>() - Successfully imported DeepSeekAdapter
2026-02-26 03:02:22,233 - wechat_backend.api - INFO - factory.py:22 - <module>() - Successfully imported DeepSeekR1Adapter
2026-02-26 03:02:22,238 - wechat_backend.api - INFO - factory.py:31 - <module>() - Successfully imported QwenAdapter
2026-02-26 03:02:22,263 - wechat_backend.api - INFO - factory.py:40 - <module>() - Successfully imported DoubaoAdapter
2026-02-26 03:02:22,266 - wechat_backend.api - INFO - factory.py:50 - <module>() - Successfully imported DoubaoPriorityAdapter
2026-02-26 03:02:22,269 - wechat_backend.api - INFO - factory.py:59 - <module>() - Successfully imported ChatGPTAdapter
2026-02-26 03:02:22,271 - wechat_backend.api - INFO - factory.py:68 - <module>() - Successfully imported GeminiAdapter
2026-02-26 03:02:22,275 - wechat_backend.api - INFO - factory.py:77 - <module>() - Successfully imported ZhipuAdapter
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:86 - <module>() - Successfully imported ErnieBotAdapter
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:93 - <module>() - === Completed AI Adapter Imports ===
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:261 - <module>() - === Adapter Registration Debug Info ===
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:262 - <module>() - DeepSeekAdapter status: True
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:263 - <module>() - DeepSeekR1Adapter status: True
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:264 - <module>() - QwenAdapter status: True
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:265 - <module>() - DoubaoAdapter status: True
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:266 - <module>() - ChatGPTAdapter status: True
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:267 - <module>() - GeminiAdapter status: True
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:268 - <module>() - ZhipuAdapter status: True
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:269 - <module>() - ErnieBotAdapter status: True
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:273 - <module>() - Registering DeepSeekAdapter
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseek
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:279 - <module>() - Registering DeepSeekR1Adapter
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for deepseekr1
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:285 - <module>() - Registering QwenAdapter
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for qwen
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:291 - <module>() - Registering DoubaoAdapter
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for doubao
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:297 - <module>() - Registering ChatGPTAdapter
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for chatgpt
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:303 - <module>() - Registering GeminiAdapter
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for gemini
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:309 - <module>() - Registering ZhipuAdapter
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for zhipu
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:315 - <module>() - Registering ErnieBotAdapter
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:167 - register() - Registered adapter for wenxin
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:321 - <module>() - Final registered models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:322 - <module>() - === End Adapter Registration Debug Info ===
2026-02-26 03:02:22,276 - wechat_backend.api - INFO - factory.py:325 - <module>() - Current Registered Models: ['deepseek', 'deepseekr1', 'qwen', 'doubao', 'chatgpt', 'gemini', 'zhipu', 'wenxin']
2026-02-26 03:02:22,285 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: doubao
2026-02-26 03:02:22,286 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: deepseek
2026-02-26 03:02:22,286 - wechat_backend.api - INFO - provider_factory.py:30 - register() - Registered provider for platform: qwen
2026-02-26 03:02:22,286 - wechat_backend.api - INFO - provider_factory.py:73 - <module>() - ProviderFactory initialized with default providers
2026-02-26 03:02:26,562 - wechat_backend.api - INFO - sse_service.py:299 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 03:02:26,879 - wechat_backend.database - INFO - database_connection_pool.py:53 - __init__() - 数据库连接池初始化：max_connections=10
2026-02-26 03:02:26,880 - wechat_backend.database - INFO - diagnosis_report_repository.py:664 - init_database_tables() - ✅ 数据库表已存在，跳过初始化
2026-02-26 03:02:26,883 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'webhook_dispatcher' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 03:02:26,883 - wechat_backend.api - INFO - workflow_manager.py:175 - _start_background_processor() - Workflow background processor started
2026-02-26 03:02:26,883 - wechat_backend.api - INFO - workflow_manager.py:208 - _start_retry_processor() - Workflow retry processor started
2026-02-26 03:02:26,920 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 03:02:26,921 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 03:02:26,927 - wechat_backend.api - INFO - semantic_analyzer.py:22 - __init__() - SemanticAnalyzer initialized
2026-02-26 03:02:27,405 - apscheduler.scheduler - INFO - base.py:214 - start() - Scheduler started
2026-02-26 03:02:27,408 - wechat_backend.api - INFO - cruise_controller.py:53 - _init_scheduler() - Cruise controller scheduler initialized and started
2026-02-26 03:02:27,437 - wechat_backend.api - INFO - diagnosis_api.py:211 - register_diagnosis_api() - ✅ 诊断 API 注册完成
2026-02-26 03:02:27,439 - wechat_backend.api - INFO - views_geo_analysis.py:394 - init_geo_analysis_routes() - GEO Analysis API routes registered
2026-02-26 03:02:27,443 - wechat_backend.api - INFO - views_p1_analysis.py:585 - init_p1_analysis_routes() - P1 Analysis API routes registered
2026-02-26 03:02:27,445 - wechat_backend.api - INFO - views_p2_optimization.py:430 - init_p2_optimization_routes() - P2 Optimization API routes registered
2026-02-26 03:02:27,447 - wechat_backend.api - INFO - views_permission.py:551 - init_permission_routes() - Permission API routes registered
2026-02-26 03:02:27,458 - wechat_backend.api - INFO - views_permission.py:576 - init_permission_db() - Permission database tables initialized
2026-02-26 03:02:27,460 - wechat_backend.api - INFO - views_admin.py:28 - init_admin_routes() - Initializing admin routes...
2026-02-26 03:02:27,469 - wechat_backend.api - INFO - admin_user_management.py:229 - init_user_management_routes() - User management routes initialized
2026-02-26 03:02:27,470 - wechat_backend.api - INFO - admin_test_management.py:249 - init_test_management_routes() - Test management routes initialized
2026-02-26 03:02:27,470 - wechat_backend.api - INFO - admin_system.py:236 - init_system_management_routes() - System management routes initialized
2026-02-26 03:02:27,470 - wechat_backend.api - INFO - views_admin.py:43 - init_admin_routes() - Admin routes initialized successfully
2026-02-26 03:02:27,472 - wechat_backend.api - INFO - views_analytics.py:579 - init_analytics_routes() - Analytics routes initialized
2026-02-26 03:02:27,476 - wechat_backend.database - INFO - audit_logs.py:60 - init_audit_logs_table() - Audit logs table initialized
2026-02-26 03:02:27,477 - wechat_backend.api - INFO - views_audit.py:279 - init_audit_routes() - Audit routes initialized
2026-02-26 03:02:27,481 - wechat_backend.api - INFO - views_intelligence.py:488 - register_blueprints() - Intelligence Blueprint registered
2026-02-26 03:02:27,493 - wechat_backend.api - INFO - sync_storage.py:102 - _init_tables() - 同步数据存储表初始化完成
2026-02-26 03:02:27,494 - wechat_backend.api - INFO - sync_storage.py:411 - init_sync_storage() - 同步存储初始化完成
2026-02-26 03:02:27,495 - wechat_backend.api - INFO - views_sync.py:322 - register_blueprints() - Sync Blueprint registered
2026-02-26 03:02:27,497 - wechat_backend.api - INFO - views_analytics_behavior.py:574 - register_blueprints() - Analytics Blueprint registered
2026-02-26 03:02:27,500 - wechat_backend.api - INFO - views_audit_full.py:707 - register_blueprints() - Audit Blueprint registered
2026-02-26 03:02:27,502 - wechat_backend.api - INFO - views_pdf_export.py:328 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 03:02:27,505 - wechat_backend.api - INFO - views_pdf_export_v2.py:330 - register_blueprints() - PDF Export Blueprint registered
2026-02-26 03:02:27,509 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-0 started
2026-02-26 03:02:27,509 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-2 started
2026-02-26 03:02:27,509 - wechat_backend.api - INFO - async_export_service.py:34 - __init__() - AsyncExportService started with 4 workers
2026-02-26 03:02:27,509 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-1 started
2026-02-26 03:02:27,509 - wechat_backend.api - INFO - async_export_service.py:46 - _worker_loop() - ExportWorker-3 started
2026-02-26 03:02:27,509 - wechat_backend.api - INFO - async_export_service.py:294 - start_cleanup_thread() - Cleanup thread started (interval=1h, max_age=24h)
2026-02-26 03:02:27,515 - wechat_backend.api - INFO - api_cache.py:217 - __init__() - 持久化缓存初始化：/Users/sgl/PycharmProjects/PythonProject/backend_python/cache.db
2026-02-26 03:02:27,515 - wechat_backend.api - INFO - api_cache.py:408 - __init__() - 混合缓存初始化：L1=MemoryCache, L2=PersistentCache
2026-02-26 03:02:27,516 - wechat_backend.api - INFO - api_cache.py:781 - start_cache_maintenance() - 缓存维护任务已启动
2026-02-26 03:02:27,520 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_openid on users(openid)
2026-02-26 03:02:27,520 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_users_created_at on users(created_at)
2026-02-26 03:02:27,521 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id on test_records(user_id)
2026-02-26 03:02:27,521 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name on test_records(brand_name)
2026-02-26 03:02:27,521 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_test_date on test_records(test_date)
2026-02-26 03:02:27,521 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_overall_score on test_records(overall_score)
2026-02-26 03:02:27,521 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_user_id_test_date on test_records(user_id, test_date)
2026-02-26 03:02:27,521 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_test_records_brand_name_test_date on test_records(brand_name, test_date)
2026-02-26 03:02:27,522 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id on brand_test_results(task_id)
2026-02-26 03:02:27,522 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_brand_name on brand_test_results(brand_name)
2026-02-26 03:02:27,522 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_created_at on brand_test_results(created_at)
2026-02-26 03:02:27,522 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_brand_test_results_task_id_brand_name on brand_test_results(task_id, brand_name)
2026-02-26 03:02:27,522 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 03:02:27,523 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 03:02:27,523 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.audit_logs
2026-02-26 03:02:27,523 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_user_id on sync_results(user_id)
2026-02-26 03:02:27,523 - wechat_backend.api - INFO - query_optimizer.py:262 - create_index() - 索引创建成功：idx_sync_results_sync_timestamp on sync_results(sync_timestamp)
2026-02-26 03:02:27,523 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 03:02:27,523 - wechat_backend.api - ERROR - query_optimizer.py:272 - create_index() - 索引创建失败：no such table: main.cache_entries
2026-02-26 03:02:27,523 - wechat_backend.api - INFO - query_optimizer.py:514 - init_recommended_indexes() - 推荐索引初始化完成，创建 14 个索引
2026-02-26 03:02:27,531 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_error_rate
2026-02-26 03:02:27,531 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: slow_response_time
2026-02-26 03:02:27,531 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_request_frequency
2026-02-26 03:02:27,531 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: high_security_events
2026-02-26 03:02:27,531 - wechat_backend.monitoring.alert_system - INFO - alert_system.py:160 - add_alert() - 添加告警: service_down
2026-02-26 03:02:27,534 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: error_rate
2026-02-26 03:02:27,534 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: response_time
2026-02-26 03:02:27,534 - wechat_backend.api - INFO - alert_system.py:67 - add_condition() - Alert condition added: cpu_usage
2026-02-26 03:02:27,534 - wechat_backend.api - INFO - alert_system.py:139 - init_default_alerts() - Default alerts initialized
2026-02-26 03:02:27,534 - wechat_backend.api - INFO - alert_system.py:145 - start_alert_monitoring() - Alert monitoring started
2026-02-26 03:02:27,534 - wechat_backend.api - INFO - app.py:228 - warm_up_adapters() - Starting adapter warm-up...
2026-02-26 03:02:27,534 - wechat_backend.api - ERROR - factory.py:226 - create() - REGISTERED_MODELS: [<AIPlatformType.DEEPSEEK: 'deepseek'>, <AIPlatformType.DEEPSEEKR1: 'deepseekr1'>, <AIPlatformType.QWEN: 'qwen'>, <AIPlatformType.DOUBAO: 'doubao'>, <AIPlatformType.CHATGPT: 'chatgpt'>, <AIPlatformType.GEMINI: 'gemini'>, <AIPlatformType.ZHIPU: 'zhipu'>, <AIPlatformType.WENXIN: 'wenxin'>]
2026-02-26 03:02:27,534 - wechat_backend.api - INFO - factory.py:253 - create() - [Factory] 使用豆包优先级适配器，模型列表：['doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 03:02:27,534 - wechat_backend.api - INFO - doubao_priority_adapter.py:93 - _init_adapter() - [DoubaoPriority] 尝试初始化适配器，优先级模型列表：['ep-20260212000000-gd5tq', 'doubao-seed-1-8-251228', 'doubao-seed-2-0-mini-260215', 'doubao-seed-2-0-pro-260215', 'doubao-seed-2-0-lite-260215']
2026-02-26 03:02:27,534 - wechat_backend.api - INFO - doubao_priority_adapter.py:102 - _init_adapter() - [DoubaoPriority] 尝试模型 1/5: ep-20260212000000-gd5tq
2026-02-26 03:02:27,534 - wechat_backend.api - INFO - circuit_breaker.py:77 - __init__() - CircuitBreaker 'doubao_ep-20260212000000-gd5tq' initialized: threshold=3, recovery_timeout=30s, expected_exceptions=8
2026-02-26 03:02:27,536 - wechat_backend.api - INFO - sse_service_v2.py:351 - start_cleanup_thread() - [SSE] Cleanup thread started
2026-02-26 03:02:27,537 - wechat_backend.api - INFO - sse_service_v2.py:372 - register_sse_routes() - [SSE] Routes registered
2026-02-26 03:02:27,537 - wechat_backend - INFO - app.py:269 - <module>() - ✅ SSE 服务已启动
2026-02-26 03:02:27,540 - wechat_backend.api - INFO - hot_reload_config.py:111 - _check_reload() - [HotReloadConfig] 检测到配置文件变更，重新加载...
2026-02-26 03:02:27,541 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：CHATGPT_API_KEY = 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
2026-02-26 03:02:27,541 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SCRCPY_SERVER_PATH = /Applications/极空间.app/Contents/Resources/app.asar.unpacked/bin/platform-tools/scrcpy-server
2026-02-26 03:02:27,541 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：USER = sgl
2026-02-26 03:02:27,540 - wechat_backend.api - INFO - hot_reload_config.py:86 - _start_monitoring() - [HotReloadConfig] 监控线程已启动，检查间隔：30秒
2026-02-26 03:02:27,541 - wechat_backend.api - INFO - hot_reload_config.py:75 - __init__() - [HotReloadConfig] 初始化完成，监控文件：/Users/sgl/PycharmProjects/PythonProject/.env
2026-02-26 03:02:27,541 - wechat_backend.api - INFO - hot_reload_config.py:301 - register_config_routes() - [HotReloadConfig] 路由已注册
2026-02-26 03:02:27,541 - wechat_backend - INFO - app.py:296 - <module>() - ✅ 配置热更新已启动
2026-02-26 03:02:27,542 - wechat_backend - INFO - app.py:297 - <module>() - [HotReloadConfig] 路由已注册
2026-02-26 03:02:27,541 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DOUBAO_MODEL_PRIORITY_4 = doubao-seed-2-0-lite-260215
2026-02-26 03:02:27,542 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DOUBAO_MODEL_PRIORITY_4, 将影响后续 AI 调用
2026-02-26 03:02:27,542 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：FLASK_ENV = development
2026-02-26 03:02:27,542 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYTHONIOENCODING = UTF-8
2026-02-26 03:02:27,542 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：XPC_SERVICE_NAME = application.com.jetbrains.pycharm.31545211.35646164
2026-02-26 03:02:27,542 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：WECHAT_TOKEN = test12345
2026-02-26 03:02:27,542 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：WECHAT_APP_ID = wxfd3b695920a78e1b
2026-02-26 03:02:27,542 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYTHONUNBUFFERED = 1
2026-02-26 03:02:27,542 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：HOMEBREW_CELLAR = /opt/homebrew/Cellar
2026-02-26 03:02:27,542 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PS1 = (.venv) \h:\W \u\$ 
2026-02-26 03:02:27,542 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PATH = /Users/sgl/PycharmProjects/PythonProject/.venv/bin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin:/Library/Apple/usr/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/Library/Frameworks/Python.framework/Versions/3.14/bin:/Applications/极空间.app/Contents/Resources/app.asar.unpacked/bin/platform-tools
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：FLASK_DEBUG = 1
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：WERKZEUG_SERVER_FD = 18
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：OLDPWD = /
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：COMMAND_MODE = unix2003
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DEEPSEEK_API_KEY = sk-13908093890f46fb82c52a01c8dfc464
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DEEPSEEK_API_KEY, 将影响后续 AI 调用
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYCHARM_PROJECT_ID = 5e1491e9
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：HOME = /Users/sgl
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：GEMINI_API_KEY = AIzaSyCOeSqGt-YluHUQkdStzc-RVkufFKBldCE
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：GEMINI_API_KEY, 将影响后续 AI 调用
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：XPC_FLAGS = 0x0
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYCHARM_INTERACTIVE_PLOTS = 1
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SHELL = /bin/zsh
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DOUBAO_MODEL_PRIORITY_1 = doubao-seed-1-8-251228
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DOUBAO_MODEL_PRIORITY_1, 将影响后续 AI 调用
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：JUDGE_LLM_API_KEY = sk-13908093890f46fb82c52a01c8dfc464
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：JUDGE_LLM_API_KEY, 将影响后续 AI 调用
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DOUBAO_MODEL_PRIORITY_3 = doubao-seed-2-0-pro-260215
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DOUBAO_MODEL_PRIORITY_3, 将影响后续 AI 调用
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：QWEN_API_KEY = sk-ad2062f8520c4ba08df7f3bf56cef384
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：QWEN_API_KEY, 将影响后续 AI 调用
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：HOMEBREW_PREFIX = /opt/homebrew
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：KMP_DUPLICATE_LIB_OK = True
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DOUBAO_MODEL_PRIORITY_2 = doubao-seed-2-0-mini-260215
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DOUBAO_MODEL_PRIORITY_2, 将影响后续 AI 调用
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：WERKZEUG_RUN_MAIN = true
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：LC_CTYPE = zh_CN.UTF-8
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：DOUBAO_AUTO_SELECT_MODEL = true
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：DOUBAO_AUTO_SELECT_MODEL, 将影响后续 AI 调用
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：HOMEBREW_REPOSITORY = /opt/homebrew
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：VIRTUAL_ENV = /Users/sgl/PycharmProjects/PythonProject/.venv
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：FLASK_APP = wechat_backend
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：ZHIPU_API_KEY = 504d64a0ad234557a79ad0dbcba3685c.ZVznXgPMIsnHbiNh
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：ZHIPU_API_KEY, 将影响后续 AI 调用
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYCHARM_DISPLAY_PORT = 63342
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：LOGNAME = sgl
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PWD = /Users/sgl/PycharmProjects/PythonProject
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYCHARM_UUID = e4e46fa1-c631-332e-af73-42d0eba466b4
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：INFOPATH = /opt/homebrew/share/info:
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYTHONPATH = /Users/sgl/PycharmProjects/PythonProject:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_plotly_backend:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_altair_backend:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_matplotlib_backend:/Applications/PyCharm.app/Contents/plugins/python-ce/helpers/pycharm_display
2026-02-26 03:02:27,543 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：KMP_INIT_AT_FORK = FALSE
2026-02-26 03:02:27,544 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SSH_AUTH_SOCK = /private/tmp/com.apple.launchd.WKPtXGnv4m/Listeners
2026-02-26 03:02:27,544 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：PYCHARM_HOSTED = 1
2026-02-26 03:02:27,544 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：ARK_API_KEY = 2a376e32-8877-4df8-9865-7eb3e99c9f92
2026-02-26 03:02:27,544 - wechat_backend.api - INFO - hot_reload_config.py:311 - on_ai_config_change() - AI 配置变更：ARK_API_KEY, 将影响后续 AI 调用
2026-02-26 03:02:27,544 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：SECRET_KEY = sgl@810SGl
2026-02-26 03:02:27,544 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：TMPDIR = /var/folders/m8/9lzgk90s02z276bclcvcvkg40000gn/T/
2026-02-26 03:02:27,544 - wechat_backend.api - INFO - hot_reload_config.py:155 - _notify_changes() - [HotReloadConfig] 配置变更：WECHAT_APP_SECRET = 407f8806a91703098645a9bca75bb27a
2026-02-26 03:02:27,544 - wechat_backend.api - INFO - hot_reload_config.py:140 - _load_config() - [HotReloadConfig] 配置重载完成，第 1 次
