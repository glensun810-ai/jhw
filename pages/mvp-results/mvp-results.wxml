<view class="results-container">
  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ç»“æœä¸­...</text>
  </view>

  <!-- ç»“æœå†…å®¹ -->
  <block wx:if="{{!loading}}">
    <!-- å¤´éƒ¨ -->
    <view class="header">
      <view class="brand-badge">AIè¯Šæ–­æŠ¥å‘Š</view>
      <text class="brand-name">{{brandName}}</text>
      <text class="subtitle">åŸºäºè±†åŒ…AIå¹³å°çš„å“ç‰Œåˆ†æ</text>
    </view>

    <!-- æ‘˜è¦å¡ç‰‡ -->
    <view class="summary-card">
      <view class="summary-item">
        <text class="summary-value">{{summary.totalQuestions}}</text>
        <text class="summary-label">é—®é¢˜æ€»æ•°</text>
      </view>
      <view class="summary-divider"></view>
      <view class="summary-item">
        <text class="summary-value">{{summary.completedQuestions}}</text>
        <text class="summary-label">æˆåŠŸå“åº”</text>
      </view>
      <view class="summary-divider"></view>
      <view class="summary-item">
        <text class="summary-value">{{summary.averageResponseLength}}</text>
        <text class="summary-label">å¹³å‡å­—æ•°</text>
      </view>
    </view>

    <!-- ç»“æœåˆ—è¡¨ -->
    <view class="results-section">
      <view class="section-title">è¯¦ç»†åˆ†æç»“æœ</view>
      
      <view class="result-list">
        <view class="result-card" wx:for="{{results}}" wx:key="id">
          <!-- é—®é¢˜å¤´éƒ¨ -->
          <view class="card-header">
            <view class="question-badge">Q{{index + 1}}</view>
            <text class="question-text">{{item.question}}</text>
          </view>
          
          <!-- AIå›ç­” -->
          <view class="response-block">
            <view class="response-header">
              <view class="platform-tag">
                <text class="platform-icon">ğŸ¤–</text>
                <text class="platform-name">{{item.platform}}</text>
              </view>
              <text class="response-time" wx:if="{{item.latency}}">{{item.latency}}ms</text>
            </view>
            
            <view class="response-content {{item.expanded ? 'expanded' : ''}}">
              <text class="response-text">{{item.response}}</text>
            </view>
            
            <!-- å±•å¼€/æ”¶èµ·æŒ‰é’®ï¼ˆå½“å†…å®¹è¾ƒé•¿æ—¶æ˜¾ç¤ºï¼‰ -->
            <view 
              class="expand-btn" 
              wx:if="{{item.response.length > 200}}"
              bindtap="toggleExpand"
              data-index="{{index}}"
            >
              <text>{{item.expanded ? 'æ”¶èµ·å†…å®¹' : 'å±•å¼€å…¨éƒ¨'}}</text>
              <text class="expand-icon">{{item.expanded ? 'â†‘' : 'â†“'}}</text>
            </view>
          </view>
          
          <!-- æ“ä½œæ  -->
          <view class="action-bar">
            <button 
              class="action-btn" 
              size="mini" 
              plain
              bindtap="copyResponse" 
              data-content="{{item.response}}"
            >
              <text class="btn-icon">ğŸ“‹</text>
              <text>å¤åˆ¶</text>
            </button>
          </view>
        </view>
      </view>
    </view>

    <!-- åº•éƒ¨æç¤º -->
    <view class="footer-tip">
      <text class="tip-text">ğŸ’¡ ä»¥ä¸Šä¸ºAIç”Ÿæˆçš„å“ç‰Œåˆ†æå†…å®¹ï¼Œä»…ä¾›å‚è€ƒ</text>
    </view>

    <!-- åº•éƒ¨æ“ä½œ -->
    <view class="footer-actions">
      <button class="back-btn" bindtap="goBack">è¿”å›é‡æ–°è¯Šæ–­</button>
      <button class="share-btn" open-type="share">åˆ†äº«ç»“æœ</button>
    </view>
  </block>
</view>
