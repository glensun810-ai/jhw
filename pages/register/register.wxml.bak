<view class="container">
  <!-- 注册头部 -->
  <view class="register-header">
    <image class="logo" src="/images/logo.png" mode="aspectFit" />
    <text class="title">账号注册</text>
    <text class="subtitle">创建您的品牌洞察平台账户</text>
  </view>

  <!-- 注册表单 -->
  <view class="register-form">
    <view class="input-group">
      <input class="input-field" type="number" placeholder="请输入手机号" value="{{phone}}" bindinput="onPhoneInput" />
    </view>
    <view class="input-group verify-code-group">
      <input class="input-field verify-code-input" type="text" placeholder="验证码" value="{{verificationCode}}" bindinput="onVerificationCodeInput" />
      <button class="verify-code-btn" bindtap="getVerificationCode" disabled="{{countdown > 0}}">
        <text>{{countdown > 0 ? countdown + 's后重发' : '获取验证码'}}</text>
      </button>
    </view>
    <view class="input-group">
      <input class="input-field" password="true" placeholder="设置密码" value="{{password}}" bindinput="onPasswordInput" />
    </view>
    <view class="input-group">
      <input class="input-field" password="true" placeholder="确认密码" value="{{confirmPassword}}" bindinput="onConfirmPasswordInput" />
    </view>
    <button class="register-btn" bindtap="onRegister">
      <text class="btn-text">注册</text>
    </button>
    <view class="login-tips">
      <text class="tips-text">注册即表示您同意</text>
      <text class="link-text" bindtap="showPrivacyAgreement">《隐私协议》</text>
      <text class="tips-text">和</text>
      <text class="link-text" bindtap="showUserAgreement">《用户协议》</text>
    </view>
  </view>

  <!-- 已有账号登录 -->
  <view class="login-link">
    <text class="tips-text">已有账号？</text>
    <text class="link-text" bindtap="goToLogin">立即登录</text>
  </view>

  <!-- 协议弹窗 -->
  <view class="modal-overlay" wx:if="{{showAgreementModal}}">
    <view class="agreement-modal">
      <view class="modal-header">
        <text class="modal-title">{{agreementTitle}}</text>
        <text class="close-btn" bindtap="hideAgreementModal">✕</text>
      </view>
      <scroll-view class="modal-content" scroll-y="true">
        <rich-text nodes="{{agreementContent}}"></rich-text>
      </scroll-view>
      <view class="modal-footer">
        <button class="modal-btn confirm-btn" bindtap="hideAgreementModal">确定</button>
      </view>
    </view>
  </view>
</view>