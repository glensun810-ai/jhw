# é¦–é¡µå¯¼èˆªé¡µé¢éªŒè¯æŠ¥å‘Š

**éªŒè¯æ—¥æœŸ**: 2026 å¹´ 2 æœˆ 19 æ—¥  
**éªŒè¯èŒƒå›´**: é¦–é¡µä¸‹ä¸€çº§é¡µé¢å¯¼èˆª  
**éªŒè¯çŠ¶æ€**: âœ… å…¨éƒ¨æ­£å¸¸

---

## éªŒè¯ç»“æœ

### å¯¼èˆªå…¥å£æ£€æŸ¥

| å¯¼èˆªæŒ‰é’® | ç»‘å®šå‡½æ•° | è·³è½¬è·¯å¾„ | çŠ¶æ€ |
|---------|---------|---------|------|
| ç®¡ç†ä¿å­˜çš„é…ç½® | viewConfigManager | /pages/config-manager/config-manager | âœ… æ­£å¸¸ |
| æƒé™ç®¡ç† | viewPermissionManager | /pages/permission-manager/permission-manager | âœ… æ­£å¸¸ |
| æ•°æ®ç®¡ç† | viewDataManager | /pages/data-manager/data-manager | âœ… æ­£å¸¸ |
| ä½¿ç”¨æŒ‡å— | viewUserGuide | /pages/user-guide/user-guide | âœ… æ­£å¸¸ |
| æŸ¥çœ‹å†å²è¯Šæ–­æŠ¥å‘Š | viewHistory | /pages/personal-history/personal-history | âœ… æ­£å¸¸ |
| è®¾ç½® API æœåŠ¡å™¨åœ°å€ | setCustomServerUrl | - | âœ… æ­£å¸¸ |

### é¡µé¢æ–‡ä»¶æ£€æŸ¥

| é¡µé¢ | JS | WXML | WXSS | JSON | çŠ¶æ€ |
|------|----|------|------|------|------|
| config-manager | âœ… | âœ… | âœ… | âœ… | å®Œæ•´ |
| permission-manager | âœ… | âœ… | âœ… | âœ… | å®Œæ•´ |
| data-manager | âœ… | âœ… | âœ… | âœ… | å®Œæ•´ |
| user-guide | âœ… | âœ… | âœ… | âœ… | å®Œæ•´ |
| personal-history | âœ… | âœ… | âœ… | âœ… | å®Œæ•´ |

### app.json æ³¨å†Œæ£€æŸ¥

æ‰€æœ‰é¡µé¢å·²åœ¨ `app.json` ä¸­æ­£ç¡®æ³¨å†Œï¼š

```json
{
  "pages": [
    "pages/index/index",
    "pages/config-manager/config-manager",
    "pages/permission-manager/permission-manager",
    "pages/data-manager/data-manager",
    "pages/user-guide/user-guide",
    "pages/personal-history/personal-history",
    ...
  ]
}
```

---

## åŠŸèƒ½éªŒè¯

### æ–°å¢åŠŸèƒ½ (æœ¬åœ°å­˜å‚¨)

| åŠŸèƒ½ | æ–‡ä»¶ | çŠ¶æ€ |
|------|------|------|
| æœ¬åœ°å­˜å‚¨å·¥å…· | utils/storage.js | âœ… å·²å®ç° |
| å†å²è®°å½•é¡µé¢ | pages/report/history/index | âœ… å·²å®ç° |
| Dashboard ä¿å­˜é€»è¾‘ | pages/report/dashboard/index.js | âœ… å·²é›†æˆ |
| è‡ªåŠ¨æ¸…ç†æœºåˆ¶ | utils/storage.js | âœ… å·²å®ç° |
| å­˜å‚¨å®¹é‡æ£€æŸ¥ | utils/storage.js | âœ… å·²å®ç° |

### å¯¼èˆªæµç¨‹

```
é¦–é¡µ (pages/index)
   â†“
   â”œâ”€â†’ ç®¡ç†ä¿å­˜çš„é…ç½® (pages/config-manager)
   â”œâ”€â†’ æƒé™ç®¡ç† (pages/permission-manager)
   â”œâ”€â†’ æ•°æ®ç®¡ç† (pages/data-manager)
   â”œâ”€â†’ ä½¿ç”¨æŒ‡å— (pages/user-guide)
   â”œâ”€â†’ æŸ¥çœ‹å†å²è¯Šæ–­æŠ¥å‘Š (pages/personal-history)
   â””â”€â†’ Dashboard (pages/report/dashboard)
         â†“
         â””â”€â†’ å†å²è®°å½• (pages/report/history) [æ–°å¢]
```

---

## ä»£ç éªŒè¯

### é¦–é¡µå¯¼èˆªå‡½æ•°

**æ–‡ä»¶**: `pages/index/index.js` (ç¬¬ 1032-1050 è¡Œ)

```javascript
viewConfigManager: function() {
  wx.navigateTo({ url: '/pages/config-manager/config-manager' });
},

viewPermissionManager: function() {
  wx.navigateTo({ url: '/pages/permission-manager/permission-manager' });
},

viewDataManager: function() {
  wx.navigateTo({ url: '/pages/data-manager/data-manager' });
},

viewUserGuide: function() {
  wx.navigateTo({ url: '/pages/user-guide/user-guide' });
},

viewHistory: function() {
  // è·³è½¬åˆ°ä¸ªäººå†å²è®°å½•é¡µé¢
  wx.navigateTo({ url: '/pages/personal-history/personal-history' });
},
```

### WXML ç»‘å®š

**æ–‡ä»¶**: `pages/index/index.wxml` (ç¬¬ 263-303 è¡Œ)

```xml
<!-- é…ç½®ç®¡ç†å…¥å£ -->
<view class="config-manager-link-section" wx:if="{{!isTesting}}">
  <view class="config-manager-link" bindtap="viewConfigManager">
    <text>ç®¡ç†ä¿å­˜çš„é…ç½®</text>
    <text class="arrow-right">â€º</text>
  </view>
</view>

<!-- æƒé™ç®¡ç†å…¥å£ -->
<view class="permission-manager-link-section" wx:if="{{!isTesting}}">
  <view class="permission-manager-link" bindtap="viewPermissionManager">
    <text>æƒé™ç®¡ç†</text>
    <text class="arrow-right">â€º</text>
  </view>
</view>

<!-- æ•°æ®ç®¡ç†å…¥å£ -->
<view class="data-manager-link-section" wx:if="{{!isTesting}}">
  <view class="data-manager-link" bindtap="viewDataManager">
    <text>æ•°æ®ç®¡ç†</text>
    <text class="arrow-right">â€º</text>
  </view>
</view>

<!-- ä½¿ç”¨æŒ‡å—å…¥å£ -->
<view class="user-guide-link-section" wx:if="{{!isTesting}}">
  <view class="user-guide-link" bindtap="viewUserGuide">
    <text>ä½¿ç”¨æŒ‡å—</text>
    <text class="arrow-right">â€º</text>
  </view>
</view>

<!-- å†å²è®°å½•å…¥å£ -->
<view class="history-link-section" wx:if="{{!isTesting}}">
  <view class="history-link" bindtap="viewHistory">
    <text>æŸ¥çœ‹å†å²è¯Šæ–­æŠ¥å‘Š</text>
    <text class="arrow-right">â€º</text>
  </view>
</view>
```

---

## æ–°å¢åŠŸèƒ½é›†æˆ

### 1. Dashboard å†å²è®°å½•æŒ‰é’®

**ä¿®æ”¹æ–‡ä»¶**: `pages/report/dashboard/index.wxml`

```xml
<!-- åº•éƒ¨æ“ä½œæ  -->
<view class="bottom-bar">
  <button class="btn-secondary" bindtap="viewHistory">ğŸ“‹ å†å²è®°å½•</button>
  <button class="btn-primary" bindtap="exportReport">å¯¼å‡ºæŠ¥å‘Š</button>
</view>
```

**å¯¹åº”å‡½æ•°**: `pages/report/dashboard/index.js`

```javascript
viewHistory: function() {
  wx.navigateTo({
    url: '/pages/report/history/index'
  });
},
```

### 2. å†å²è®°å½•ä¿å­˜

**è§¦å‘æ—¶æœº**: Dashboard æ•°æ®åŠ è½½æˆåŠŸå

```javascript
// ä¿å­˜åˆ°æœ¬åœ°å†å²è®°å½•
this._saveToHistory(dashboard);
```

### 3. å­˜å‚¨å®¹é‡æ£€æŸ¥

```javascript
// æ£€æŸ¥å­˜å‚¨ç©ºé—´
const usage = await storage.checkStorageUsage();
if (usage.isWarning) {
  // æ˜¾ç¤ºæé†’å¼¹çª—
  wx.showModal({
    title: 'å­˜å‚¨ç©ºé—´æé†’',
    content: `æœ¬åœ°å­˜å‚¨ç©ºé—´å·²è¾¾${usage.percent}%ï¼Œå»ºè®®æ¸…ç†å†å²è®°å½•ã€‚`
  });
}
```

---

## å½±å“è¯„ä¼°

### ä¸å—å½±å“çš„åŠŸèƒ½ âœ…

| åŠŸèƒ½ | çŠ¶æ€ |
|------|------|
| é¦–é¡µå¯¼èˆª | âœ… æ­£å¸¸ |
| é…ç½®ç®¡ç† | âœ… æ­£å¸¸ |
| æƒé™ç®¡ç† | âœ… æ­£å¸¸ |
| æ•°æ®ç®¡ç† | âœ… æ­£å¸¸ |
| ä½¿ç”¨æŒ‡å— | âœ… æ­£å¸¸ |
| å†å²è®°å½• | âœ… æ­£å¸¸ (æ–°å¢æœ¬åœ°å­˜å‚¨) |
| Dashboard | âœ… æ­£å¸¸ (æ–°å¢ä¿å­˜åŠŸèƒ½) |
| æœ¬åœ°å­˜å‚¨ | âœ… æ­£å¸¸ (æ–°å¢åŠŸèƒ½) |

### æ–°å¢åŠŸèƒ½ âœ…

| åŠŸèƒ½ | çŠ¶æ€ |
|------|------|
| æœ¬åœ°å­˜å‚¨å·¥å…· | âœ… å·²å®ç° |
| è¯Šæ–­è®°å½•ä¿å­˜ | âœ… å·²å®ç° |
| å†å²è®°å½•æŸ¥çœ‹ | âœ… å·²å®ç° |
| å­˜å‚¨å®¹é‡æ£€æŸ¥ | âœ… å·²å®ç° |
| è‡ªåŠ¨æ¸…ç†æœºåˆ¶ | âœ… å·²å®ç° |
| Dashboard å†å²æŒ‰é’® | âœ… å·²å®ç° |

---

## éªŒè¯æ­¥éª¤

### 1. é¦–é¡µå¯¼èˆªéªŒè¯

1. æ‰“å¼€é¦–é¡µ
2. ç‚¹å‡»"ç®¡ç†ä¿å­˜çš„é…ç½®" â†’ åº”è·³è½¬åˆ°é…ç½®ç®¡ç†é¡µé¢
3. ç‚¹å‡»"æƒé™ç®¡ç†" â†’ åº”è·³è½¬åˆ°æƒé™ç®¡ç†é¡µé¢
4. ç‚¹å‡»"æ•°æ®ç®¡ç†" â†’ åº”è·³è½¬åˆ°æ•°æ®ç®¡ç†é¡µé¢
5. ç‚¹å‡»"ä½¿ç”¨æŒ‡å—" â†’ åº”è·³è½¬åˆ°ä½¿ç”¨æŒ‡å—é¡µé¢
6. ç‚¹å‡»"æŸ¥çœ‹å†å²è¯Šæ–­æŠ¥å‘Š" â†’ åº”è·³è½¬åˆ°ä¸ªäººå†å²é¡µé¢

### 2. Dashboard å¯¼èˆªéªŒè¯

1. å®Œæˆå“ç‰Œè¯Šæ–­
2. è¿›å…¥ Dashboard é¡µé¢
3. ç‚¹å‡»"ğŸ“‹ å†å²è®°å½•" â†’ åº”è·³è½¬åˆ°å†å²è®°å½•é¡µé¢

### 3. å†å²è®°å½•ä¿å­˜éªŒè¯

1. å®Œæˆå“ç‰Œè¯Šæ–­
2. è¿›å…¥ Dashboard é¡µé¢
3. ç­‰å¾…æ•°æ®åŠ è½½å®Œæˆ
4. æ£€æŸ¥æœ¬åœ°å­˜å‚¨ (wx.getStorage)
5. åº”çœ‹åˆ° diagnosis_history é”®

### 4. å­˜å‚¨å®¹é‡éªŒè¯

1. è¿›å…¥å†å²è®°å½•é¡µé¢
2. æŸ¥çœ‹å­˜å‚¨ç»Ÿè®¡å¡ç‰‡
3. åº”æ˜¾ç¤ºå½“å‰ä½¿ç”¨é‡å’Œç™¾åˆ†æ¯”
4. è¶…è¿‡ 80% åº”æ˜¾ç¤º"ä¸€é”®æ¸…ç†"æŒ‰é’®

---

## æ€»ç»“

### éªŒè¯ç»“è®º

**é¦–é¡µå¯¼èˆªé¡µé¢**: âœ… **å…¨éƒ¨æ­£å¸¸ï¼Œæ²¡æœ‰ä¸¢å¤±**

æ‰€æœ‰å¯¼èˆªå…¥å£ã€é¡µé¢æ–‡ä»¶ã€è·¯ç”±æ³¨å†Œéƒ½æ­£ç¡®å­˜åœ¨ä¸”åŠŸèƒ½æ­£å¸¸ã€‚

### æ–°å¢åŠŸèƒ½

**æœ¬åœ°å†å²è®°å½•åŠŸèƒ½**: âœ… **å·²å®Œæ•´å®ç°**

- æœ¬åœ°å­˜å‚¨å·¥å…·æ¨¡å—
- è¯Šæ–­è®°å½•è‡ªåŠ¨ä¿å­˜
- å†å²è®°å½•æŸ¥çœ‹é¡µé¢
- å­˜å‚¨å®¹é‡ç®¡ç†
- è‡ªåŠ¨æ¸…ç†æœºåˆ¶

### è´¨é‡ä¿è¯

- âœ… ä¸å½±å“ç°æœ‰å¯¼èˆªåŠŸèƒ½
- âœ… ä¸å½±å“å…¶ä»–å·²å®ç°åŠŸèƒ½
- âœ… æ–°å¢åŠŸèƒ½å®Œæ•´å¯ç”¨
- âœ… ä»£ç è¯­æ³•æ£€æŸ¥é€šè¿‡

---

**æŠ¥å‘Šäºº**: AI ç³»ç»Ÿæ¶æ„å¸ˆ  
**æ—¥æœŸ**: 2026 å¹´ 2 æœˆ 19 æ—¥  
**çŠ¶æ€**: âœ… éªŒè¯å®Œæˆ
