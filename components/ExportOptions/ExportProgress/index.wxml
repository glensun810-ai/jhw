<!-- å¯¼å‡ºè¿›åº¦æŒ‡ç¤ºå™¨æ¨¡æ¿ -->
<view class="export-progress">
  <!-- ç”Ÿæˆä¸­çŠ¶æ€ -->
  <view wx:if="{{generating}}" class="generating-state">
    <view class="status-icon">ğŸ”„</view>
    <view class="status-message">{{statusMessage || 'æ­£åœ¨ç”ŸæˆæŠ¥å‘Š...'}}</view>
    
    <!-- è¿›åº¦æ¡ -->
    <view class="progress-bar">
      <view class="progress-track">
        <view class="progress-fill" style="width: {{progress}}%"></view>
      </view>
      <view class="progress-text">{{progress}}%</view>
    </view>

    <!-- å–æ¶ˆæŒ‰é’® -->
    <button class="cancel-btn" bindtap="onCancel">å–æ¶ˆç”Ÿæˆ</button>
  </view>

  <!-- å®ŒæˆçŠ¶æ€ -->
  <view wx:elif="{{progress === 100}}" class="completed-state">
    <view class="status-icon">âœ…</view>
    <view class="status-message">æŠ¥å‘Šç”ŸæˆæˆåŠŸ</view>
    
    <view class="action-buttons">
      <button class="view-btn" bindtap="viewResult">æŸ¥çœ‹æŠ¥å‘Š</button>
      <button class="retry-btn" bindtap="retry">é‡æ–°ç”Ÿæˆ</button>
    </view>
  </view>

  <!-- å¤±è´¥çŠ¶æ€ -->
  <view wx:if="{{!generating && progress < 100 && statusMessage.includes('å¤±è´¥')}}" class="error-state">
    <view class="status-icon">âŒ</view>
    <view class="status-message">{{statusMessage}}</view>
    
    <button class="retry-btn" bindtap="retry">é‡è¯•</button>
  </view>
</view>
