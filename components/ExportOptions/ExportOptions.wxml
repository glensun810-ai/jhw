<!-- 导出选项主组件模板 -->
<view class="export-options" wx:if="{{visible}}">
  <!-- 遮罩层 -->
  <view class="overlay" bindtap="close"></view>

  <!-- 内容区域 -->
  <view class="content">
    <!-- 头部 -->
    <view class="header">
      <view class="title">导出报告</view>
      <view class="close-btn" bindtap="close">✕</view>
    </view>

    <!-- 格式选择器 -->
    <export-format-selector
      format="{{format}}"
      level="{{level}}"
      selectedSections="{{selectedSections}}"
      bind:formatchange="onFormatChange"
      bind:levelchange="onLevelChange"
      bind:sectionchange="onSectionChange"
    />

    <!-- 进度指示器 -->
    <export-progress
      generating="{{generating}}"
      progress="{{progress}}"
      statusMessage="{{statusMessage}}"
      isAsync="{{isAsync}}"
      taskId="{{taskId}}"
      bind:cancel="onCancel"
      bind:viewresult="onViewResult"
      bind:retry="onRetry"
    />

    <!-- 导出按钮 -->
    <button 
      wx:if="{{!generating && progress < 100}}" 
      class="export-btn" 
      bindtap="startExport"
    >
      开始生成
    </button>
  </view>
</view>
