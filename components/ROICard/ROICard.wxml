<!--components/ROICard/ROICard.wxml-->
<!--
  P0 çº§ç©ºç¼ºä¿®å¤ï¼šROI æŒ‡æ ‡å¡ç‰‡ç»„ä»¶
  
  å±•ç¤ºå†…å®¹:
  - æ›å…‰ ROI
  - æƒ…æ„Ÿ ROI
  - æ’å ROI
  - ä¼°ç®—ä»·å€¼
-->
<view class="roi-card" bind:tap="onCardTap">
  <!-- å¡ç‰‡å¤´éƒ¨ -->
  <view class="roi-card__header">
    <view class="roi-card__title">
      <text class="roi-card__icon">ğŸ“Š</text>
      <text class="roi-card__title-text">{{title}}</text>
    </view>
    <view class="roi-card__subtitle" wx:if="{{subtitle}}">{{subtitle}}</view>
  </view>

  <!-- ROI æŒ‡æ ‡ç½‘æ ¼ -->
  <view class="roi-card__grid">
    <!-- æ›å…‰ ROI -->
    <view class="roi-card__item">
      <view class="roi-card__item-label">æ›å…‰ ROI</view>
      <view class="roi-card__item-value {{roiData.exposure_roi >= benchmarks.exposure_roi_industry_avg ? 'positive' : 'neutral'}}">
        {{roiData.exposure_roi.toFixed(1)}}x
      </view>
      <view class="roi-card__item-delta" wx:if="{{showDelta}}">
        <text class="roi-card__delta-icon">{{roiData.exposure_roi >= benchmarks.exposure_roi_industry_avg ? 'â†‘' : 'â†“'}}</text>
        <text class="roi-card__delta-text">
          {{roiData.exposure_roi >= benchmarks.exposure_roi_industry_avg ? 'ä¼˜äº' : 'ä½äº'}}è¡Œä¸š {{benchmarks.exposure_roi_industry_avg}}x
        </text>
      </view>
    </view>

    <!-- æƒ…æ„Ÿ ROI -->
    <view class="roi-card__item">
      <view class="roi-card__item-label">æƒ…æ„Ÿ ROI</view>
      <view class="roi-card__item-value {{roiData.sentiment_roi >= benchmarks.sentiment_roi_industry_avg ? 'positive' : 'neutral'}}">
        {{roiData.sentiment_roi.toFixed(1)}}x
      </view>
      <view class="roi-card__item-delta" wx:if="{{showDelta}}">
        <text class="roi-card__delta-icon">{{roiData.sentiment_roi >= benchmarks.sentiment_roi_industry_avg ? 'â†‘' : 'â†“'}}</text>
        <text class="roi-card__delta-text">
          {{roiData.sentiment_roi >= benchmarks.sentiment_roi_industry_avg ? 'ä¼˜äº' : 'ä½äº'}}è¡Œä¸š {{benchmarks.sentiment_roi_industry_avg}}x
        </text>
      </view>
    </view>

    <!-- æ’å ROI -->
    <view class="roi-card__item">
      <view class="roi-card__item-label">æ’å ROI</view>
      <view class="roi-card__item-value {{roiData.ranking_roi >= benchmarks.ranking_roi_industry_avg ? 'positive' : 'neutral'}}">
        {{roiData.ranking_roi.toFixed(0)}}
      </view>
      <view class="roi-card__item-delta" wx:if="{{showDelta}}">
        <text class="roi-card__delta-icon">{{roiData.ranking_roi >= benchmarks.ranking_roi_industry_avg ? 'â†‘' : 'â†“'}}</text>
        <text class="roi-card__delta-text">
          {{roiData.ranking_roi >= benchmarks.ranking_roi_industry_avg ? 'ä¼˜äº' : 'ä½äº'}}è¡Œä¸š {{benchmarks.ranking_roi_industry_avg}}
        </text>
      </view>
    </view>

    <!-- ä¼°ç®—ä»·å€¼ -->
    <view class="roi-card__item roi-card__item--highlight">
      <view class="roi-card__item-label">ä¼°ç®—ä»·å€¼</view>
      <view class="roi-card__item-value roi-card__item-value--large">
        Â¥{{formatValue(roiData.estimated_value)}}
      </view>
      <view class="roi-card__item-unit">å…ƒ</view>
    </view>
  </view>

  <!-- å½±å“åŠ›è¯„åˆ† (å¯é€‰) -->
  <view class="roi-card__impact" wx:if="{{showImpact}}">
    <view class="roi-card__impact-title">å½±å“åŠ›è¯„åˆ†</view>
    <view class="roi-card__impact-grid">
      <view class="roi-card__impact-item">
        <view class="roi-card__impact-value">{{impactScores.authority_impact.toFixed(0)}}</view>
        <view class="roi-card__impact-label">æƒå¨æ€§</view>
      </view>
      <view class="roi-card__impact-item">
        <view class="roi-card__impact-value">{{impactScores.visibility_impact.toFixed(0)}}</view>
        <view class="roi-card__impact-label">å¯è§åº¦</view>
      </view>
      <view class="roi-card__impact-item">
        <view class="roi-card__impact-value">{{impactScores.sentiment_impact.toFixed(0)}}</view>
        <view class="roi-card__impact-label">æƒ…æ„Ÿ</view>
      </view>
      <view class="roi-card__impact-item roi-card__impact-item--total">
        <view class="roi-card__impact-value roi-card__impact-value--total">{{impactScores.overall_impact.toFixed(0)}}</view>
        <view class="roi-card__impact-label">ç»¼åˆ</view>
      </view>
    </view>
  </view>

  <!-- æŸ¥çœ‹è¯¦æƒ…æŒ‰é’® -->
  <view class="roi-card__footer" wx:if="{{showDetail}}">
    <view class="roi-card__detail-btn">
      <text>æŸ¥çœ‹è¯¦æƒ…</text>
      <text class="roi-card__arrow">â€º</text>
    </view>
  </view>
</view>
